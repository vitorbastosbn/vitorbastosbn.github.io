function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,s=u}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},yLV6:function(e,t,n){var r;!function(i,s,a,o){"use strict";var u,l=["","webkit","Moz","MS","ms","o"],c=s.createElement("div"),h="function",p=Math.round,f=Math.abs,v=Date.now;function d(e,t,n){return setTimeout(E(e,n),t)}function y(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==o)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function g(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=i.console&&(i.console.warn||i.console.log);return s&&s.call(i.console,r,n),e.apply(this,arguments)}}u="function"!=typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==o&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var _=g((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===o)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),k=g((function(e,t){return _(e,t,!0)}),"merge","Use `assign`.");function C(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&u(r,n)}function E(e,t){return function(){return e.apply(t,arguments)}}function w(e,t){return typeof e==h?e.apply(t&&t[0]||o,t):e}function x(e,t){return e===o?t:e}function b(e,t,n){m(P(t),(function(t){e.addEventListener(t,n,!1)}))}function S(e,t,n){m(P(t),(function(t){e.removeEventListener(t,n,!1)}))}function T(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function A(e,t){return e.indexOf(t)>-1}function P(e){return e.trim().split(/\s+/g)}function N(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function I(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){for(var r=[],i=[],s=0;s<e.length;){var a=t?e[s][t]:e[s];N(i,a)<0&&r.push(e[s]),i[s]=a,s++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function O(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),s=0;s<l.length;){if((r=(n=l[s])?n+i:t)in e)return r;s++}return o}var R=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var L="ontouchstart"in i,F=O(i,"PointerEvent")!==o,V=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,U=1,H=2,B=4,q=8,W=1,z=2,Q=4,X=8,K=16,Y=z|Q,G=X|K,Z=Y|G,J=["x","y"],$=["clientX","clientY"];function ee(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){w(e.options.enable,[e])&&n.handler(t)},this.init()}function te(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,s=t&U&&r-i==0,a=t&(B|q)&&r-i==0;n.isFirst=!!s,n.isFinal=!!a,s&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=ne(t)),i>1&&!n.firstMultiple?n.firstMultiple=ne(t):1===i&&(n.firstMultiple=!1);var s=n.firstInput,a=n.firstMultiple,u=a?a.center:s.center,l=t.center=re(r);t.timeStamp=v(),t.deltaTime=t.timeStamp-s.timeStamp,t.angle=oe(u,l),t.distance=ae(u,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},s=e.prevInput||{};t.eventType!==U&&s.eventType!==B||(i=e.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=se(t.deltaX,t.deltaY);var c,h,p=ie(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=p.x,t.overallVelocityY=p.y,t.overallVelocity=f(p.x)>f(p.y)?p.x:p.y,t.scale=a?(c=a.pointers,ae((h=r)[0],h[1],$)/ae(c[0],c[1],$)):1,t.rotation=a?function(e,t){return oe(t[1],t[0],$)+oe(e[1],e[0],$)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,s,a=e.lastInterval||t,u=t.timeStamp-a.timeStamp;if(t.eventType!=q&&(u>j||a.velocity===o)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,h=ie(u,l,c);r=h.x,i=h.y,n=f(h.x)>f(h.y)?h.x:h.y,s=se(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,s=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=s}(n,t);var d=e.element;T(t.srcEvent.target,d)&&(d=t.srcEvent.target),t.target=d}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ne(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:p(e.pointers[n].clientX),clientY:p(e.pointers[n].clientY)},n++;return{timeStamp:v(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:p(e[0].clientX),y:p(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:p(n/t),y:p(r/t)}}function ie(e,t,n){return{x:t/e||0,y:n/e||0}}function se(e,t){return e===t?W:f(e)>=f(t)?e<0?z:Q:t<0?X:K}function ae(e,t,n){n||(n=J);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function oe(e,t,n){return n||(n=J),180*Math.atan2(t[n[1]]-e[n[1]],t[n[0]]-e[n[0]])/Math.PI}ee.prototype={handler:function(){},init:function(){this.evEl&&b(this.element,this.evEl,this.domHandler),this.evTarget&&b(this.target,this.evTarget,this.domHandler),this.evWin&&b(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(D(this.element),this.evWin,this.domHandler)}};var ue={mousedown:U,mousemove:H,mouseup:B},le="mousedown",ce="mousemove mouseup";function he(){this.evEl=le,this.evWin=ce,this.pressed=!1,ee.apply(this,arguments)}C(he,ee,{handler:function(e){var t=ue[e.type];t&U&&0===e.button&&(this.pressed=!0),t&H&&1!==e.which&&(t=B),this.pressed&&(t&B&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var pe={pointerdown:U,pointermove:H,pointerup:B,pointercancel:q,pointerout:q},fe={2:"touch",3:"pen",4:"mouse",5:"kinect"},ve="pointerdown",de="pointermove pointerup pointercancel";function ye(){this.evEl=ve,this.evWin=de,ee.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(ve="MSPointerDown",de="MSPointerMove MSPointerUp MSPointerCancel"),C(ye,ee,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=pe[r],s=fe[e.pointerType]||e.pointerType,a="touch"==s,o=N(t,e.pointerId,"pointerId");i&U&&(0===e.button||a)?o<0&&(t.push(e),o=t.length-1):i&(B|q)&&(n=!0),o<0||(t[o]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:s,srcEvent:e}),n&&t.splice(o,1))}});var me={touchstart:U,touchmove:H,touchend:B,touchcancel:q},ge="touchstart",_e="touchstart touchmove touchend touchcancel";function ke(){this.evTarget=ge,this.evWin=_e,this.started=!1,ee.apply(this,arguments)}function Ce(e,t){var n=I(e.touches),r=I(e.changedTouches);return t&(B|q)&&(n=M(n.concat(r),"identifier",!0)),[n,r]}C(ke,ee,{handler:function(e){var t=me[e.type];if(t===U&&(this.started=!0),this.started){var n=Ce.call(this,e,t);t&(B|q)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Ee={touchstart:U,touchmove:H,touchend:B,touchcancel:q},we="touchstart touchmove touchend touchcancel";function xe(){this.evTarget=we,this.targetIds={},ee.apply(this,arguments)}function be(e,t){var n=I(e.touches),r=this.targetIds;if(t&(U|H)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,s,a=I(e.changedTouches),o=[],u=this.target;if(s=n.filter((function(e){return T(e.target,u)})),t===U)for(i=0;i<s.length;)r[s[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&o.push(a[i]),t&(B|q)&&delete r[a[i].identifier],i++;return o.length?[M(s.concat(o),"identifier",!0),o]:void 0}C(xe,ee,{handler:function(e){var t=Ee[e.type],n=be.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var Se=2500,Te=25;function Ae(){ee.apply(this,arguments);var e=E(this.handler,this);this.touch=new xe(this.manager,e),this.mouse=new he(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Pe(e,t){e&U?(this.primaryTouch=t.changedPointers[0].identifier,Ne.call(this,t)):e&(B|q)&&Ne.call(this,t)}function Ne(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),Se)}}function Ie(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],s=Math.abs(t-i.x),a=Math.abs(n-i.y);if(s<=Te&&a<=Te)return!0}return!1}C(Ae,ee,{handler:function(e,t,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)Pe.call(this,t,n);else if(r&&Ie.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Me=O(c.style,"touchAction"),Oe=Me!==o,Re=function(){if(!Oe)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function De(e,t){this.manager=e,this.set(t)}De.prototype={set:function(e){"compute"==e&&(e=this.compute()),Oe&&this.manager.element.style&&Re[e]&&(this.manager.element.style[Me]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){w(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(A(e,"none"))return"none";var t=A(e,"pan-x"),n=A(e,"pan-y");return t&&n?"none":t||n?t?"pan-x":"pan-y":A(e,"manipulation")?"manipulation":"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=A(r,"none")&&!Re.none,s=A(r,"pan-y")&&!Re["pan-y"],a=A(r,"pan-x")&&!Re["pan-x"];if(i&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;if(!a||!s)return i||s&&n&Y||a&&n&G?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Le=1,Fe=2,Ve=4,je=8,Ue=je,He=16;function Be(e){this.options=u({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=x(this.options.enable,!0),this.state=Le,this.simultaneous={},this.requireFail=[]}function qe(e){return e&He?"cancel":e&je?"end":e&Ve?"move":e&Fe?"start":""}function We(e){return e==K?"down":e==X?"up":e==z?"left":e==Q?"right":""}function ze(e,t){var n=t.manager;return n?n.get(e):e}function Qe(){Be.apply(this,arguments)}function Xe(){Qe.apply(this,arguments),this.pX=null,this.pY=null}function Ke(){Qe.apply(this,arguments)}function Ye(){Be.apply(this,arguments),this._timer=null,this._input=null}function Ge(){Qe.apply(this,arguments)}function Ze(){Qe.apply(this,arguments)}function Je(){Be.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=x(t.recognizers,$e.defaults.preset),new et(e,t)}function et(e,t){var n;this.options=u({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?ye:V?xe:L?Ae:he))(n,te),this.touchAction=new De(this,this.options.touchAction),tt(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,s){n=O(r.style,s),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Be.prototype={defaults:{},set:function(e){return u(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(y(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ze(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return y(e,"dropRecognizeWith",this)?this:(e=ze(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(y(e,"requireFailure",this))return this;var t=this.requireFail;return-1===N(t,e=ze(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(y(e,"dropRequireFailure",this))return this;e=ze(e,this);var t=N(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<je&&r(t.options.event+qe(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=je&&r(t.options.event+qe(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Le)))return!1;e++}return!0},recognize:function(e){var t=u({},e);if(!w(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(Ue|He|32)&&(this.state=Le),this.state=this.process(t),this.state&(Fe|Ve|je|He)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},C(Qe,Be,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=t&(Fe|Ve),i=this.attrTest(e);return r&&(n&q||!i)?t|He:r||i?n&B?t|je:t&Fe?t|Ve:Fe:32}}),C(Xe,Qe,{defaults:{event:"pan",threshold:10,pointers:1,direction:Z},getTouchAction:function(){var e=this.options.direction,t=[];return e&Y&&t.push("pan-y"),e&G&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,s=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Y?(i=0===s?W:s<0?z:Q,n=s!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?W:a<0?X:K,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Qe.prototype.attrTest.call(this,e)&&(this.state&Fe||!(this.state&Fe)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=We(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),C(Ke,Qe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&Fe)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),C(Ye,Be,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(B|q)&&!i)this.reset();else if(e.eventType&U)this.reset(),this._timer=d((function(){this.state=Ue,this.tryEmit()}),t.time,this);else if(e.eventType&B)return Ue;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===Ue&&(e&&e.eventType&B?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=v(),this.manager.emit(this.options.event,this._input)))}}),C(Ge,Qe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&Fe)}}),C(Ze,Qe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Y|G,pointers:1},getTouchAction:function(){return Xe.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Y|G)?t=e.overallVelocity:n&Y?t=e.overallVelocityX:n&G&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&e.eventType&B},emit:function(e){var t=We(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),C(Je,Be,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=B)return this.failTimeout();var s=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ae(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&s?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=Ue,this.tryEmit()}),t.interval,this),Fe):Ue}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Ue&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Ge,{enable:!1}],[Ke,{enable:!1},["rotate"]],[Ze,{direction:Y}],[Xe,{direction:Y},["swipe"]],[Je],[Je,{event:"doubletap",taps:2},["tap"]],[Ye]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},et.prototype={set:function(e){return u(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&Ue)&&(i=t.curRecognizer=null);for(var s=0;s<r.length;)n=r[s],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(Fe|Ve|je)&&(i=t.curRecognizer=n),s++}},get:function(e){if(e instanceof Be)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(y(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(y(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=N(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var n=this.handlers;return m(P(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==o){var n=this.handlers;return m(P(e),(function(e){t?n[e]&&n[e].splice(N(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=s.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u($e,{INPUT_START:U,INPUT_MOVE:H,INPUT_END:B,INPUT_CANCEL:q,STATE_POSSIBLE:Le,STATE_BEGAN:Fe,STATE_CHANGED:Ve,STATE_ENDED:je,STATE_RECOGNIZED:Ue,STATE_CANCELLED:He,STATE_FAILED:32,DIRECTION_NONE:W,DIRECTION_LEFT:z,DIRECTION_RIGHT:Q,DIRECTION_UP:X,DIRECTION_DOWN:K,DIRECTION_HORIZONTAL:Y,DIRECTION_VERTICAL:G,DIRECTION_ALL:Z,Manager:et,Input:ee,TouchAction:De,TouchInput:xe,MouseInput:he,PointerEventInput:ye,TouchMouseInput:Ae,SingleTouchInput:ke,Recognizer:Be,AttrRecognizer:Qe,Tap:Je,Pan:Xe,Swipe:Ze,Pinch:Ke,Rotate:Ge,Press:Ye,on:b,off:S,each:m,merge:k,extend:_,assign:u,inherit:C,bindFn:E,prefixed:O}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=$e,(r=(function(){return $e}).call(t,n,t,e))===o||(e.exports=r)}(window,document)},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t),n("yLV6");var i=!1,s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}))}var o={closed:!0,next:function(e){},error:function(e){if(s.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function l(e){return null!==e&&"object"==typeof e}function c(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var h,p=c,f=((h=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,s=this._unsubscribe,a=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var o=-1,c=i?i.length:0;n;)n.remove(this),n=++o<c&&i[o]||null;if(r(s))try{s.call(this)}catch(f){t=!0,e=f instanceof p?v(f.errors):[f]}if(u(a))for(o=-1,c=a.length;++o<c;){var h=a[o];if(l(h))try{h.unsubscribe()}catch(f){t=!0,e=e||[],f instanceof p?e=e.concat(v(f.errors)):e.push(f)}}if(t)throw new p(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function v(e){return e.reduce((function(e,t){return e.concat(t instanceof p?t.errors:t)}),[])}var d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),y=function(e){function t(e,n,r){var i;switch(_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=o;break;case 1:if(!e){i.destination=o;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new m(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new m(_assertThisInitialized(i),e,n,r)}return i}return _inherits(t,e),_createClass(t,[{key:d,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i}}]),t}(f),m=function(e){function t(e,n,i,s){var a,u;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var l=_assertThisInitialized(a);return r(n)?u=n:n&&(u=n.next,i=n.error,s=n.complete,n!==o&&(r((l=Object.create(n)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=l,a._next=u,a._error=i,a._complete=s,a}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=s.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(y),g="function"==typeof Symbol&&Symbol.observable||"@@observable";function _(){}var k,C=((k=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof y)return e;if(e[d])return e[d]()}return e||t||n?new y(e,t,n):new y(o)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){s.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof y?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=E(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:g,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:((r=t)?1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)}:_)(this);var r}},{key:"toPromise",value:function(e){var t=this;return new(e=E(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new k(e)},k);function E(e){if(e||(e=s.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function w(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}w.prototype=Object.create(Error.prototype);var x,b=w,S=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,r.subscriber=n,r.closed=!1,r}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(f),T=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(y),A=((x=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:d,value:function(){return new T(this)}},{key:"lift",value:function(e){var t=new P(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new b;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new b;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new b;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new b;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new b;return this.hasError?(e.error(this.thrownError),f.EMPTY):this.isStopped?(e.complete(),f.EMPTY):(this.observers.push(e),new S(this,e))}},{key:"asObservable",value:function(){var e=new C;return e.source=this,e}}]),t}(C)).create=function(e,t){return new P(e,t)},x),P=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,r.source=n,r}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):f.EMPTY}}]),t}(A),N=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(y),I=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}};var M="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";var O=function(e){if(e instanceof C)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[g])return t=e,function(e){var n=t[g]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)};var t,n,r,i;if((n=e)&&"number"==typeof n.length&&"function"!=typeof n)return I(e);if(function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[M])return i=e,function(e){for(var t=i[M]();;){var n=t.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof t.return&&e.add((function(){t.return&&t.return()})),e};var s=l(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(s," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")},R=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(y),D=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new L(e,this.project,this.thisArg))}}]),e}(),L=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(y);function F(e,t){return new C(t?function(n){var r=new f,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:I(e))}var V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new j(e,this.project,this.concurrent))}}]),e}(),j=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new N(this,void 0,void 0);this.destination.add(r),function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new N(e,n,r);i.closed||O(t)(i)}(this,e,t,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(R);function U(e){return e}function H(){return function(e){return e.lift(new B(e))}}var B=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new q(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),q=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),t}(y),W=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new f).add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed?(this._connection=null,e=f.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return H()(this)}}]),t}(C).prototype,z={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:W._subscribe},_isComplete:{value:W._isComplete,writable:!0},getSubject:{value:W.getSubject},connect:{value:W.connect},refCount:{value:W.refCount}},Q=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(T);function X(){return new A}var K="__parameters__";function Y(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var s=_construct(i,t);return a.annotation=s,a;function a(e,t,n){for(var r=e.hasOwnProperty(K)?e[K]:Object.defineProperty(e,K,{value:[]})[K];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(s),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var G=Y("Inject",(function(e){return{token:e}})),Z=Y("Optional"),J=Y("Self"),$=Y("SkipSelf"),ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function te(e){for(var t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function re(e){var t=e[ie];return t&&t.token===e?t:null}var ie=te({ngInjectableDef:te});function se(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(se).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var ae=te({__forward_ref__:te});function oe(e){return e.__forward_ref__=oe,e.toString=function(){return se(this())},e}function ue(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(ae)&&t.__forward_ref__===oe?t():e}var le="undefined"!=typeof globalThis&&globalThis,ce="undefined"!=typeof window&&window,he="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pe="undefined"!=typeof global&&global,fe=le||pe||ce||he,ve=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),de=new ve("INJECTOR",-1),ye=new Object,me=/\n/gm,ge="\u0275",_e="__source",ke=te({provide:String,useValue:te}),Ce=void 0;function Ee(e){var t=Ce;return Ce=e,t}function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.Default;if(void 0===Ce)throw new Error("inject() must be called from an injection context");return null===Ce?function(e,t,n){var r=re(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ee.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(se(e),"]"))}(e,0,t):Ce.get(e,t&ee.Optional?null:void 0,t)}var xe=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye;if(t===ye){var n=new Error("NullInjectorError: No provider for ".concat(se(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function be(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ge?e.substr(2):e;var i=se(t);if(t instanceof Array)i=t.map(se).join(" -> ");else if("object"==typeof t){var s=[];for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):se(o)))}i="{".concat(s.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(me,"\n  "))}var Se=function e(){_classCallCheck(this,e)},Te=function e(){_classCallCheck(this,e)};function Ae(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Pe(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Ne=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),Ie=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Me="ngDebugContext",Oe="ngOriginalError",Re="ngErrorLogger";function De(e){return e[Me]}function Le(e){return e[Oe]}function Fe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Ve=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Re]||Fe}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?De(e)?De(e):this._findContext(Le(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Le(e);t&&Le(t);)t=Le(t);return t}}]),e}(),je=!0,Ue=!1;function He(){return Ue=!0,je}var Be=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),qe=function e(){_classCallCheck(this,e)},We=/([A-Z])/g;function ze(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Qe=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Xe()},e}(),Xe=function(){},Ke=Function;function Ye(e){return"function"==typeof e}var Ge=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ze=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Je=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,$e=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,et=function(){function e(t){_classCallCheck(this,e),this._reflect=t||fe.Reflect}return _createClass(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=void 0===e?new Array(t.length):new Array(e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Ge.test(n)||$e.test(n)||Ze.test(n)&&!Je.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,s=i.map((function(e){return e&&e.type})),a=i.map((function(e){return e&&tt(e.decorators)}));return this._zipTypesAndAnnotations(s,a)}var o=e.hasOwnProperty(K)&&e[K],u=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return u||o?this._zipTypesAndAnnotations(u,o):new Array(e.length).fill(void 0)}},{key:"parameters",value:function(e){if(!Ye(e))return[];var t=nt(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?tt(e.decorators):e.hasOwnProperty("__annotations__")?e.__annotations__:null}},{key:"annotations",value:function(e){if(!Ye(e))return[];var t=nt(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach((function(e){i[e]=tt(r[e])})),i}return e.hasOwnProperty("__prop__metadata__")?e.__prop__metadata__:null}},{key:"propMetadata",value:function(e){if(!Ye(e))return{};var t=nt(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(i[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return Ye(e)&&this._ownPropMetadata(e,nt(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Ke&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(se(e))}},{key:"resourceUri",value:function(e){return"./".concat(se(e))}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function tt(e){return e?e.map((function(e){return _construct(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function nt(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var rt=new ve("The presence of this token marks an injector as being the root injector."),it=function(e,t,n){return new ct(e,t,n)},st=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?it(e,t,""):it(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ye,e.NULL=new xe,e.ngInjectableDef=ne({token:e,providedIn:"any",factory:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.Default;return we(e,t)}(de)}}),e.__NG_ELEMENT_ID__=-1,e}(),at=function(e){return e},ot=[],ut=at,lt=function(){return Array.prototype.slice.call(arguments)},ct=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(st,{token:st,fn:at,deps:ot,value:this,useNew:!1}),i.set(de,{token:de,fn:at,deps:ot,value:this,useNew:!1}),function e(t,n){if(n)if((n=ue(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw pt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw pt("Unexpected provider",n);var i=ue(n.provide),s=function(e){var t=function(e){var t=ot,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,s=ue(n[r]);if(s instanceof Array)for(var a=0,o=s;a<o.length;a++){var u=o[a];u instanceof Z||u==Z?i|=1:u instanceof $||u==$?i&=-3:u instanceof J||u==J?i&=-5:s=u instanceof G?u.token:ue(u)}t.push({token:s,options:i})}}else if(e.useExisting)t=[{token:ue(e.useExisting),options:6}];else if(!(n||ke in e))throw pt("'deps' required",e);return t}(e),n=at,r=ot,i=!1,s=ue(e.provide);if(ke in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=ue(e.useClass);else{if("function"!=typeof s)throw pt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=s}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=t.get(i);if(a){if(a.fn!==lt)throw ht(i)}else t.set(i,a={token:n.provide,deps:[],useNew:!1,fn:lt,value:ot});a.deps.push({token:i=n,options:6})}var o=t.get(i);if(o&&o.fn==lt)throw ht(i);t.set(i,s)}}(i,t)}return _createClass(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.Default,r=this._records.get(e);try{return function e(t,n,r,i,s,a){try{return function(t,n,r,i,s,a){var o;if(!n||a&ee.SkipSelf)a&ee.Self||(o=i.get(t,s,ee.Default));else{if((o=n.value)==ut)throw Error("\u0275Circular dependency");if(o===ot){n.value=ut;var u=n.useNew,l=n.fn,c=n.deps,h=ot;if(c.length){h=[];for(var p=0;p<c.length;p++){var f=c[p],v=f.options,d=2&v?r.get(f.token):void 0;h.push(e(f.token,d,r,d||4&v?i:st.NULL,1&v?null:st.THROW_IF_NOT_FOUND,ee.Default))}}n.value=o=u?_construct(l,_toConsumableArray(h)):l.apply(void 0,h)}}return o}(t,n,r,i,s,a)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(t),n&&n.value==ut&&(n.value=ot),o}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t[_e]&&i.unshift(t[_e]),e.message=be("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(se(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function ht(e){return pt("Cannot mix multi providers and regular providers",e)}function pt(e,t){return new Error(be(e,t,"StaticInjectorError"))}var ft=new ve("AnalyzeForEntryComponents"),vt=null;function dt(){if(!vt){var e=fe.Symbol;if(e&&e.iterator)vt=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(vt=r)}}return vt}function yt(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function mt(e,t){var n=_t(e),r=_t(t);return n&&r?function(e,t,n){for(var r=e[dt()](),i=t[dt()]();;){var s=r.next(),a=i.next();if(s.done&&a.done)return!0;if(s.done||a.done)return!1;if(!n(s.value,a.value))return!1}}(e,t,mt):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||yt(e,t)}var gt=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function _t(e){return!(null===(t=e)||"function"!=typeof t&&"object"!=typeof t)&&(Array.isArray(e)||!(e instanceof Map)&&dt()in e);var t}function kt(e){return!!e&&"function"==typeof e.then}var Ct=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),Et=function e(){_classCallCheck(this,e)},wt=function e(){_classCallCheck(this,e)};function xt(e){var t=Error("No component factory found for ".concat(se(e),". Did you add it to @NgModule.entryComponents?"));return t[bt]=e,t}var bt="ngComponent",St=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw xt(e)}}]),e}(),Tt=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new St,e}(),At=function(){function e(t,n,r){_classCallCheck(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var s=t[i];this._factories.set(s.componentType,s)}}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw xt(e);return new Pt(t,this._ngModule)}}]),e}(),Pt=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),t}(wt);function Nt(){}var It=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Mt(e)},e}(),Mt=Nt,Ot=function e(){_classCallCheck(this,e)},Rt=function e(){_classCallCheck(this,e)},Dt=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Lt()},e}(),Lt=Nt,Ft=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("8.2.14"),Vt=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return jt(e,It)},e}(),jt=Nt,Ut=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Ht(e,It)},e}(),Ht=Nt;function Bt(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return qt(n,t),n}(i,e)}function qt(e,t){e[Me]=t,e[Re]=t.logError.bind(t)}function Wt(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function zt(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Qt(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Xt(e,t){return e.nodes[t]}function Kt(e,t){return e.nodes[t]}function Yt(e,t){return e.nodes[t]}function Gt(e,t){return e.nodes[t]}function Zt(e,t){return e.nodes[t]}var Jt={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},$t=function(){},en=new Map;function tn(e){var t=en.get(e);return t||(t=se(e)+"_"+en.size,en.set(e,t)),t}function nn(e,t,n,r){if(gt.isWrapped(r)){r=gt.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,s=gt.unwrap(e.oldValues[i]);e.oldValues[i]=new gt(s)}return r}var rn="$$undefined",sn="$$empty";function an(e){return{id:rn,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var on=0;function un(e,t,n,r){return!(!(2&e.state)&&yt(e.oldValues[t.bindingIndex+n],r))}function ln(e,t,n,r){return!!un(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function cn(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!mt(i,r)){var s=t.bindings[n].name;throw Bt(Jt.createDebugContext(e,t.nodeIndex),"".concat(s,": ").concat(i),"".concat(s,": ").concat(r),0!=(1&e.state))}}function hn(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function pn(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function fn(e,t,n,r){try{return hn(33554432&e.def.nodes[t].flags?Kt(e,t).componentView:e),Jt.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function vn(e){return e.parent?Kt(e.parent,e.parentNodeDef.nodeIndex):null}function dn(e){return e.parent?e.parentNodeDef.parent:null}function yn(e,t){switch(201347067&t.flags){case 1:return Kt(e,t.nodeIndex).renderElement;case 2:return Xt(e,t.nodeIndex).renderText}}function mn(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function gn(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function _n(e){return 1<<e%32}function kn(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),s=i[0],a=i[1];"number"==typeof s?(t[s]=a,n|=_n(s)):r[s]=a})),{matchedQueries:t,references:r,matchedQueryIds:n}}function Cn(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,_e,{value:t,configurable:!0}),{flags:i,token:r,tokenKey:tn(r)}}))}function En(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Ie.Native?Kt(e,n.renderParent.nodeIndex).renderElement:void 0:t}var wn=new WeakMap;function xn(e){var t=wn.get(e);return t||((t=e((function(){return $t}))).factory=e,wn.set(e,t)),t}function bn(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(yn(e,e.def.lastRenderRootNode))),Sn(e,t,0,e.def.nodes.length-1,n,r,i)}function Sn(e,t,n,r,i,s,a){for(var o=n;o<=r;o++){var u=e.def.nodes[o];11&u.flags&&An(e,u,t,i,s,a),o+=u.childCount}}function Tn(e,t,n,r,i,s){for(var a=e;a&&!mn(a);)a=a.parent;for(var o=a.parent,u=dn(a),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=o.def.nodes[c];h.ngContentIndex===t&&An(o,h,n,r,i,s),c+=h.childCount}if(!o.parent){var p=e.root.projectableNodes[t];if(p)for(var f=0;f<p.length;f++)Pn(e,p[f],n,r,i,s)}}function An(e,t,n,r,i,s){if(8&t.flags)Tn(e,t.ngContent.index,n,r,i,s);else{var a=yn(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Pn(e,a,n,r,i,s),32&t.bindingFlags&&Pn(Kt(e,t.nodeIndex).componentView,a,n,r,i,s)):Pn(e,a,n,r,i,s),16777216&t.flags)for(var o=Kt(e,t.nodeIndex).viewContainer._embeddedViews,u=0;u<o.length;u++)bn(o[u],n,r,i,s);1&t.flags&&!t.element.name&&Sn(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,s)}}function Pn(e,t,n,r,i,s){var a=e.renderer;switch(n){case 1:a.appendChild(r,t);break;case 2:a.insertBefore(r,t,i);break;case 3:a.removeChild(r,t);break;case 0:s.push(t)}}var Nn=/^:([^:]+):(.+)$/;function In(e){if(":"===e[0]){var t=e.match(Nn);return[t[1],t[2]]}return["",e]}function Mn(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function On(e,t){for(var n="",r=0;r<2*e;r+=2)n=n+t[r]+Dn(t[r+1]);return n+t[2*e]}function Rn(e,t,n,r,i,s,a,o,u,l,c,h,p,f,v,d,y,m,g,_){switch(e){case 1:return t+Dn(n)+r;case 2:return t+Dn(n)+r+Dn(i)+s;case 3:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o;case 4:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l;case 5:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l+Dn(c)+h;case 6:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l+Dn(c)+h+Dn(p)+f;case 7:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l+Dn(c)+h+Dn(p)+f+Dn(v)+d;case 8:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l+Dn(c)+h+Dn(p)+f+Dn(v)+d+Dn(y)+m;case 9:return t+Dn(n)+r+Dn(i)+s+Dn(a)+o+Dn(u)+l+Dn(c)+h+Dn(p)+f+Dn(v)+d+Dn(y)+m+Dn(g)+_;default:throw new Error("Does not support more than 9 expressions")}}function Dn(e){return null!=e?e.toString():""}var Ln=[],Fn={},Vn=new Object,jn=tn(st),Un=tn(de),Hn=tn(Se);function Bn(e,t,n,r){return n=ue(n),{index:-1,deps:Cn(r,se(t)),flags:e,token:t,value:n}}function qn(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var s=e[i];s.token===rt&&!0===s.value&&(r=!0),1073741824&s.flags&&n.push(s.token),s.index=i,t[tn(s.token)]=s}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function Wn(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st.THROW_IF_NOT_FOUND,s=Ee(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var a=t.tokenKey;switch(a){case jn:case Un:case Hn:return e}var o,u=e._def.providersByKey[a];if(u){var l=e._providers[u.index];return void 0===l&&(l=e._providers[u.index]=zn(e,u)),l===Vn?void 0:l}if((o=re(t.token))&&(n=e,null!=(r=o).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:o.factory,deps:[],index:c,token:t.token},e._providers[c]=Vn,e._providers[c]=zn(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{Ee(s)}}function zn(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Wn(e,n[0]));case 2:return new t(Wn(e,n[0]),Wn(e,n[1]));case 3:return new t(Wn(e,n[0]),Wn(e,n[1]),Wn(e,n[2]));default:for(var i=new Array(r),s=0;s<r;s++)i[s]=Wn(e,n[s]);return _construct(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Wn(e,n[0]));case 2:return t(Wn(e,n[0]),Wn(e,n[1]));case 3:return t(Wn(e,n[0]),Wn(e,n[1]),Wn(e,n[2]));default:for(var i=Array(r),s=0;s<r;s++)i[s]=Wn(e,n[s]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Wn(e,t.deps[0]);break;case 256:n=t.value}return n===Vn||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Vn:n}function Qn(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Pe(n,t),Jt.dirtyParentQueries(r),Kn(r),r}function Xn(e,t,n){var r=t?yn(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),s=n.renderer.nextSibling(r);bn(n,2,i,s,void 0)}function Kn(e){bn(e,3,null,null,void 0)}var Yn=new Object;function Gn(e,t,n,r,i,s){return new Zn(e,t,n,r,i,s)}var Zn=function(e){function t(e,n,r,i,s,a){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).selector=e,o.componentType=n,o._inputs=i,o._outputs=s,o.ngContentSelectors=a,o.viewDefFactory=r,o}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=xn(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,a=Jt.createRootView(e,t||[],n,i,r,Yn),o=Yt(a,s).instance;return n&&a.renderer.setAttribute(Kt(a,0).renderElement,"ng-version",Ft.full),new Jn(a,new nr(a),o)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),t}(wt),Jn=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new It(Kt(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new ar(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),t}(Et);function $n(e,t,n){return new er(e,t,n)}var er=function(){function e(t,n,r){_classCallCheck(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Qn(this._data,e);Jt.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new nr(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var s=n||this.parentInjector;i||e instanceof Pt||(i=s.get(Se));var a=e.create(s,r,void 0,i);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,s,a,o=e;return n=this._view,r=this._data,i=t,s=o._view,a=r.viewContainer._embeddedViews,null==i&&(i=a.length),s.viewContainerParent=n,Ae(a,i,s),function(e,t){var n=vn(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,s),Jt.dirtyParentQueries(s),Xn(r,i>0?a[i-1]:null,s),o.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,s,a,o=this._embeddedViews.indexOf(e._view);return n=this._data,r=o,i=t,s=n.viewContainer._embeddedViews,a=s[r],Pe(s,r),null==i&&(i=s.length),Ae(s,i,a),Jt.dirtyParentQueries(a),Kn(a),Xn(n,i>0?s[i-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Qn(this._data,e);t&&Jt.destroyView(t)}},{key:"detach",value:function(e){var t=Qn(this._data,e);return t?new nr(t):null}},{key:"element",get:function(){return new It(this._data.renderElement)}},{key:"injector",get:function(){return new ar(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=dn(e),e=e.parent;return e?new ar(e,t):new ar(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function tr(e){return new nr(e)}var nr=function(){function e(t){_classCallCheck(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass(e,[{key:"markForCheck",value:function(){hn(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Jt.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Jt.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Jt.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Kn(this._view),Jt.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return bn(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function rr(e,t){return new ir(e,t)}var ir=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentView=e,r._def=n,r}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){return new nr(Jt.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new It(Kt(this._parentView,this._def.nodeIndex).renderElement)}}]),t}(Vt);function sr(e,t){return new ar(e,t)}var ar=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.elDef=n}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st.THROW_IF_NOT_FOUND;return Jt.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:tn(e)},t)}}]),e}();function or(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=Kt(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return Xt(e,n.nodeIndex).renderText;if(20240&n.flags)return Yt(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function ur(e){return new lr(e.renderer)}var lr=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(In(t),2),r=n[0],i=n[1],s=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,s),s}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(In(t),2),i=r[0],s=r[1];null!=n?this.delegate.setAttribute(e,s,n,i):this.delegate.removeAttribute(e,s,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function cr(e,t,n,r){return new hr(e,t,n,r)}var hr=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=zn(e,i))}}(this)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:st.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee.Default,r=0;return n&ee.SkipSelf?r|=1:n&ee.Self&&(r|=4),Wn(this,{token:e,tokenKey:tn(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(se(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var s=e._providers[i];if(s&&s!==Vn){var a=s.ngOnDestroy;"function"!=typeof a||r.has(s)||(a.apply(s),r.add(s))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Tt)}}]),e}(),pr=tn(Ot),fr=tn(Dt),vr=tn(It),dr=tn(Ut),yr=tn(Vt),mr=tn(Qe),gr=tn(st),_r=tn(de);function kr(e,t,n,r,i,s,a,o){var u=[];if(a)for(var l in a){var c=_slicedToArray(a[l],2),h=c[0],p=c[1];u[h]={flags:8,name:l,nonMinifiedName:p,ns:null,securityContext:null,suffix:null}}var f=[];if(o)for(var v in o)f.push({type:1,propName:v,target:null,eventName:o[v]});return wr(e,t|=16384,n,r,i,i,s,u,f)}function Cr(e,t,n){return wr(-1,e|=16,null,0,t,t,n)}function Er(e,t,n,r,i){return wr(-1,e,t,0,n,r,i)}function wr(e,t,n,r,i,s,a,o,u){var l=kn(n),c=l.matchedQueries,h=l.references,p=l.matchedQueryIds;u||(u=[]),o||(o=[]),s=ue(s);var f=Cn(a,se(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:o,bindingFlags:Mn(o),outputs:u,element:null,provider:{token:i,value:s,deps:f},text:null,query:null,ngContent:null}}function xr(e,t){return Ar(e,t)}function br(e,t){for(var n=e;n.parent&&!mn(n);)n=n.parent;return Pr(n.parent,dn(n),!0,t.provider.value,t.provider.deps)}function Sr(e,t){var n,r=Pr(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var i=0;i<t.outputs.length;i++){var s=t.outputs[i],a=r[s.propName];if(!(n=a)||"function"!=typeof n.subscribe)throw new Error("@Output ".concat(s.propName," not initialized in '").concat(r.constructor.name,"'."));var o=a.subscribe(Tr(e,t.parent.nodeIndex,s.eventName));e.disposables[t.outputIndex+i]=o.unsubscribe.bind(o)}return r}function Tr(e,t,n){return function(r){return fn(e,t,n,r)}}function Ar(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Pr(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var s=i.length;switch(s){case 0:return r();case 1:return r(Ir(e,t,n,i[0]));case 2:return r(Ir(e,t,n,i[0]),Ir(e,t,n,i[1]));case 3:return r(Ir(e,t,n,i[0]),Ir(e,t,n,i[1]),Ir(e,t,n,i[2]));default:for(var a=Array(s),o=0;o<s;o++)a[o]=Ir(e,t,n,i[o]);return r.apply(void 0,a)}}(e,t.parent,n,r.value,r.deps);case 2048:return Ir(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Pr(e,t,n,r,i){var s=i.length;switch(s){case 0:return new r;case 1:return new r(Ir(e,t,n,i[0]));case 2:return new r(Ir(e,t,n,i[0]),Ir(e,t,n,i[1]));case 3:return new r(Ir(e,t,n,i[0]),Ir(e,t,n,i[1]),Ir(e,t,n,i[2]));default:for(var a=new Array(s),o=0;o<s;o++)a[o]=Ir(e,t,n,i[o]);return _construct(r,a)}}var Nr={};function Ir(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:st.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var s=e;2&r.flags&&(i=null);var a=r.tokenKey;a===mr&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var o=e;o;){if(t)switch(a){case pr:return ur(Mr(o,t,n));case fr:return Mr(o,t,n).renderer;case vr:return new It(Kt(o,t.nodeIndex).renderElement);case dr:return Kt(o,t.nodeIndex).viewContainer;case yr:if(t.element.template)return Kt(o,t.nodeIndex).template;break;case mr:return tr(Mr(o,t,n));case gr:case _r:return sr(o,t);default:var u=(n?t.element.allProviders:t.element.publicProviders)[a];if(u){var l=Yt(o,u.nodeIndex);return l||(l={instance:Ar(o,u)},o.nodes[u.nodeIndex]=l),l.instance}}n=mn(o),t=dn(o),o=o.parent,4&r.flags&&(o=null)}var c=s.root.injector.get(r.token,Nr);return c!==Nr||i===Nr?c:s.root.ngModule.injector.get(r.token,i)}function Mr(e,t,n){var r;if(n)r=Kt(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!mn(r);)r=r.parent;return r}function Or(e,t,n,r,i,s){if(32768&n.flags){var a=Kt(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){s=s||{};var o=gt.unwrap(e.oldValues[n.bindingIndex+r]);s[n.bindings[r].nonMinifiedName]=new Ct(o,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,s}function Rr(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var s=n[i],a=s.parent;for(!a&&s.flags&t&&Lr(e,i,s.flags&t,r++),0==(s.childFlags&t)&&(i+=s.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(r=Dr(e,a,t,r)),a=a.parent}}function Dr(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var s=e.def.nodes[i];s.flags&n&&Lr(e,i,s.flags&n,r++),i+=s.childCount}return r}function Lr(e,t,n,r){var i=Yt(e,t);if(i){var s=i.instance;s&&(Jt.setCurrentNode(e,t),1048576&n&&Qt(e,512,r)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&Qt(e,768,r)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}}var Fr=new Map;function Vr(e,t){var n=Fr.get(e);(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(se(t)," vs ").concat(se(t.name)))})(e,n&&n.moduleType,t.moduleType),Fr.set(e,t)}var jr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,r){var i,s=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(s=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var o=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,i,s,a);return e instanceof f&&e.add(o),o}}]),t}(A);function Ur(){return this._results[dt()]()}var Hr=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new jr,this.length=0;var t=dt(),n=e.prototype;n[t]||(n[t]=Ur)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Br=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();kt(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),qr=new ve("Platform Initializer"),Wr=new ve("Platform ID"),zr=new ve("appBootstrapListener"),Qr=new ve("Application Packages Root URL"),Xr=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Kr=new ve("LocaleId"),Yr=new ve("Translations"),Gr=new ve("TranslationsFormat"),Zr=function(){var e={Error:0,Warning:1,Ignore:2};return e[e.Error]="Error",e[e.Warning]="Warning",e[e.Ignore]="Ignore",e}();function Jr(){throw new Error("Runtime compiler is not loaded")}var $r,ei,ti=Jr,ni=Jr,ri=Jr,ii=Jr,si=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=ti,this.compileModuleAsync=ni,this.compileModuleAndAllComponentsSync=ri,this.compileModuleAndAllComponentsAsync=ii}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),ai=new ve("compilerOptions"),oi=function e(){_classCallCheck(this,e)};var ui,li=!(!(ui=fe.wtf)||!($r=ui.trace)||(ei=$r.events,0));function ci(e,t){return null}var hi=li?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return ei.createScope(e,t)}:function(e,t){return ci},pi=li?function(e,t){return $r.leaveScope(e,t),t}:function(e,t){return t},fi=Promise.resolve(0);function vi(e){"undefined"==typeof Zone?fi.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var di=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr(!1),this.onMicrotaskEmpty=new jr(!1),this.onStable=new jr(!1),this.onError=new jr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,s,a){try{return _i(n),e.invokeTask(r,i,s,a)}finally{ki(n)}},onInvoke:function(e,t,r,i,s,a,o){try{return _i(n),e.invoke(r,i,s,a,o)}finally{ki(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,gi(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,mi,yi,yi);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function yi(){}var mi={};function gi(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function _i(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ki(e){e._nesting--,gi(e)}var Ci,Ei=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jr,this.onMicrotaskEmpty=new jr,this.onStable=new jr,this.onError=new jr}return _createClass(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),wi=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){di.assertNotInAngularZone(),vi((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())vi((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),xi=function(){function e(){_classCallCheck(this,e),this._applications=new Map,bi.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return bi.findTestabilityInTree(this,e,t)}}]),e}(),bi=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Si=function(e,t,n){return e.get(oi).createCompiler([t]).compileModuleAsync(n)},Ti=new ve("AllowMultipleToken");function Ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new ve(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=Pi();if(!s||s.injector.get(Ti,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Ci&&!Ci.destroyed&&!Ci.injector.get(Ti,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ci=e.get(Ni);var t=e.get(qr,null);t&&t.forEach((function(e){return e()}))}(st.create({providers:a,name:r}))}return function(e){var t=Pi();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Pi(){return Ci&&!Ci.destroyed?Ci:null}var Ni=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new Ei:("zone.js"===n?void 0:n)||new di({enableLongStackTrace:He()}),s=[{provide:di,useValue:i}];return i.run((function(){var t=st.create({providers:s,parent:r.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(Ve,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ri(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,i){try{var s=((a=n.injector.get(Br)).runInitializers(),a.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return kt(s)?s.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):s}catch(o){throw t.runOutsideAngular((function(){return e.handleError(o)})),o}var a}(a,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ii({},n);return Si(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Oi);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(se(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Ii(e,t){return Array.isArray(t)?t.reduce(Ii,e):Object.assign({},e,t)}var Mi,Oi=((Mi=function(){function e(t,n,r,i,s,a){var o=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=He(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run((function(){o.tick()}))}});var u=new C((function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular((function(){e.next(o._stable),e.complete()}))})),l=new C((function(e){var t;o._zone.runOutsideAngular((function(){t=o._zone.onStable.subscribe((function(){di.assertNotInAngularZone(),vi((function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))}))}))}));var n=o._zone.onUnstable.subscribe((function(){di.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=Number.POSITIVE_INFINITY,s=null,a=t[t.length-1];return(r=a)&&"function"==typeof r.schedule?(s=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof a&&(i=t.pop()),null===s&&1===t.length&&t[0]instanceof C?t[0]:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof n?function(i){return i.pipe(e((function(e,r){return(i=t(e,r),i instanceof C?i:new C(O(i))).pipe(function(e,t){return function(t){return t.lift(new D(e,void 0))}}((function(t,i){return n(e,t,r,i)})));var i}),r))}:("number"==typeof n&&(r=n),function(e){return e.lift(new V(t,r))})}(U,e)}(i)(F(t,s))}(u,l.pipe((function(e){return H()((t=X,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,z);return r.source=e,r.subjectFactory=n,r})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof wt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Pt?null:this._injector.get(Se),s=n.create(st.NULL,[],t||n.selector,i);s.onDestroy((function(){r._unloadComponent(s)}));var a=s.injector.get(wi,null);return a&&s.injector.get(xi).registerApplication(s.location.nativeElement,a),this._loadComponent(s),He()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r=!0,i=!1,s=void 0;try{for(var a,o=this._views[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)a.value.detectChanges()}catch(f){i=!0,s=f}finally{try{r||null==o.return||o.return()}finally{if(i)throw s}}if(this._enforceNoNewChanges){var u=!0,l=!1,c=void 0;try{for(var h,p=this._views[Symbol.iterator]();!(u=(h=p.next()).done);u=!0)h.value.checkNoChanges()}catch(f){l=!0,c=f}finally{try{u||null==p.return||p.return()}finally{if(l)throw c}}}}catch(v){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(v)}))}finally{this._runningTick=!1,pi(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ri(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(zr,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ri(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=hi("ApplicationRef#tick()"),Mi);function Ri(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Di=function e(t,n){_classCallCheck(this,e),this.name=t,this.callback=n},Li=function(){function e(t,n,r){_classCallCheck(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof Fi&&n.addChild(this)}return _createClass(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Fi=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,r))).properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return _inherits(t,e),_createClass(t,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var n=[];return function e(n,r,i){n.childNodes.forEach((function(n){n instanceof t&&(r(n)&&i.push(n),e(n,r,i))}))}(this,e,n),n}},{key:"queryAllNodes",value:function(e){var n=[];return function e(n,r,i){n instanceof t&&n.childNodes.forEach((function(n){r(n)&&i.push(n),n instanceof t&&e(n,r,i)}))}(this,e,n),n}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof t}))}}]),t}(Li),Vi=new Map,ji=function(e){return Vi.get(e)||null};function Ui(e){Vi.set(e.nativeNode,e)}var Hi=Ai(null,"core",[{provide:Wr,useValue:"unknown"},{provide:Ni,deps:[st]},{provide:xi,deps:[]},{provide:Xr,deps:[]}]);function Bi(e,t,n,r,i,s){e|=1;var a=kn(t),o=a.matchedQueries,u=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a.matchedQueryIds,references:u,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?xn(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||$t},provider:null,text:null,query:null,ngContent:null}}function qi(e,t,n,r,i,s){var a,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;c||(c=$t);var f=kn(n),v=f.matchedQueries,d=f.references,y=f.matchedQueryIds,m=null,g=null;s&&(m=(a=_slicedToArray(In(s),2))[0],g=a[1]),u=u||[];for(var _=new Array(u.length),k=0;k<u.length;k++){var C=_slicedToArray(u[k],3),E=C[0],w=C[1],x=C[2],b=_slicedToArray(In(w),2),S=b[0],T=b[1],A=void 0,P=void 0;switch(15&E){case 4:P=x;break;case 1:case 8:A=x}_[k]={flags:E,ns:S,name:T,nonMinifiedName:T,securityContext:A,suffix:P}}l=l||[];for(var N=new Array(l.length),I=0;I<l.length;I++){var M=_slicedToArray(l[I],2),O=M[0],R=M[1];N[I]={type:0,target:O,eventName:R,propName:null}}var D=(o=o||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(In(n),2);return[i[0],i[1],r]}));return p=function(e){if(e&&e.id===rn){var t=null!=e.encapsulation&&e.encapsulation!==Ie.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(on++):sn}return e&&e.id===sn&&(e=null),e||null}(p),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:y,references:d,ngContentIndex:r,childCount:i,bindings:_,bindingFlags:Mn(_),outputs:N,element:{ns:m,name:g,attrs:D,template:null,componentProvider:null,componentView:h||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:c||$t},provider:null,text:null,query:null,ngContent:null}}function Wi(e,t,n){var r,i=n.element,s=e.root.selectorOrNode,a=e.renderer;if(e.parent||!s){r=i.name?a.createElement(i.name,i.ns):a.createComment("");var o=En(e,t,n);o&&a.appendChild(o,r)}else r=a.selectRootElement(s,!!i.componentRendererType&&i.componentRendererType.encapsulation===Ie.ShadowDom);if(i.attrs)for(var u=0;u<i.attrs.length;u++){var l=_slicedToArray(i.attrs[u],3),c=l[0],h=l[1],p=l[2];a.setAttribute(r,h,p,c)}return r}function zi(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var s=n.outputs[i],a=Qi(e,n.nodeIndex,(h=s.eventName,(c=s.target)?"".concat(c,":").concat(h):h)),o=s.target,u=e;"component"===s.target&&(o=null,u=t);var l=u.renderer.listen(o||r,s.eventName,a);e.disposables[n.outputIndex+i]=l}var c,h}function Qi(e,t,n){return function(r){return fn(e,t,n,r)}}function Xi(e,t,n,r){if(!ln(e,t,n,r))return!1;var i=t.bindings[n],s=Kt(e,t.nodeIndex),a=s.renderElement,o=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,s){var a=t.securityContext,o=a?e.root.sanitizer.sanitize(a,s):s;o=null!=o?o.toString():null;var u=e.renderer;null!=s?u.setAttribute(n,i,o,r):u.removeAttribute(n,i,r)}(e,i,a,i.ns,o,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,a,o,r);break;case 4:!function(e,t,n,r,i){var s=e.root.sanitizer.sanitize(Be.STYLE,i);if(null!=s){s=s.toString();var a=t.suffix;null!=a&&(s+=a)}else s=null;var o=e.renderer;null!=s?o.setStyle(n,r,s):o.removeStyle(n,r)}(e,i,a,o,r);break;case 8:!function(e,t,n,r,i){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,i):i;e.renderer.setProperty(n,r,a)}(33554432&t.flags&&32&i.flags?s.componentView:e,i,a,o,r)}return!0}function Ki(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:_n(t),bindings:r},ngContent:null}}function Yi(e){for(var t=e.def.nodeMatchedQueries;e.parent&&gn(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var s=e.def.nodes[i];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&t)===s.query.filterId&&Zt(e,i).setDirty(),!(1&s.flags&&i+s.childCount<n.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(i+=s.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var o=e.def.nodes[a];134217728&o.flags&&536870912&o.flags&&Zt(e,a).setDirty(),a+=o.childCount}}function Gi(e,t){var n=Zt(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var s=t.parent.parent;i=Zi(e,s.nodeIndex,s.nodeIndex+s.childCount,t.query,[]),r=Yt(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Zi(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var a=t.query.bindings,o=!1,u=0;u<a.length;u++){var l=a[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,o=!0}r[l.propName]=c}o&&n.notifyOnChanges()}}function Zi(e,t,n,r,i){for(var s=t;s<=n;s++){var a=e.def.nodes[s],o=a.matchedQueries[r.id];if(null!=o&&i.push(Ji(e,a,o)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Kt(e,s);if((a.childMatchedQueries&r.filterId)===r.filterId&&(Zi(e,s+1,s+a.childCount,r,i),s+=a.childCount),16777216&a.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=vn(h);p&&p===u&&Zi(h,0,h.def.nodes.length-1,r,i)}var f=u.template._projectedViews;if(f)for(var v=0;v<f.length;v++){var d=f[v];Zi(d,0,d.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(s+=a.childCount)}return i}function Ji(e,t,n){if(null!=n)switch(n){case 1:return Kt(e,t.nodeIndex).renderElement;case 0:return new It(Kt(e,t.nodeIndex).renderElement);case 2:return Kt(e,t.nodeIndex).template;case 3:return Kt(e,t.nodeIndex).viewContainer;case 4:return Yt(e,t.nodeIndex).instance}}function $i(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function es(e,t,n){var r=En(e,t,n);r&&Tn(e,n.ngContent.index,1,r,null,void 0)}function ts(e,t){return is(128,e,new Array(t+1))}function ns(e,t){return is(32,e,new Array(t))}function rs(e,t){for(var n=Object.keys(t),r=n.length,i=new Array(r),s=0;s<r;s++){var a=n[s];i[t[a]]=a}return is(64,e,i)}function is(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var s=n[i];r[i]={flags:8,name:s,ns:null,nonMinifiedName:s,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Mn(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function ss(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function as(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var s=En(e,t,n);return s&&i.appendChild(s,r),{renderText:r}}function os(e,t){return(null!=e?e.toString():"")+t.suffix}function us(e,t,n,r){for(var i=0,s=0,a=0,o=0,u=0,l=null,c=null,h=!1,p=!1,f=null,v=0;v<t.length;v++){var d=t[v];if(d.nodeIndex=v,d.parent=l,d.bindingIndex=i,d.outputIndex=s,d.renderParent=c,a|=d.flags,u|=d.matchedQueryIds,d.element){var y=d.element;y.publicProviders=l?l.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,p=!1,d.element.template&&(u|=d.element.template.nodeMatchedQueries)}if(cs(l,d,t.length),i+=d.bindings.length,s+=d.outputs.length,!c&&3&d.flags&&(f=d),20224&d.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&d.flags);0==(8192&d.flags)||m?l.element.publicProviders[tn(d.provider.token)]=d:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[tn(d.provider.token)]=d),m&&(l.element.componentProvider=d)}if(l?(l.childFlags|=d.flags,l.directChildFlags|=d.flags,l.childMatchedQueries|=d.matchedQueryIds,d.element&&d.element.template&&(l.childMatchedQueries|=d.element.template.nodeMatchedQueries)):o|=d.flags,d.childCount>0)l=d,ls(d)||(c=d);else for(;l&&v===l.nodeIndex+l.childCount;){var g=l.parent;g&&(g.childFlags|=l.childFlags,g.childMatchedQueries|=l.childMatchedQueries),c=(l=g)&&ls(l)?l.renderParent:l}}return{factory:null,nodeFlags:a,rootNodeFlags:o,nodeMatchedQueries:u,flags:e,nodes:t,updateDirectives:n||$t,updateRenderer:r||$t,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:s,lastRenderRootNode:f}}function ls(e){return 0!=(1&e.flags)&&null===e.element.name}function cs(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function hs(e,t,n,r){var i=vs(e.root,e.renderer,e,t,n);return ds(i,e.component,r),ys(i),i}function ps(e,t,n){var r=vs(e,e.renderer,null,null,t);return ds(r,n,n),ys(r),r}function fs(e,t,n,r){var i,s=t.element.componentRendererType;return i=s?e.root.rendererFactory.createRenderer(r,s):e.root.renderer,vs(e.root,i,e,t.element.componentProvider,n)}function vs(e,t,n,r,i){var s=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:s,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function ds(e,t,n){e.component=t,e.context=n}function ys(e){var t;mn(e)&&(t=Kt(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var s=n.nodes[i],a=void 0;switch(Jt.setCurrentNode(e,i),201347067&s.flags){case 1:var o=Wi(e,t,s),u=void 0;if(33554432&s.flags){var l=xn(s.element.componentView);u=Jt.createComponentView(e,s,l,o)}zi(e,u,s,o),a={renderElement:o,componentView:u,viewContainer:null,template:s.element.template?rr(e,s):void 0},16777216&s.flags&&(a.viewContainer=$n(e,s,a));break;case 2:a=as(e,t,s);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&s.flags||(a={instance:xr(e,s)});break;case 16:a={instance:br(e,s)};break;case 16384:(a=r[i])||(a={instance:Sr(e,s)}),32768&s.flags&&ds(Kt(e,s.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new Hr;break;case 8:es(e,t,s),a=void 0}r[i]=a}bs(e,xs.CreateViewNodes),Ps(e,201326592,268435456,0)}function ms(e){ks(e),Jt.updateDirectives(e,1),Ss(e,xs.CheckNoChanges),Jt.updateRenderer(e,1),bs(e,xs.CheckNoChanges),e.state&=-97}function gs(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,zt(e,0,256),ks(e),Jt.updateDirectives(e,0),Ss(e,xs.CheckAndUpdate),Ps(e,67108864,536870912,0);var t=zt(e,256,512);Rr(e,2097152|(t?1048576:0)),Jt.updateRenderer(e,0),bs(e,xs.CheckAndUpdate),Ps(e,134217728,536870912,0),Rr(e,8388608|((t=zt(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,zt(e,768,1024)}function _s(e,t,n,r,i,s,a,o,u,l,c,h,p){return 0===n?function(e,t,n,r,i,s,a,o,u,l,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,s,a,o,u,l,c,h){var p=t.bindings.length,f=!1;return p>0&&Xi(e,t,0,n)&&(f=!0),p>1&&Xi(e,t,1,r)&&(f=!0),p>2&&Xi(e,t,2,i)&&(f=!0),p>3&&Xi(e,t,3,s)&&(f=!0),p>4&&Xi(e,t,4,a)&&(f=!0),p>5&&Xi(e,t,5,o)&&(f=!0),p>6&&Xi(e,t,6,u)&&(f=!0),p>7&&Xi(e,t,7,l)&&(f=!0),p>8&&Xi(e,t,8,c)&&(f=!0),p>9&&Xi(e,t,9,h)&&(f=!0),f}(e,t,n,r,i,s,a,o,u,l,c,h);case 2:return function(e,t,n,r,i,s,a,o,u,l,c,h){var p=!1,f=t.bindings,v=f.length;if(v>0&&ln(e,t,0,n)&&(p=!0),v>1&&ln(e,t,1,r)&&(p=!0),v>2&&ln(e,t,2,i)&&(p=!0),v>3&&ln(e,t,3,s)&&(p=!0),v>4&&ln(e,t,4,a)&&(p=!0),v>5&&ln(e,t,5,o)&&(p=!0),v>6&&ln(e,t,6,u)&&(p=!0),v>7&&ln(e,t,7,l)&&(p=!0),v>8&&ln(e,t,8,c)&&(p=!0),v>9&&ln(e,t,9,h)&&(p=!0),p){var d=t.text.prefix;v>0&&(d+=os(n,f[0])),v>1&&(d+=os(r,f[1])),v>2&&(d+=os(i,f[2])),v>3&&(d+=os(s,f[3])),v>4&&(d+=os(a,f[4])),v>5&&(d+=os(o,f[5])),v>6&&(d+=os(u,f[6])),v>7&&(d+=os(l,f[7])),v>8&&(d+=os(c,f[8])),v>9&&(d+=os(h,f[9]));var y=Xt(e,t.nodeIndex).renderText;e.renderer.setValue(y,d)}return p}(e,t,n,r,i,s,a,o,u,l,c,h);case 16384:return function(e,t,n,r,i,s,a,o,u,l,c,h){var p=Yt(e,t.nodeIndex),f=p.instance,v=!1,d=void 0,y=t.bindings.length;return y>0&&un(e,t,0,n)&&(v=!0,d=Or(e,p,t,0,n,d)),y>1&&un(e,t,1,r)&&(v=!0,d=Or(e,p,t,1,r,d)),y>2&&un(e,t,2,i)&&(v=!0,d=Or(e,p,t,2,i,d)),y>3&&un(e,t,3,s)&&(v=!0,d=Or(e,p,t,3,s,d)),y>4&&un(e,t,4,a)&&(v=!0,d=Or(e,p,t,4,a,d)),y>5&&un(e,t,5,o)&&(v=!0,d=Or(e,p,t,5,o,d)),y>6&&un(e,t,6,u)&&(v=!0,d=Or(e,p,t,6,u,d)),y>7&&un(e,t,7,l)&&(v=!0,d=Or(e,p,t,7,l,d)),y>8&&un(e,t,8,c)&&(v=!0,d=Or(e,p,t,8,c,d)),y>9&&un(e,t,9,h)&&(v=!0,d=Or(e,p,t,9,h,d)),d&&f.ngOnChanges(d),65536&t.flags&&Qt(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),v}(e,t,n,r,i,s,a,o,u,l,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,s,a,o,u,l,c,h){var p=t.bindings,f=!1,v=p.length;if(v>0&&ln(e,t,0,n)&&(f=!0),v>1&&ln(e,t,1,r)&&(f=!0),v>2&&ln(e,t,2,i)&&(f=!0),v>3&&ln(e,t,3,s)&&(f=!0),v>4&&ln(e,t,4,a)&&(f=!0),v>5&&ln(e,t,5,o)&&(f=!0),v>6&&ln(e,t,6,u)&&(f=!0),v>7&&ln(e,t,7,l)&&(f=!0),v>8&&ln(e,t,8,c)&&(f=!0),v>9&&ln(e,t,9,h)&&(f=!0),f){var d,y=Gt(e,t.nodeIndex);switch(201347067&t.flags){case 32:d=new Array(p.length),v>0&&(d[0]=n),v>1&&(d[1]=r),v>2&&(d[2]=i),v>3&&(d[3]=s),v>4&&(d[4]=a),v>5&&(d[5]=o),v>6&&(d[6]=u),v>7&&(d[7]=l),v>8&&(d[8]=c),v>9&&(d[9]=h);break;case 64:d={},v>0&&(d[p[0].name]=n),v>1&&(d[p[1].name]=r),v>2&&(d[p[2].name]=i),v>3&&(d[p[3].name]=s),v>4&&(d[p[4].name]=a),v>5&&(d[p[5].name]=o),v>6&&(d[p[6].name]=u),v>7&&(d[p[7].name]=l),v>8&&(d[p[8].name]=c),v>9&&(d[p[9].name]=h);break;case 128:var m=n;switch(v){case 1:d=m.transform(n);break;case 2:d=m.transform(r);break;case 3:d=m.transform(r,i);break;case 4:d=m.transform(r,i,s);break;case 5:d=m.transform(r,i,s,a);break;case 6:d=m.transform(r,i,s,a,o);break;case 7:d=m.transform(r,i,s,a,o,u);break;case 8:d=m.transform(r,i,s,a,o,u,l);break;case 9:d=m.transform(r,i,s,a,o,u,l,c);break;case 10:d=m.transform(r,i,s,a,o,u,l,c,h)}}y.value=d}return f}(e,t,n,r,i,s,a,o,u,l,c,h);default:throw"unreachable"}}(e,t,r,i,s,a,o,u,l,c,h,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Xi(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,s=0;s<n.length;s++)ln(e,t,s,n[s])&&(i=!0);if(i){for(var a="",o=0;o<n.length;o++)a+=os(n[o],r[o]);a=t.text.prefix+a;var u=Xt(e,t.nodeIndex).renderText;e.renderer.setValue(u,a)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=Yt(e,t.nodeIndex),i=r.instance,s=!1,a=void 0,o=0;o<n.length;o++)un(e,t,o,n[o])&&(s=!0,a=Or(e,r,t,o,n[o],a));return a&&i.ngOnChanges(a),65536&t.flags&&Qt(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),s}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,s=0;s<n.length;s++)ln(e,t,s,n[s])&&(i=!0);if(i){var a,o=Gt(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var u=0;u<n.length;u++)a[r[u].name]=n[u];break;case 128:var l=n[0],c=n.slice(1);a=l.transform.apply(l,_toConsumableArray(c))}o.value=a}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function ks(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=Kt(e,n).template._projectedViews;if(i)for(var s=0;s<i.length;s++){var a=i[s];a.state|=32,pn(a,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Cs(e,t,n,r,i,s,a,o,u,l,c,h,p){return 0===n?function(e,t,n,r,i,s,a,o,u,l,c,h){var p=t.bindings.length;p>0&&cn(e,t,0,n),p>1&&cn(e,t,1,r),p>2&&cn(e,t,2,i),p>3&&cn(e,t,3,s),p>4&&cn(e,t,4,a),p>5&&cn(e,t,5,o),p>6&&cn(e,t,6,u),p>7&&cn(e,t,7,l),p>8&&cn(e,t,8,c),p>9&&cn(e,t,9,h)}(e,t,r,i,s,a,o,u,l,c,h,p):function(e,t,n){for(var r=0;r<n.length;r++)cn(e,t,r,n[r])}(e,t,r),!1}function Es(e,t){if(Zt(e,t.nodeIndex).dirty)throw Bt(Jt.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function ws(e){if(!(128&e.state)){if(Ss(e,xs.Destroy),bs(e,xs.Destroy),Rr(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=vn(e);if(t){var n=t.template._projectedViews;n&&(Pe(n,n.indexOf(e)),Jt.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(Kt(e,n).renderElement):2&r.flags?e.renderer.destroyNode(Xt(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&Zt(e,n).destroy()}}(e),mn(e)&&e.renderer.destroy(),e.state|=128}}var xs=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function bs(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Ts(Kt(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Ss(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var s=Kt(e,r).viewContainer._embeddedViews,a=0;a<s.length;a++)Ts(s[a],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ts(e,t){var n=e.state;switch(t){case xs.CheckNoChanges:0==(128&n)&&(12==(12&n)?ms(e):64&n&&As(e,xs.CheckNoChangesProjectedViews));break;case xs.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ms(e):64&n&&As(e,t));break;case xs.CheckAndUpdate:0==(128&n)&&(12==(12&n)?gs(e):64&n&&As(e,xs.CheckAndUpdateProjectedViews));break;case xs.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?gs(e):64&n&&As(e,t));break;case xs.Destroy:ws(e);break;case xs.CreateViewNodes:ys(e)}}function As(e,t){Ss(e,t),bs(e,t)}function Ps(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,s=0;s<i;s++){var a=e.def.nodes[s];if(a.flags&t&&a.flags&n)switch(Jt.setCurrentNode(e,a.nodeIndex),r){case 0:Gi(e,a);break;case 1:Es(e,a)}a.childFlags&t&&a.childFlags&n||(s+=a.childCount)}}var Ns=!1;function Is(e,t,n,r,i,s){var a=i.injector.get(Rt);return ps(Os(e,i,a,t,n),r,s)}function Ms(e,t,n,r,i,s){var a=i.injector.get(Rt),o=Os(e,i,new ha(a),t,n),u=qs(r);return la(Js.create,ps,null,[o,u,s])}function Os(e,t,n,r,i){var s=t.injector.get(qe),a=t.injector.get(Ve),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:s,rendererFactory:n,renderer:o,errorHandler:a}}function Rs(e,t,n,r){var i=qs(n);return la(Js.create,hs,null,[e,t,i,r])}function Ds(e,t,n,r){return n=js.get(t.element.componentProvider.provider.token)||qs(n),la(Js.create,fs,null,[e,t,n,r])}function Ls(e,t,n,r){return cr(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Fs.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var r=Fs.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){Vs.forEach((function(r,i){re(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=Fs.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Cn(i.deps),n.value=i.value)}if(Vs.size>0){var s=new Set(e.modules);Vs.forEach((function(t,n){if(s.has(re(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:Cn(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[tn(n)]=i}}))}}(e=e.factory((function(){return $t}))),e):e}(r))}var Fs=new Map,Vs=new Map,js=new Map;function Us(e){var t;Fs.set(e.token,e),"function"==typeof e.token&&(t=re(e.token))&&"function"==typeof t.providedIn&&Vs.set(e.token,e)}function Hs(e,t){var n=xn(t.viewDefFactory),r=xn(n.nodes[0].element.componentView);js.set(e,r)}function Bs(){Fs.clear(),Vs.clear(),js.clear()}function qs(e){if(0===Fs.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Fs.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return $t}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,s=Fs.get(i.token);s&&(r.flags=-3841&r.flags|s.flags,i.deps=Cn(s.deps),i.value=s.value)}}}}function Ws(e,t,n,r,i,s,a,o,u,l,c,h,p){var f=e.def.nodes[t];return _s(e,f,n,r,i,s,a,o,u,l,c,h,p),224&f.flags?Gt(e,t).value:void 0}function zs(e,t,n,r,i,s,a,o,u,l,c,h,p){var f=e.def.nodes[t];return Cs(e,f,n,r,i,s,a,o,u,l,c,h,p),224&f.flags?Gt(e,t).value:void 0}function Qs(e){return la(Js.detectChanges,gs,null,[e])}function Xs(e){return la(Js.checkNoChanges,ms,null,[e])}function Ks(e){return la(Js.destroy,ws,null,[e])}var Ys,Gs,Zs,Js=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function $s(e,t){Gs=e,Zs=t}function ea(e,t,n,r){return $s(e,t),la(Js.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ta(e,t){if(128&e.state)throw Wt(Js[Ys]);return $s(e,sa(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return 0===t?ra(e,i,r,a):ia(e,i,r,a),16384&i.flags&&$s(e,sa(e,n)),224&i.flags?Gt(e,i.nodeIndex).value:void 0}),e)}function na(e,t){if(128&e.state)throw Wt(Js[Ys]);return $s(e,aa(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return 0===t?ra(e,i,r,a):ia(e,i,r,a),3&i.flags&&$s(e,aa(e,n)),224&i.flags?Gt(e,i.nodeIndex).value:void 0}),e)}function ra(e,t,n,r){if(_s.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var s={},a=0;a<t.bindings.length;a++){var o=t.bindings[a],u=i[a];8&o.flags&&(s[(f=o.nonMinifiedName,v=void 0,v=f.replace(/[$@]/g,"_"),"ng-reflect-".concat(f=v.replace(We,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))))]=ze(u))}var l=t.parent,c=Kt(e,l.nodeIndex).renderElement;if(l.element.name)for(var h in s){var p=s[h];null!=p?e.renderer.setAttribute(c,h,p):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(s,null,2)))}}var f,v}function ia(e,t,n,r){Cs.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function sa(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function aa(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var oa=function(){function e(t,n){_classCallCheck(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=dn(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s;2&this.nodeDef.flags?(i=this.view.def,s=this.nodeDef.nodeIndex):(i=this.elView.def,s=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,s),o=-1;i.factory((function(){var t;return++o===a?(t=e.error).bind.apply(t,[e].concat(n)):$t})),o<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return Kt(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return sr(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){ua(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&ua(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!mn(e);)e=e.parent;return e.parent?Kt(e.parent,dn(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?yn(this.view,this.nodeDef):yn(this.elView,this.elDef)}}]),e}();function ua(e,t,n){for(var r in t.references)n[r]=Ji(e,t,t.references[r])}function la(e,t,n,r){var i,s,a=Ys,o=Gs,u=Zs;try{Ys=e;var l=t.apply(n,r);return Gs=o,Zs=u,Ys=a,l}catch(c){if(De(c)||!Gs)throw c;throw i=c,s=ca(),i instanceof Error||(i=new Error(i.toString())),qt(i,s),i}}function ca(){return Gs?new oa(Gs,Zs):null}var ha=function(){function e(t){_classCallCheck(this,e),this.delegate=t}return _createClass(e,[{key:"createRenderer",value:function(e,t){return new pa(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),pa=function(){function e(t){_classCallCheck(this,e),this.delegate=t,this.debugContextFactory=ca,this.data=this.delegate.data}return _createClass(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=ji(e);!function(e){Vi.delete(e.nativeNode)}(t),t instanceof Li&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new Fi(n,null,r);i.name=e,Ui(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Ui(new Li(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Ui(new Li(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=ji(e),r=ji(t);n&&r&&n instanceof Fi&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=ji(e),i=ji(t),s=ji(n);r&&i&&r instanceof Fi&&r.insertBefore(s,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=ji(e),r=ji(t);n&&r&&n instanceof Fi&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=ca();return r&&Ui(new Fi(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=ji(e);i&&i instanceof Fi&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=ji(e);r&&r instanceof Fi&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=ji(e);n&&n instanceof Fi&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=ji(e);n&&n instanceof Fi&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=ji(e);i&&i instanceof Fi&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=ji(e);r&&r instanceof Fi&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=ji(e);r&&r instanceof Fi&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=ji(e);r&&r.listeners.push(new Di(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();function fa(e,t,n){return new va(e,t,n)}var va=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){!function(){if(!Ns){Ns=!0;var e=He()?{setCurrentNode:$s,createRootView:Ms,createEmbeddedView:Rs,createComponentView:Ds,createNgModuleRef:Ls,overrideProvider:Us,overrideComponentView:Hs,clearOverrides:Bs,checkAndUpdateView:Qs,checkNoChangesView:Xs,destroyView:Ks,createDebugContext:function(e,t){return new oa(e,t)},handleEvent:ea,updateDirectives:ta,updateRenderer:na}:{setCurrentNode:function(){},createRootView:Is,createEmbeddedView:hs,createComponentView:fs,createNgModuleRef:cr,overrideProvider:$t,overrideComponentView:$t,clearOverrides:$t,checkAndUpdateView:gs,checkNoChangesView:ms,destroyView:ws,createDebugContext:function(e,t){return new oa(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Ws:zs,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Ws:zs,e)}};Jt.setCurrentNode=e.setCurrentNode,Jt.createRootView=e.createRootView,Jt.createEmbeddedView=e.createEmbeddedView,Jt.createComponentView=e.createComponentView,Jt.createNgModuleRef=e.createNgModuleRef,Jt.overrideProvider=e.overrideProvider,Jt.overrideComponentView=e.overrideComponentView,Jt.clearOverrides=e.clearOverrides,Jt.checkAndUpdateView=e.checkAndUpdateView,Jt.checkNoChangesView=e.checkNoChangesView,Jt.destroyView=e.destroyView,Jt.resolveDep=Ir,Jt.createDebugContext=e.createDebugContext,Jt.handleEvent=e.handleEvent,Jt.updateDirectives=e.updateDirectives,Jt.updateRenderer=e.updateRenderer,Jt.dirtyParentQueries=Yi}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(xn(this._ngModuleDefFactory));return Jt.createNgModuleRef(this.moduleType,e||st.NULL,this._bootstrapComponents,t)}}]),t}(Te),da=function(e){return e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA",e}({});function ya(e){if(":"!=e[0])return[null,e];var t=e.indexOf(":",1);if(-1==t)throw new Error('Unsupported format "'.concat(e,'" expecting ":namespace:name"'));return[e.slice(1,t),e.slice(t+1)]}function ma(e){return"ng-container"===ya(e)[1]}function ga(e){return"ng-content"===ya(e)[1]}function _a(e){return null===e?null:ya(e)[0]}function ka(e,t){return e?":".concat(e,":").concat(t):t}var Ca={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},Ea="\ue500";Ca.ngsp=Ea;var wa,xa,ba=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.closedByChildren,i=n.implicitNamespacePrefix,s=n.contentType,a=void 0===s?da.PARSABLE_DATA:s,o=n.closedByParent,u=void 0!==o&&o,l=n.isVoid,c=void 0!==l&&l,h=n.ignoreFirstLf,p=void 0!==h&&h;_classCallCheck(this,e),this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,r&&r.length>0&&r.forEach((function(e){return t.closedByChildren[e]=!0})),this.isVoid=c,this.closedByParent=u||c,this.implicitNamespacePrefix=i||null,this.contentType=a,this.ignoreFirstLf=p}return _createClass(e,[{key:"isClosedByChild",value:function(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}}]),e}();function Sa(e){return xa||(wa=new ba,xa={base:new ba({isVoid:!0}),meta:new ba({isVoid:!0}),area:new ba({isVoid:!0}),embed:new ba({isVoid:!0}),link:new ba({isVoid:!0}),img:new ba({isVoid:!0}),input:new ba({isVoid:!0}),param:new ba({isVoid:!0}),hr:new ba({isVoid:!0}),br:new ba({isVoid:!0}),source:new ba({isVoid:!0}),track:new ba({isVoid:!0}),wbr:new ba({isVoid:!0}),p:new ba({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new ba({closedByChildren:["tbody","tfoot"]}),tbody:new ba({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new ba({closedByChildren:["tbody"],closedByParent:!0}),tr:new ba({closedByChildren:["tr"],closedByParent:!0}),td:new ba({closedByChildren:["td","th"],closedByParent:!0}),th:new ba({closedByChildren:["td","th"],closedByParent:!0}),col:new ba({isVoid:!0}),svg:new ba({implicitNamespacePrefix:"svg"}),math:new ba({implicitNamespacePrefix:"math"}),li:new ba({closedByChildren:["li"],closedByParent:!0}),dt:new ba({closedByChildren:["dt","dd"]}),dd:new ba({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new ba({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new ba({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new ba({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new ba({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new ba({closedByChildren:["optgroup"],closedByParent:!0}),option:new ba({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new ba({ignoreFirstLf:!0}),listing:new ba({ignoreFirstLf:!0}),style:new ba({contentType:da.RAW_TEXT}),script:new ba({contentType:da.RAW_TEXT}),title:new ba({contentType:da.ESCAPABLE_RAW_TEXT}),textarea:new ba({contentType:da.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),xa[e.toLowerCase()]||wa}var Ta=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),Aa=function(){function e(){_classCallCheck(this,e),this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return _createClass(e,[{key:"isElementSelector",value:function(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}},{key:"hasElementSelector",value:function(){return!!this.element}},{key:"setElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.element=e}},{key:"getMatchingElementTemplate",value:function(){for(var e=this.element||"div",t=this.classNames.length>0?' class="'.concat(this.classNames.join(" "),'"'):"",n="",r=0;r<this.attrs.length;r+=2)n+=" ".concat(this.attrs[r]).concat(""!==this.attrs[r+1]?'="'.concat(this.attrs[r+1],'"'):"");return Sa(e).isVoid?"<".concat(e).concat(t).concat(n,"/>"):"<".concat(e).concat(t).concat(n,"></").concat(e,">")}},{key:"getAttrs",value:function(){var e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}},{key:"addAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.attrs.push(e,t&&t.toLowerCase()||"")}},{key:"addClassName",value:function(e){this.classNames.push(e.toLowerCase())}},{key:"toString",value:function(){var e=this.element||"";if(this.classNames&&this.classNames.forEach((function(t){return e+=".".concat(t)})),this.attrs)for(var t=0;t<this.attrs.length;t+=2){var n=this.attrs[t+1];e+="[".concat(this.attrs[t]).concat(n?"="+n:"","]")}return this.notSelectors.forEach((function(t){return e+=":not(".concat(t,")")})),e}}],[{key:"parse",value:function(t){var n,r=[],i=function(e,t){t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)},s=new e,a=s,o=!1;for(Ta.lastIndex=0;n=Ta.exec(t);){if(n[1]){if(o)throw new Error("Nesting :not is not allowed in a selector");o=!0,a=new e,s.notSelectors.push(a)}if(n[2]&&a.setElement(n[2]),n[3]&&a.addClassName(n[3]),n[4]&&a.addAttribute(n[4],n[6]),n[7]&&(o=!1,a=s),n[8]){if(o)throw new Error("Multiple selectors in :not are not supported");i(r,s),s=a=new e}}return i(r,s),r}}]),e}(),Pa=function(){function e(){_classCallCheck(this,e),this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return _createClass(e,[{key:"addSelectables",value:function(e,t){var n=null;e.length>1&&(n=new Na(e),this._listContexts.push(n));for(var r=0;r<e.length;r++)this._addSelectable(e[r],t,n)}},{key:"_addSelectable",value:function(e,t,n){var r=this,i=e.element,s=e.classNames,a=e.attrs,o=new Ia(e,t,n);if(i&&(0===a.length&&0===s.length?this._addTerminal(r._elementMap,i,o):r=this._addPartial(r._elementPartialMap,i)),s)for(var u=0;u<s.length;u++){var l=s[u];0===a.length&&u===s.length-1?this._addTerminal(r._classMap,l,o):r=this._addPartial(r._classPartialMap,l)}if(a)for(var c=0;c<a.length;c+=2){var h=a[c],p=a[c+1];if(c===a.length-2){var f=r._attrValueMap,v=f.get(h);v||(v=new Map,f.set(h,v)),this._addTerminal(v,p,o)}else{var d=r._attrValuePartialMap,y=d.get(h);y||(y=new Map,d.set(h,y)),r=this._addPartial(y,p)}}}},{key:"_addTerminal",value:function(e,t,n){var r=e.get(t);r||e.set(t,r=[]),r.push(n)}},{key:"_addPartial",value:function(t,n){var r=t.get(n);return r||(r=new e,t.set(n,r)),r}},{key:"match",value:function(e,t){for(var n=!1,r=e.element,i=e.classNames,s=e.attrs,a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,r,e,t)||n,n=this._matchPartial(this._elementPartialMap,r,e,t)||n,i)for(var o=0;o<i.length;o++){var u=i[o];n=this._matchTerminal(this._classMap,u,e,t)||n,n=this._matchPartial(this._classPartialMap,u,e,t)||n}if(s)for(var l=0;l<s.length;l+=2){var c=s[l],h=s[l+1],p=this._attrValueMap.get(c);h&&(n=this._matchTerminal(p,"",e,t)||n),n=this._matchTerminal(p,h,e,t)||n;var f=this._attrValuePartialMap.get(c);h&&(n=this._matchPartial(f,"",e,t)||n),n=this._matchPartial(f,h,e,t)||n}return n}},{key:"_matchTerminal",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t)||[],s=e.get("*");if(s&&(i=i.concat(s)),0===i.length)return!1;for(var a=!1,o=0;o<i.length;o++)a=i[o].finalize(n,r)||a;return a}},{key:"_matchPartial",value:function(e,t,n,r){if(!e||"string"!=typeof t)return!1;var i=e.get(t);return!!i&&i.match(n,r)}}],[{key:"createNotMatcher",value:function(t){var n=new e;return n.addSelectables(t,null),n}}]),e}(),Na=function e(t){_classCallCheck(this,e),this.selectors=t,this.alreadyMatched=!1},Ia=function(){function e(t,n,r){_classCallCheck(this,e),this.selector=t,this.cbContext=n,this.listContext=r,this.notSelectors=t.notSelectors}return _createClass(e,[{key:"finalize",value:function(e,t){var n=!0;return!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(n=!Pa.createNotMatcher(this.notSelectors).match(e,null)),!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}]),e}(),Ma=so("Inject",(function(e){return{token:e}})),Oa=so("InjectionToken",(function(e){return{_desc:e,ngInjectableDef:void 0}})),Ra=so("Attribute",(function(e){return{attributeName:e}})),Da=so("ContentChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)})),La=so("ContentChild",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)})),Fa=so("ViewChildren",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)})),Va=so("ViewChild",(function(e,t){return Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)})),ja=so("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),Ua=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Ha=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Ba=so("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Ha.Default},e)})),qa=so("Pipe",(function(e){return Object.assign({pure:!0},e)})),Wa=so("Input",(function(e){return{bindingPropertyName:e}})),za=so("Output",(function(e){return{bindingPropertyName:e}})),Qa=so("HostBinding",(function(e){return{hostPropertyName:e}})),Xa=so("HostListener",(function(e,t){return{eventName:e,args:t}})),Ka=so("NgModule",(function(e){return e})),Ya=so("Injectable",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),Ga="custom-elements",Za="no-errors-schema",Ja=so("Optional"),$a=so("Self"),eo=so("SkipSelf"),to=so("Host"),no=Function,ro=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),io=function(e){return e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore",e}({});function so(e,t){function n(){var n=t?t.apply(void 0,arguments):{};return Object.assign({ngMetadataName:e},n)}return n.isTypeOf=function(t){return t&&t.ngMetadataName===e},n.ngMetadataName=e,n}var ao=function(e){return e[e.Const=0]="Const",e}({}),oo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,e),this.modifiers=t,t||(this.modifiers=[])}return _createClass(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}(),uo=function(e){return e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None",e}({}),lo=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).name=e,n}return _inherits(t,e),_createClass(t,[{key:"visitType",value:function(e,t){return e.visitBuiltinType(this,t)}}]),t}(oo),co=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).value=e,n.typeParams=i,n}return _inherits(t,e),_createClass(t,[{key:"visitType",value:function(e,t){return e.visitExpressionType(this,t)}}]),t}(oo),ho=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).of=e,n}return _inherits(t,e),_createClass(t,[{key:"visitType",value:function(e,t){return e.visitArrayType(this,t)}}]),t}(oo),po=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r))).valueType=e||null,n}return _inherits(t,e),_createClass(t,[{key:"visitType",value:function(e,t){return e.visitMapType(this,t)}}]),t}(oo),fo=new lo(uo.Dynamic),vo=new lo(uo.Inferred),yo=new lo(uo.Bool),mo=function(e){return e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals",e}({});function go(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function _o(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(!e[r].isEquivalent(t[r]))return!1;return!0}var ko=function(){function e(t,n){_classCallCheck(this,e),this.type=t||null,this.sourceSpan=n||null}return _createClass(e,[{key:"prop",value:function(e,t){return new Uo(this,e,null,t)}},{key:"key",value:function(e,t,n){return new Ho(this,e,t,n)}},{key:"callMethod",value:function(e,t,n){return new Ao(this,e,t,null,n)}},{key:"callFn",value:function(e,t){return new Po(this,e,null,t)}},{key:"instantiate",value:function(e,t,n){return new No(this,e,t,n)}},{key:"conditional",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new Oo(this,e,t,null,n)}},{key:"equals",value:function(e,t){return new jo(mo.Equals,this,e,null,t)}},{key:"notEquals",value:function(e,t){return new jo(mo.NotEquals,this,e,null,t)}},{key:"identical",value:function(e,t){return new jo(mo.Identical,this,e,null,t)}},{key:"notIdentical",value:function(e,t){return new jo(mo.NotIdentical,this,e,null,t)}},{key:"minus",value:function(e,t){return new jo(mo.Minus,this,e,null,t)}},{key:"plus",value:function(e,t){return new jo(mo.Plus,this,e,null,t)}},{key:"divide",value:function(e,t){return new jo(mo.Divide,this,e,null,t)}},{key:"multiply",value:function(e,t){return new jo(mo.Multiply,this,e,null,t)}},{key:"modulo",value:function(e,t){return new jo(mo.Modulo,this,e,null,t)}},{key:"and",value:function(e,t){return new jo(mo.And,this,e,null,t)}},{key:"bitwiseAnd",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new jo(mo.BitwiseAnd,this,e,null,t,n)}},{key:"or",value:function(e,t){return new jo(mo.Or,this,e,null,t)}},{key:"lower",value:function(e,t){return new jo(mo.Lower,this,e,null,t)}},{key:"lowerEquals",value:function(e,t){return new jo(mo.LowerEquals,this,e,null,t)}},{key:"bigger",value:function(e,t){return new jo(mo.Bigger,this,e,null,t)}},{key:"biggerEquals",value:function(e,t){return new jo(mo.BiggerEquals,this,e,null,t)}},{key:"isBlank",value:function(e){return this.equals(Xo,e)}},{key:"cast",value:function(e,t){return new Lo(this,e,t)}},{key:"toStmt",value:function(){return new Jo(this,null)}}]),e}(),Co=function(e){return e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack",e}({}),Eo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r)),"string"==typeof e?(i.name=e,i.builtin=null):(i.name=null,i.builtin=e),i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.name===e.name&&this.builtin===e.builtin}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadVarExpr(this,t)}},{key:"set",value:function(e){if(!this.name)throw new Error("Built in variable ".concat(this.builtin," can not be assigned to."));return new xo(this.name,e,null,this.sourceSpan)}}]),t}(ko),wo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).expr=e,i}return _inherits(t,e),_createClass(t,[{key:"visitExpression",value:function(e,t){return e.visitTypeofExpr(this,t)}},{key:"isEquivalent",value:function(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}},{key:"isConstant",value:function(){return this.expr.isConstant()}}]),t}(ko),xo=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r||n.type,i))).name=e,s.value=n,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteVarExpr(this,t)}},{key:"toDeclStmt",value:function(e,t){return new Go(this.name,this.value,e,t,this.sourceSpan)}},{key:"toConstDecl",value:function(){return this.toDeclStmt(vo,[Ko.Final])}}]),t}(ko),bo=function(e){function t(e,n,r,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i||r.type,s))).receiver=e,a.index=n,a.value=r,a}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWriteKeyExpr(this,t)}}]),t}(ko),So=function(e){function t(e,n,r,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i||r.type,s))).receiver=e,a.name=n,a.value=r,a}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitWritePropExpr(this,t)}}]),t}(ko),To=function(e){return e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind",e}({}),Ao=function(e){function t(e,n,r,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,s))).receiver=e,a.args=r,"string"==typeof n?(a.name=n,a.builtin=null):(a.name=null,a.builtin=n),a}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&_o(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeMethodExpr(this,t)}}]),t}(ko),Po=function(e){function t(e,n,r,i){var s,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,i))).fn=e,s.args=n,s.pure=a,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&_o(this.args,e.args)&&this.pure===e.pure}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInvokeFunctionExpr(this,t)}}]),t}(ko),No=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,i))).classExpr=e,s.args=n,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&_o(this.args,e.args)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitInstantiateExpr(this,t)}}]),t}(ko),Io=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).value=e,i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.value===e.value}},{key:"isConstant",value:function(){return!0}},{key:"visitExpression",value:function(e,t){return e.visitLiteralExpr(this,t)}}]),t}(ko),Mo=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,s))).value=e,r.typeParams=i,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitExternalExpr(this,t)}}]),t}(ko),Oo=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,s||n.type,a))).condition=e,r.falseCase=i,r.trueCase=n,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&go(this.falseCase,e.falseCase)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitConditionalExpr(this,t)}}]),t}(ko),Ro=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,yo,n))).condition=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitNotExpr(this,t)}}]),t}(ko),Do=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.type,n))).condition=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitAssertNotNullExpr(this,t)}}]),t}(ko),Lo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).value=e,i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.value.isEquivalent(e.value)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCastExpr(this,t)}}]),t}(ko),Fo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:"isEquivalent",value:function(e){return this.name===e.name}}]),e}(),Vo=function(e){function t(e,n,r,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,i))).params=e,a.statements=n,a.name=s,a}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.params,e.params)&&_o(this.statements,e.statements)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitFunctionExpr(this,t)}},{key:"toDeclStmt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Zo(e,this.params,this.statements,this.type,t,this.sourceSpan)}}]),t}(ko),jo=function(e){function t(e,n,r,i,s){var a,o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i||n.type,s))).operator=e,a.rhs=r,a.parens=o,a.lhs=n,a}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitBinaryOperatorExpr(this,t)}}]),t}(ko),Uo=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,i))).receiver=e,s.name=n,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadPropExpr(this,t)}},{key:"set",value:function(e){return new So(this.receiver,this.name,e,null,this.sourceSpan)}}]),t}(ko),Ho=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,i))).receiver=e,s.index=n,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitReadKeyExpr(this,t)}},{key:"set",value:function(e){return new bo(this.receiver,this.index,e,null,this.sourceSpan)}}]),t}(ko),Bo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).entries=e,i}return _inherits(t,e),_createClass(t,[{key:"isConstant",value:function(){return this.entries.every((function(e){return e.isConstant()}))}},{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.entries,e.entries)}},{key:"visitExpression",value:function(e,t){return e.visitLiteralArrayExpr(this,t)}}]),t}(ko),qo=function(){function e(t,n,r){_classCallCheck(this,e),this.key=t,this.value=n,this.quoted=r}return _createClass(e,[{key:"isEquivalent",value:function(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}]),e}(),Wo=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).entries=e,i.valueType=null,n&&(i.valueType=n.valueType),i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.entries,e.entries)}},{key:"isConstant",value:function(){return this.entries.every((function(e){return e.value.isConstant()}))}},{key:"visitExpression",value:function(e,t){return e.visitLiteralMapExpr(this,t)}}]),t}(ko),zo=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e[e.length-1].type,n))).parts=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.parts,e.parts)}},{key:"isConstant",value:function(){return!1}},{key:"visitExpression",value:function(e,t){return e.visitCommaExpr(this,t)}}]),t}(ko),Qo=new Io(null,null,null),Xo=new Io(null,vo,null),Ko=function(e){return e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static",e}({}),Yo=function(){function e(t,n){_classCallCheck(this,e),this.modifiers=t||[],this.sourceSpan=n||null}return _createClass(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}(),Go=function(e){function t(e,n,r){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4?arguments[4]:void 0;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,s,a))).name=e,i.value=n,i.type=r||n&&n.type||null,i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareVarStmt(this,t)}}]),t}(Yo),Zo=function(e){function t(e,n,r,i){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,a,o))).name=e,s.params=n,s.statements=r,s.type=i||null,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.params,e.params)&&_o(this.statements,e.statements)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareFunctionStmt(this,t)}}]),t}(Yo),Jo=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,n))).expr=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}},{key:"visitStatement",value:function(e,t){return e.visitExpressionStmt(this,t)}}]),t}(Yo),$o=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,n))).value=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.value.isEquivalent(e.value)}},{key:"visitStatement",value:function(e,t){return e.visitReturnStmt(this,t)}}]),t}(Yo),eu=function(){function e(t,n){_classCallCheck(this,e),this.modifiers=n,n||(this.modifiers=[]),this.type=t||null}return _createClass(e,[{key:"hasModifier",value:function(e){return-1!==this.modifiers.indexOf(e)}}]),e}(),tu=function(e){function t(e,n,r,i){var s,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,i,a))).name=e,s.params=n,s.body=r,s}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return this.name===e.name&&_o(this.body,e.body)}}]),t}(eu),nu=function(e){function t(e,n,r){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,s))).name=e,i.body=n,i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return this.name===e.name&&_o(this.body,e.body)}}]),t}(eu),ru=function(e){function t(e,n,r,i,s,a){var o,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,u,l))).name=e,o.parent=n,o.fields=r,o.getters=i,o.constructorMethod=s,o.methods=a,o}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.name===e.name&&go(this.parent,e.parent)&&_o(this.fields,e.fields)&&_o(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&_o(this.methods,e.methods)}},{key:"visitStatement",value:function(e,t){return e.visitDeclareClassStmt(this,t)}}]),t}(Yo),iu=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3?arguments[3]:void 0;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,s))).condition=e,r.trueCase=n,r.falseCase=i,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&_o(this.trueCase,e.trueCase)&&_o(this.falseCase,e.falseCase)}},{key:"visitStatement",value:function(e,t){return e.visitIfStmt(this,t)}}]),t}(Yo),su=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,r))).bodyStmts=e,i.catchStmts=n,i}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof t&&_o(this.bodyStmts,e.bodyStmts)&&_o(this.catchStmts,e.catchStmts)}},{key:"visitStatement",value:function(e,t){return e.visitTryCatchStmt(this,t)}}]),t}(Yo),au=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,null,n))).error=e,r}return _inherits(t,e),_createClass(t,[{key:"isEquivalent",value:function(e){return e instanceof su&&this.error.isEquivalent(e.error)}},{key:"visitStatement",value:function(e,t){return e.visitThrowStmt(this,t)}}]),t}(Yo),ou=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transformExpr",value:function(e,t){return e}},{key:"transformStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitTypeofExpr",value:function(e,t){return this.transformExpr(new wo(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteVarExpr",value:function(e,t){return this.transformExpr(new xo(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWriteKeyExpr",value:function(e,t){return this.transformExpr(new bo(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitWritePropExpr",value:function(e,t){return this.transformExpr(new So(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeMethodExpr",value:function(e,t){var n=e.builtin||e.name;return this.transformExpr(new Ao(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return this.transformExpr(new Po(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitInstantiateExpr",value:function(e,t){return this.transformExpr(new No(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitExternalExpr",value:function(e,t){return this.transformExpr(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return this.transformExpr(new Oo(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitNotExpr",value:function(e,t){return this.transformExpr(new Ro(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return this.transformExpr(new Do(e.condition.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitCastExpr",value:function(e,t){return this.transformExpr(new Lo(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitFunctionExpr",value:function(e,t){return this.transformExpr(new Vo(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return this.transformExpr(new jo(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitReadPropExpr",value:function(e,t){return this.transformExpr(new Uo(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}},{key:"visitReadKeyExpr",value:function(e,t){return this.transformExpr(new Ho(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.transformExpr(new Bo(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r=e.entries.map((function(e){return new qo(e.key,e.value.visitExpression(n,t),e.quoted)})),i=new po(e.valueType,null);return this.transformExpr(new Wo(r,i,e.sourceSpan),t)}},{key:"visitCommaExpr",value:function(e,t){return this.transformExpr(new zo(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map((function(e){return e.visitExpression(n,t)}))}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new Go(e.name,n,e.type,e.modifiers,e.sourceSpan),t)}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.transformStmt(new Zo(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)}},{key:"visitExpressionStmt",value:function(e,t){return this.transformStmt(new Jo(e.expr.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitReturnStmt",value:function(e,t){return this.transformStmt(new $o(e.value.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this,r=e.parent.visitExpression(this,t),i=e.getters.map((function(e){return new nu(e.name,n.visitAllStatements(e.body,t),e.type,e.modifiers)})),s=e.constructorMethod&&new tu(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),a=e.methods.map((function(e){return new tu(e.name,e.params,n.visitAllStatements(e.body,t),e.type,e.modifiers)}));return this.transformStmt(new ru(e.name,r,e.fields,i,s,a,e.modifiers,e.sourceSpan),t)}},{key:"visitIfStmt",value:function(e,t){return this.transformStmt(new iu(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)}},{key:"visitTryCatchStmt",value:function(e,t){return this.transformStmt(new su(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)}},{key:"visitThrowStmt",value:function(e,t){return this.transformStmt(new au(e.error.visitExpression(this,t),e.sourceSpan),t)}},{key:"visitCommentStmt",value:function(e,t){return this.transformStmt(e,t)}},{key:"visitJSDocCommentStmt",value:function(e,t){return this.transformStmt(e,t)}},{key:"visitAllStatements",value:function(e,t){var n=this;return e.map((function(e){return e.visitStatement(n,t)}))}}]),e}();function uu(e){var t=new lu;return t.visitAllStatements(e,null),t.varNames}var lu=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).varNames=new Set,e}return _inherits(t,e),_createClass(t,[{key:"visitDeclareFunctionStmt",value:function(e,t){return e}},{key:"visitDeclareClassStmt",value:function(e,t){return e}},{key:"visitReadVarExpr",value:function(e,t){return e.name&&this.varNames.add(e.name),null}}]),t}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitType",value:function(e,t){return e}},{key:"visitExpression",value:function(e,t){return e.type&&e.type.visitType(this,t),e}},{key:"visitBuiltinType",value:function(e,t){return this.visitType(e,t)}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach((function(e){return n.visitType(e,t)})),this.visitType(e,t)}},{key:"visitArrayType",value:function(e,t){return this.visitType(e,t)}},{key:"visitMapType",value:function(e,t){return this.visitType(e,t)}},{key:"visitWrappedNodeExpr",value:function(e,t){return e}},{key:"visitTypeofExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitReadVarExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitWriteVarExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWriteKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitWritePropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitInvokeMethodExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitInstantiateExpr",value:function(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}},{key:"visitLiteralExpr",value:function(e,t){return this.visitExpression(e,t)}},{key:"visitExternalExpr",value:function(e,t){var n=this;return e.typeParams&&e.typeParams.forEach((function(e){return e.visitType(n,t)})),this.visitExpression(e,t)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitNotExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitFunctionExpr",value:function(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}},{key:"visitBinaryOperatorExpr",value:function(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return e.entries.forEach((function(e){return e.value.visitExpression(n,t)})),this.visitExpression(e,t)}},{key:"visitCommaExpr",value:function(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}},{key:"visitAllExpressions",value:function(e,t){var n=this;e.forEach((function(e){return e.visitExpression(n,t)}))}},{key:"visitDeclareVarStmt",value:function(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}},{key:"visitDeclareFunctionStmt",value:function(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t),e}},{key:"visitReturnStmt",value:function(e,t){return e.value.visitExpression(this,t),e}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return e.parent.visitExpression(this,t),e.getters.forEach((function(e){return n.visitAllStatements(e.body,t)})),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach((function(e){return n.visitAllStatements(e.body,t)})),e}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}},{key:"visitTryCatchStmt",value:function(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}},{key:"visitThrowStmt",value:function(e,t){return e.error.visitExpression(this,t),e}},{key:"visitCommentStmt",value:function(e,t){return e}},{key:"visitJSDocCommentStmt",value:function(e,t){return e}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach((function(e){return e.visitStatement(n,t)}))}}]),e}());function cu(e,t){if(!t)return e;var n=new pu(t);return e.visitStatement(n,null)}function hu(e,t){if(!t)return e;var n=new pu(t);return e.visitExpression(n,null)}var pu=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).sourceSpan=e,n}return _inherits(t,e),_createClass(t,[{key:"_clone",value:function(e){for(var t=Object.create(e.constructor.prototype),n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i]}return t}},{key:"transformExpr",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}},{key:"transformStmt",value:function(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}]),t}(ou);function fu(e,t,n){return new Eo(e,t,n)}function vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return new Mo(e,null,t,n)}function du(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=e?yu(vu(e,t,null),n):null}function yu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new co(e,t,n)}function mu(e,t,n){return new Bo(e,t,n)}function gu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Wo(e.map((function(e){return new qo(e.key,e.value,e.quoted)})),t,null)}function _u(e,t,n,r,i){return new Vo(e,t,n,r,i)}function ku(e,t,n){return new Io(e,t,n)}var Cu=/-+([a-z0-9])/g;function Eu(e,t){return wu(e,":",t)}function wu(e,t,n){var r=e.indexOf(t);return-1==r?n:[e.slice(0,r).trim(),e.slice(r+1).trim()]}function xu(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(r=e)&&null!==r&&Object.getPrototypeOf(r)===Lu?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var r}function bu(e){return null!=e}function Su(e){return void 0===e?null:e}var Tu=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitArray",value:function(e,t){var n=this;return e.map((function(e){return xu(e,n,t)}))}},{key:"visitStringMap",value:function(e,t){var n=this,r={};return Object.keys(e).forEach((function(i){r[i]=xu(e[i],n,t)})),r}},{key:"visitPrimitive",value:function(e,t){return e}},{key:"visitOther",value:function(e,t){return e}}]),e}(),Au=function(e){if(Uu(e))throw new Error("Illegal state: value cannot be a promise");return e},Pu=function(e,t){return Uu(e)?e.then(t):t(e)},Nu=function(e){return e.some(Uu)?Promise.all(e):e};function Iu(e){throw new Error("Internal Error: ".concat(e))}function Mu(e,t){var n=Error(e);return n[Ou]=!0,t&&(n[Ru]=t),n}var Ou="ngSyntaxError",Ru="ngParseErrors";function Du(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var Lu=Object.getPrototypeOf({});function Fu(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>=55296&&r<=56319&&e.length>n+1){var i=e.charCodeAt(n+1);i>=56320&&i<=57343&&(n++,r=(r-55296<<10)+i-56320+65536)}r<=127?t+=String.fromCharCode(r):r<=2047?t+=String.fromCharCode(r>>6&31|192,63&r|128):r<=65535?t+=String.fromCharCode(r>>12|224,r>>6&63|128,63&r|128):r<=2097151&&(t+=String.fromCharCode(r>>18&7|240,r>>12&63|128,r>>6&63|128,63&r|128))}return t}function Vu(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Vu).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);if(!e.toString)return"object";var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ju(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function Uu(e){return!!e&&"function"==typeof e.then}"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;var Hu=("undefined"!=typeof global&&global,"_c"),Bu={},qu=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.type))).resolved=e,n.original=e,n}return _inherits(t,e),_createClass(t,[{key:"visitExpression",value:function(e,t){return t===Bu?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}},{key:"isEquivalent",value:function(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}},{key:"isConstant",value:function(){return!0}},{key:"fixup",value:function(e){this.resolved=e,this.shared=!0}}]),t}(ko),Wu=function(){function e(){_classCallCheck(this,e),this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}return _createClass(e,[{key:"getConstLiteral",value:function(e,t){if(e instanceof Io||e instanceof qu)return e;var n=this.keyOf(e),r=this.literals.get(n),i=!1;if(r||(r=new qu(e),this.literals.set(n,r),i=!0),!i&&!r.shared||i&&t){var s=this.freshName();this.statements.push(fu(s).set(e).toDeclStmt(vo,[Ko.Final])),r.fixup(fu(s))}return r}},{key:"getDefinition",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this.definitionsOf(t),s=i.get(e),a=!1;if(!s){var o=this.propertyNameOf(t);s=new qu(n.importExpr(e).prop(o)),i.set(e,s),a=!0}if(!a&&!s.shared||a&&r){var u=this.freshName();this.statements.push(fu(u).set(s.resolved).toDeclStmt(vo,[Ko.Final])),s.fixup(fu(u))}return s}},{key:"getLiteralFactory",value:function(e){if(e instanceof Bo){var t=e.entries.map((function(e){return e.isConstant()?e:ku(null)})),n=this.keyOf(mu(t));return this._getLiteralFactory(n,e.entries,(function(e){return mu(e)}))}var r=gu(e.entries.map((function(e){return{key:e.key,value:e.value.isConstant()?e.value:ku(null),quoted:e.quoted}}))),i=this.keyOf(r);return this._getLiteralFactory(i,e.entries.map((function(e){return e.value})),(function(t){return gu(t.map((function(t,n){return{key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}})))}))}},{key:"_getLiteralFactory",value:function(e,t,n){var r=this,i=this.literalFactories.get(e),s=t.filter((function(e){return!e.isConstant()}));if(!i){var a=t.map((function(e,t){return e.isConstant()?r.getConstLiteral(e,!0):fu("a".concat(t))})),o=_u(a.filter(Xu).map((function(e){return new Fo(e.name,fo)})),[new $o(n(a))],vo),u=this.freshName();this.statements.push(fu(u).set(o).toDeclStmt(vo,[Ko.Final])),i=fu(u),this.literalFactories.set(e,i)}return{literalFactory:i,literalFactoryArguments:s}}},{key:"uniqueName",value:function(e){return"".concat(e).concat(this.nextNameIndex++)}},{key:"definitionsOf",value:function(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return Iu("Unknown definition kind ".concat(e)),this.componentDefinitions}},{key:"propertyNameOf",value:function(e){switch(e){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return Iu("Unknown definition kind ".concat(e)),"<unknown>"}},{key:"freshName",value:function(){return this.uniqueName(Hu)}},{key:"keyOf",value:function(e){return e.visitExpression(new zu,Bu)}}]),e}(),zu=function(){function e(){_classCallCheck(this,e),this.visitWrappedNodeExpr=Qu,this.visitWriteVarExpr=Qu,this.visitWriteKeyExpr=Qu,this.visitWritePropExpr=Qu,this.visitInvokeMethodExpr=Qu,this.visitInvokeFunctionExpr=Qu,this.visitInstantiateExpr=Qu,this.visitConditionalExpr=Qu,this.visitNotExpr=Qu,this.visitAssertNotNullExpr=Qu,this.visitCastExpr=Qu,this.visitFunctionExpr=Qu,this.visitBinaryOperatorExpr=Qu,this.visitReadPropExpr=Qu,this.visitReadKeyExpr=Qu,this.visitCommaExpr=Qu}return _createClass(e,[{key:"visitLiteralExpr",value:function(e){return"".concat("string"==typeof e.value?'"'+e.value+'"':e.value)}},{key:"visitLiteralArrayExpr",value:function(e,t){var n=this;return"[".concat(e.entries.map((function(e){return e.visitExpression(n,t)})).join(","),"]")}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return"{".concat(e.entries.map((function(e){return"".concat(function(e){var t=e.quoted?'"':"";return"".concat(t).concat(e.key).concat(t)}(e),":").concat(e.value.visitExpression(n,t))})).join(","))}},{key:"visitExternalExpr",value:function(e){return e.value.moduleName?"EX:".concat(e.value.moduleName,":").concat(e.value.name):"EX:".concat(e.value.runtime.name)}},{key:"visitReadVarExpr",value:function(e){return"VAR:".concat(e.name)}},{key:"visitTypeofExpr",value:function(e,t){return"TYPEOF:".concat(e.expr.visitExpression(this,t))}}]),e}();function Qu(e){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(e.constructor.name))}function Xu(e){return e instanceof Eo}var Ku="@angular/core",Yu=function(){var e=function e(){_classCallCheck(this,e)};return e.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Ku},e.ElementRef={name:"ElementRef",moduleName:Ku},e.NgModuleRef={name:"NgModuleRef",moduleName:Ku},e.ViewContainerRef={name:"ViewContainerRef",moduleName:Ku},e.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Ku},e.QueryList={name:"QueryList",moduleName:Ku},e.TemplateRef={name:"TemplateRef",moduleName:Ku},e.Renderer2={name:"Renderer2",moduleName:Ku},e.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Ku},e.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Ku},e.ComponentFactory={name:"ComponentFactory",moduleName:Ku},e.ComponentRef={name:"ComponentRef",moduleName:Ku},e.NgModuleFactory={name:"NgModuleFactory",moduleName:Ku},e.createModuleFactory={name:"\u0275cmf",moduleName:Ku},e.moduleDef={name:"\u0275mod",moduleName:Ku},e.moduleProviderDef={name:"\u0275mpd",moduleName:Ku},e.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Ku},e.inject={name:"\u0275\u0275inject",moduleName:Ku},e.INJECTOR={name:"INJECTOR",moduleName:Ku},e.Injector={name:"Injector",moduleName:Ku},e.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:Ku},e.InjectableDef={name:"\u0275\u0275InjectableDef",moduleName:Ku},e.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Ku},e.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Ku},e.SecurityContext={name:"SecurityContext",moduleName:Ku},e.LOCALE_ID={name:"LOCALE_ID",moduleName:Ku},e.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Ku},e.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Ku},e.interpolate={name:"\u0275interpolate",moduleName:Ku},e.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Ku},e.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Ku},e.Renderer={name:"Renderer",moduleName:Ku},e.viewDef={name:"\u0275vid",moduleName:Ku},e.elementDef={name:"\u0275eld",moduleName:Ku},e.anchorDef={name:"\u0275and",moduleName:Ku},e.textDef={name:"\u0275ted",moduleName:Ku},e.directiveDef={name:"\u0275did",moduleName:Ku},e.providerDef={name:"\u0275prd",moduleName:Ku},e.queryDef={name:"\u0275qud",moduleName:Ku},e.pureArrayDef={name:"\u0275pad",moduleName:Ku},e.pureObjectDef={name:"\u0275pod",moduleName:Ku},e.purePipeDef={name:"\u0275ppd",moduleName:Ku},e.pipeDef={name:"\u0275pid",moduleName:Ku},e.nodeValue={name:"\u0275nov",moduleName:Ku},e.ngContentDef={name:"\u0275ncd",moduleName:Ku},e.unwrapValue={name:"\u0275unv",moduleName:Ku},e.createRendererType2={name:"\u0275crt",moduleName:Ku},e.RendererType2={name:"RendererType2",moduleName:Ku},e.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Ku},e.createComponentFactory={name:"\u0275ccf",moduleName:Ku},e.setClassMetadata={name:"\u0275setClassMetadata",moduleName:Ku},e}();function Gu(e){return{identifier:{reference:e}}}function Zu(e,t){return Gu(e.resolveExternalReference(t))}var Ju=function(){function e(t,n,r){_classCallCheck(this,e),this.filePath=t,this.name=n,this.members=r}return _createClass(e,[{key:"assertNoMembers",value:function(){if(this.members.length)throw new Error("Illegal state: symbol without members expected, but got ".concat(JSON.stringify(this),"."))}}]),e}(),$u=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function el(e){return e.replace(/\W/g,"_")}var tl=0;function nl(e){if(!e||!e.reference)return null;var t=e.reference;if(t instanceof Ju)return t.name;if(t.__anonymousType)return t.__anonymousType;var n=Vu(t);return n.indexOf("(")>=0?(n="anonymous_".concat(tl++),t.__anonymousType=n):n=el(n),n}function rl(e){var t=e.reference;return t instanceof Ju?t.filePath:"./".concat(Vu(t))}function il(e,t){return"View_".concat(nl({reference:e}),"_").concat(t)}function sl(e){return"RenderType_".concat(nl({reference:e}))}var al=function(e){return e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable",e}({});function ol(e){return null!=e.value?el(e.value):nl(e.identifier)}function ul(e){return null!=e.identifier?e.identifier.reference:e.value}var ll=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.moduleUrl,r=t.styles,i=t.styleUrls;_classCallCheck(this,e),this.moduleUrl=n||null,this.styles=dl(r),this.styleUrls=dl(i)},cl=function(){function e(t){var n=t.encapsulation,r=t.template,i=t.templateUrl,s=t.htmlAst,a=t.styles,o=t.styleUrls,u=t.externalStylesheets,l=t.animations,c=t.ngContentSelectors,h=t.interpolation,p=t.isInline,f=t.preserveWhitespaces;if(_classCallCheck(this,e),this.encapsulation=n,this.template=r,this.templateUrl=i,this.htmlAst=s,this.styles=dl(a),this.styleUrls=dl(o),this.externalStylesheets=dl(u),this.animations=l?function e(t){return t.reduce((function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)}),[])}(l):[],this.ngContentSelectors=c||[],h&&2!=h.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=h,this.isInline=p,this.preserveWhitespaces=f}return _createClass(e,[{key:"toSummary",value:function(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}]),e}(),hl=function(){function e(t){var n=t.isHost,r=t.type,i=t.isComponent,s=t.selector,a=t.exportAs,o=t.changeDetection,u=t.inputs,l=t.outputs,c=t.hostListeners,h=t.hostProperties,p=t.hostAttributes,f=t.providers,v=t.viewProviders,d=t.queries,y=t.guards,m=t.viewQueries,g=t.entryComponents,_=t.template,k=t.componentViewType,C=t.rendererType,E=t.componentFactory;_classCallCheck(this,e),this.isHost=!!n,this.type=r,this.isComponent=i,this.selector=s,this.exportAs=a,this.changeDetection=o,this.inputs=u,this.outputs=l,this.hostListeners=c,this.hostProperties=h,this.hostAttributes=p,this.providers=dl(f),this.viewProviders=dl(v),this.queries=dl(d),this.guards=y,this.viewQueries=dl(m),this.entryComponents=dl(g),this.template=_,this.componentViewType=k,this.rendererType=C,this.componentFactory=E}return _createClass(e,null,[{key:"create",value:function(t){var n=t.isHost,r=t.type,i=t.isComponent,s=t.selector,a=t.exportAs,o=t.changeDetection,u=t.inputs,l=t.outputs,c=t.host,h=t.providers,p=t.viewProviders,f=t.queries,v=t.guards,d=t.viewQueries,y=t.entryComponents,m=t.template,g=t.componentViewType,_=t.rendererType,k=t.componentFactory,C={},E={},w={};null!=c&&Object.keys(c).forEach((function(e){var t=c[e],n=e.match($u);null===n?w[e]=t:null!=n[1]?E[n[1]]=t:null!=n[2]&&(C[n[2]]=t)}));var x={};null!=u&&u.forEach((function(e){var t=Eu(e,[e,e]);x[t[0]]=t[1]}));var b={};return null!=l&&l.forEach((function(e){var t=Eu(e,[e,e]);b[t[0]]=t[1]})),new e({isHost:n,type:r,isComponent:!!i,selector:s,exportAs:a,changeDetection:o,inputs:x,outputs:b,hostListeners:C,hostProperties:E,hostAttributes:w,providers:h,viewProviders:p,queries:f,guards:v,viewQueries:d,entryComponents:y,template:m,componentViewType:g,rendererType:_,componentFactory:k})}}]),_createClass(e,[{key:"toSummary",value:function(){return{summaryKind:al.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}]),e}(),pl=function(){function e(t){var n=t.type,r=t.name,i=t.pure;_classCallCheck(this,e),this.type=n,this.name=r,this.pure=!!i}return _createClass(e,[{key:"toSummary",value:function(){return{summaryKind:al.Pipe,type:this.type,name:this.name,pure:this.pure}}}]),e}(),fl=function(){function e(t){var n=t.type,r=t.providers,i=t.declaredDirectives,s=t.exportedDirectives,a=t.declaredPipes,o=t.exportedPipes,u=t.entryComponents,l=t.bootstrapComponents,c=t.importedModules,h=t.exportedModules,p=t.schemas,f=t.transitiveModule,v=t.id;_classCallCheck(this,e),this.type=n||null,this.declaredDirectives=dl(i),this.exportedDirectives=dl(s),this.declaredPipes=dl(a),this.exportedPipes=dl(o),this.providers=dl(r),this.entryComponents=dl(u),this.bootstrapComponents=dl(l),this.importedModules=dl(c),this.exportedModules=dl(h),this.schemas=dl(p),this.id=v||null,this.transitiveModule=f||null}return _createClass(e,[{key:"toSummary",value:function(){var e=this.transitiveModule;return{summaryKind:al.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}]),e}(),vl=function(){function e(){_classCallCheck(this,e),this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}return _createClass(e,[{key:"addProvider",value:function(e,t){this.providers.push({provider:e,module:t})}},{key:"addDirective",value:function(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}},{key:"addExportedDirective",value:function(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}},{key:"addPipe",value:function(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}},{key:"addExportedPipe",value:function(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}},{key:"addModule",value:function(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}},{key:"addEntryComponent",value:function(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}]),e}();function dl(e){return e||[]}var yl=function e(t,n){var r=n.useClass,i=n.useValue,s=n.useExisting,a=n.useFactory,o=n.deps,u=n.multi;_classCallCheck(this,e),this.token=t,this.useClass=r||null,this.useValue=i,this.useExisting=s,this.useFactory=a||null,this.dependencies=o||null,this.multi=!!u};function ml(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function gl(e,t,n){var r;return r=n.isInline?t.type.reference instanceof Ju?"".concat(t.type.reference.filePath,".").concat(t.type.reference.name,".html"):"".concat(nl(e),"/").concat(nl(t.type),".html"):n.templateUrl,t.type.reference instanceof Ju?r:ml(r)}var _l=0,kl=9,Cl=10,El=11,wl=12,xl=13,bl=32,Sl=34,Tl=36,Al=39,Pl=43,Nl=45,Il=47,Ml=59,Ol=61,Rl=62,Dl=48,Ll=55,Fl=57,Vl=65,jl=70,Ul=90,Hl=95,Bl=97,ql=102,Wl=110,zl=114,Ql=116,Xl=118,Kl=122,Yl=160;function Gl(e){return e>=kl&&e<=bl||e==Yl}function Zl(e){return Dl<=e&&e<=Fl}function Jl(e){return e>=Bl&&e<=Kl||e>=Vl&&e<=Ul}function $l(e){return e===Cl||e===xl}function ec(e){return Dl<=e&&e<=Ll}var tc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.file=t,this.offset=n,this.line=r,this.col=i}return _createClass(e,[{key:"toString",value:function(){return null!=this.offset?"".concat(this.file.url,"@").concat(this.line,":").concat(this.col):this.file.url}},{key:"moveBy",value:function(t){for(var n=this.file.content,r=n.length,i=this.offset,s=this.line,a=this.col;i>0&&t<0;)if(t++,n.charCodeAt(--i)==Cl){s--;var o=n.substr(0,i-1).lastIndexOf(String.fromCharCode(Cl));a=o>0?i-o:i}else a--;for(;i<r&&t>0;){var u=n.charCodeAt(i);i++,t--,u==Cl?(s++,a=0):a++}return new e(this.file,i,s,a)}},{key:"getContext",value:function(e,t){var n=this.file.content,r=this.offset;if(null!=r){r>n.length-1&&(r=n.length-1);for(var i=r,s=0,a=0;s<e&&r>0&&(s++,"\n"!=n[--r]||++a!=t););for(s=0,a=0;s<e&&i<n.length-1&&(s++,"\n"!=n[++i]||++a!=t););return{before:n.substring(r,this.offset),after:n.substring(this.offset,i+1)}}return null}}]),e}(),nc=function e(t,n){_classCallCheck(this,e),this.content=t,this.url=n},rc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,e),this.start=t,this.end=n,this.details=r}return _createClass(e,[{key:"toString",value:function(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}]),e}(),ic=function(e){return e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR",e}({}),sc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ic.ERROR;_classCallCheck(this,e),this.span=t,this.msg=n,this.level=r}return _createClass(e,[{key:"contextualMessage",value:function(){var e=this.span.start.getContext(100,3);return e?"".concat(this.msg,' ("').concat(e.before,"[").concat(ic[this.level]," ->]").concat(e.after,'")'):this.msg}},{key:"toString",value:function(){var e=this.span.details?", ".concat(this.span.details):"";return"".concat(this.contextualMessage(),": ").concat(this.span.start).concat(e)}}]),e}(),ac=function e(t,n,r,i,s,a){_classCallCheck(this,e),this.nodes=t,this.placeholders=n,this.placeholderToMessage=r,this.meaning=i,this.description=s,this.id=a,this.sources=t.length?[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:[]},oc=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.sourceSpan=n}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),uc=function(){function e(t,n){_classCallCheck(this,e),this.children=t,this.sourceSpan=n}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitContainer(this,t)}}]),e}(),lc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.expression=t,this.type=n,this.cases=r,this.sourceSpan=i}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitIcu(this,t)}}]),e}(),cc=function(){function e(t,n,r,i,s,a,o){_classCallCheck(this,e),this.tag=t,this.attrs=n,this.startName=r,this.closeName=i,this.children=s,this.isVoid=a,this.sourceSpan=o}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitTagPlaceholder(this,t)}}]),e}(),hc=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.name=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitPlaceholder(this,t)}}]),e}(),pc=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.name=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitIcuPlaceholder(this,t)}}]),e}(),fc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitText",value:function(e,t){}},{key:"visitContainer",value:function(e,t){var n=this;e.children.forEach((function(e){return e.visit(n)}))}},{key:"visitIcu",value:function(e,t){var n=this;Object.keys(e.cases).forEach((function(t){e.cases[t].visit(n)}))}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;e.children.forEach((function(e){return e.visit(n)}))}},{key:"visitPlaceholder",value:function(e,t){}},{key:"visitIcuPlaceholder",value:function(e,t){}}]),e}();function vc(e){return e.id||function(e){var t=Fu(e),n=function(e,t){for(var n=Array(e.length+3>>>2),r=0;r<n.length;r++)n[r]=Pc(e,4*r,t);return n}(t,wc.Big),r=8*t.length,i=new Array(80),s=1732584193,a=4023233417,o=2562383102,u=271733878,l=3285377520;n[r>>5]|=128<<24-r%32,n[15+(r+64>>9<<4)]=r;for(var c=0;c<n.length;c+=16){for(var h=s,p=a,f=o,v=u,d=l,y=0;y<80;y++){i[y]=y<16?n[c+y]:Tc(i[y-3]^i[y-8]^i[y-14]^i[y-16],1);var m=_slicedToArray(_c(y,a,o,u),2),g=m[0],_=m[1],k=[Tc(s,5),g,l,_,i[y]].reduce(xc),C=[u,o,Tc(a,30),s,k];l=C[0],u=C[1],o=C[2],a=C[3],s=C[4]}var E=[xc(s,h),xc(a,p),xc(o,f),xc(u,v),xc(l,d)];s=E[0],a=E[1],o=E[2],u=E[3],l=E[4]}return function(e){for(var t="",n=0;n<e.length;n++){var r=Ac(e,n);t+=(r>>>4).toString(16)+(15&r).toString(16)}return t.toLowerCase()}(Nc([s,a,o,u,l]))}((t=e.nodes,t.map((function(e){return e.visit(mc,null)}))).join("")+"[".concat(e.meaning,"]"));var t}function dc(e){if(e.id)return e.id;var t=new gc;return function(e,t){var n,r,i,s,a,o,u,l,c,h,p=_slicedToArray(kc(e),2),f=p[0],v=p[1];if(t){var d=_slicedToArray(kc(t),2),y=d[0],m=d[1],g=(n=function(e,t){var n=_slicedToArray(e,2),r=n[0],i=n[1];return[r<<1|i>>>31,i<<1|r>>>31]}([f,v]),r=[y,m],i=_slicedToArray(n,2),s=i[0],a=i[1],o=_slicedToArray(r,2),u=o[0],l=_slicedToArray(bc(a,o[1]),2),c=l[0],h=l[1],[xc(xc(s,u),c),h]),_=_slicedToArray(g,2);f=_[0],v=_[1]}return function(e){for(var t="",n="1",r=e.length-1;r>=0;r--)t=Ic(t,Mc(Ac(e,r),n)),n=Mc(256,n);return t.split("").reverse().join("")}(Nc([2147483647&f,v]))}(e.nodes.map((function(e){return e.visit(t,null)})).join(""),e.meaning)}var yc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitText",value:function(e,t){return e.value}},{key:"visitContainer",value:function(e,t){var n=this;return"[".concat(e.children.map((function(e){return e.visit(n)})).join(", "),"]")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}));return"{".concat(e.expression,", ").concat(e.type,", ").concat(r.join(", "),"}")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this;return e.isVoid?'<ph tag name="'.concat(e.startName,'"/>'):'<ph tag name="'.concat(e.startName,'">').concat(e.children.map((function(e){return e.visit(n)})).join(", "),'</ph name="').concat(e.closeName,'">')}},{key:"visitPlaceholder",value:function(e,t){return e.value?'<ph name="'.concat(e.name,'">').concat(e.value,"</ph>"):'<ph name="'.concat(e.name,'"/>')}},{key:"visitIcuPlaceholder",value:function(e,t){return'<ph icu name="'.concat(e.name,'">').concat(e.value.visit(this),"</ph>")}}]),e}(),mc=new yc,gc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}));return"{".concat(e.type,", ").concat(r.join(", "),"}")}}]),t}(yc);function _c(e,t,n,r){return e<20?[t&n|~t&r,1518500249]:e<40?[t^n^r,1859775393]:e<60?[t&n|t&r|n&r,2400959708]:[t^n^r,3395469782]}function kc(e){var t=Fu(e),n=[Cc(t,0),Cc(t,102072)],r=n[0],i=n[1];return 0!=r||0!=i&&1!=i||(r^=319790063,i^=-1801410264),[r,i]}function Cc(e,t){var n,r=2654435769,i=2654435769,s=e.length;for(n=0;n+12<=s;n+=12){var a;r=(a=_slicedToArray(Ec([r=xc(r,Pc(e,n,wc.Little)),i=xc(i,Pc(e,n+4,wc.Little)),t=xc(t,Pc(e,n+8,wc.Little))]),3))[0],i=a[1],t=a[2]}return r=xc(r,Pc(e,n,wc.Little)),i=xc(i,Pc(e,n+4,wc.Little)),t=xc(t,s),Ec([r,i,t=xc(t,Pc(e,n+8,wc.Little)<<8)])[2]}function Ec(e){var t=_slicedToArray(e,3),n=t[0],r=t[1],i=t[2];return n=Sc(n,r),n=Sc(n,i),n^=i>>>13,r=Sc(r,i),r=Sc(r,n),r^=n<<8,i=Sc(i,n),i=Sc(i,r),i^=r>>>13,n=Sc(n,r),n=Sc(n,i),n^=i>>>12,r=Sc(r,i),r=Sc(r,n),r^=n<<16,i=Sc(i,n),i=Sc(i,r),i^=r>>>5,n=Sc(n,r),n=Sc(n,i),n^=i>>>3,r=Sc(r,i),r=Sc(r,n),r^=n<<10,i=Sc(i,n),i=Sc(i,r),[n,r,i^=r>>>15]}var wc=function(e){return e[e.Little=0]="Little",e[e.Big=1]="Big",e}({});function xc(e,t){return bc(e,t)[1]}function bc(e,t){var n=(65535&e)+(65535&t),r=(e>>>16)+(t>>>16)+(n>>>16);return[r>>>16,r<<16|65535&n]}function Sc(e,t){var n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function Tc(e,t){return e<<t|e>>>32-t}function Ac(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function Pc(e,t,n){var r=0;if(n===wc.Big)for(var i=0;i<4;i++)r+=Ac(e,t+i)<<24-8*i;else for(var s=0;s<4;s++)r+=Ac(e,t+s)<<8*s;return r}function Nc(e){return e.reduce((function(e,t){return e+function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t)}),"")}function Ic(e,t){for(var n="",r=Math.max(e.length,t.length),i=0,s=0;i<r||s;i++){var a=s+ +(e[i]||0)+ +(t[i]||0);a>=10?(s=1,n+=a-10):(s=0,n+=a)}return n}function Mc(e,t){for(var n="",r=t;0!==e;e>>>=1)1&e&&(n=Ic(n,r)),r=Ic(r,r);return n}var Oc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"createNameMapper",value:function(e){return null}}]),e}(),Rc=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).mapName=n,r.internalToPublic={},r.publicToNextId={},r.publicToInternal={},e.nodes.forEach((function(e){return e.visit(_assertThisInitialized(r))})),r}return _inherits(t,e),_createClass(t,[{key:"toPublicName",value:function(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}},{key:"toInternalName",value:function(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}},{key:"visitText",value:function(e,t){return null}},{key:"visitTagPlaceholder",value:function(e,n){this.visitPlaceholderName(e.startName),_get(_getPrototypeOf(t.prototype),"visitTagPlaceholder",this).call(this,e,n),this.visitPlaceholderName(e.closeName)}},{key:"visitPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitIcuPlaceholder",value:function(e,t){this.visitPlaceholderName(e.name)}},{key:"visitPlaceholderName",value:function(e){if(e&&!this.internalToPublic.hasOwnProperty(e)){var t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){var n=this.publicToNextId[t];this.publicToNextId[t]=n+1,t="".concat(t,"_").concat(n)}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}}]),t}(fc),Dc=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitTag",value:function(e){var t=this,n=this._serializeAttributes(e.attrs);if(0==e.children.length)return"<".concat(e.name).concat(n,"/>");var r=e.children.map((function(e){return e.visit(t)}));return"<".concat(e.name).concat(n,">").concat(r.join(""),"</").concat(e.name,">")}},{key:"visitText",value:function(e){return e.value}},{key:"visitDeclaration",value:function(e){return"<?xml".concat(this._serializeAttributes(e.attrs)," ?>")}},{key:"_serializeAttributes",value:function(e){var t=Object.keys(e).map((function(t){return"".concat(t,'="').concat(e[t],'"')})).join(" ");return t.length>0?" "+t:""}},{key:"visitDoctype",value:function(e){return"<!DOCTYPE ".concat(e.rootTag," [\n").concat(e.dtd,"\n]>")}}]),e}());function Lc(e){return e.map((function(e){return e.visit(Dc)})).join("")}var Fc=function(){function e(t){var n=this;_classCallCheck(this,e),this.attrs={},Object.keys(t).forEach((function(e){n.attrs[e]=qc(t[e])}))}return _createClass(e,[{key:"visit",value:function(e){return e.visitDeclaration(this)}}]),e}(),Vc=function(){function e(t,n){_classCallCheck(this,e),this.rootTag=t,this.dtd=n}return _createClass(e,[{key:"visit",value:function(e){return e.visitDoctype(this)}}]),e}(),jc=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck(this,e),this.name=t,this.children=i,this.attrs={},Object.keys(r).forEach((function(e){n.attrs[e]=qc(r[e])}))}return _createClass(e,[{key:"visit",value:function(e){return e.visitTag(this)}}]),e}(),Uc=function(){function e(t){_classCallCheck(this,e),this.value=qc(t)}return _createClass(e,[{key:"visit",value:function(e){return e.visitText(this)}}]),e}(),Hc=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,"\n".concat(new Array(e+1).join(" "))))}return _inherits(t,e),t}(Uc),Bc=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function qc(e){return Bc.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}var Wc=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"write",value:function(e,t){var n=new Xc,r=new zc,i=new jc("messagebundle");return e.forEach((function(e){var t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);var n=[];e.sources.forEach((function(e){n.push(new jc("source",{},[new Uc("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))})),i.children.push(new Hc(2),new jc("msg",t,[].concat(n,_toConsumableArray(r.serialize(e.nodes)))))})),i.children.push(new Hc),Lc([new Fc({version:"1.0",encoding:"UTF-8"}),new Hc,new Vc("messagebundle",'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new Hc,n.addDefaultExamples(i),new Hc])}},{key:"load",value:function(e,t){throw new Error("Unsupported")}},{key:"digest",value:function(e){return Qc(e)}},{key:"createNameMapper",value:function(e){return new Rc(e,Kc)}}]),t}(Oc),zc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitText",value:function(e,t){return[new Uc(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,_toConsumableArray(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Uc("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Uc("".concat(t," {"))].concat(_toConsumableArray(e.cases[t].visit(n)),[new Uc("} ")]))})),r.push(new Uc("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=new Uc("<".concat(e.tag,">")),r=new jc("ex",{},[n]),i=new jc("ph",{name:e.startName},[r,n]);if(e.isVoid)return[i];var s=new Uc("</".concat(e.tag,">")),a=new jc("ex",{},[s]),o=new jc("ph",{name:e.closeName},[a,s]);return[i].concat(_toConsumableArray(this.serialize(e.children)),[o])}},{key:"visitPlaceholder",value:function(e,t){var n=new Uc("{{".concat(e.value,"}}")),r=new jc("ex",{},[n]);return[new jc("ph",{name:e.name},[r,n])]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=e.value.expression,r=e.value.type,i=Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),s=new Uc("{".concat(n,", ").concat(r,", ").concat(i,"}")),a=new jc("ex",{},[s]);return[new jc("ph",{name:e.name},[a,s])]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,_toConsumableArray(e.map((function(e){return e.visit(n)}))))}}]),e}();function Qc(e){return dc(e)}var Xc=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addDefaultExamples",value:function(e){return e.visit(this),e}},{key:"visitTag",value:function(e){var t=this;if("ph"===e.name){if(!e.children||0==e.children.length){var n=new Uc(e.attrs.name||"...");e.children=[new jc("ex",{},[n])]}}else e.children&&e.children.forEach((function(e){return e.visit(t)}))}},{key:"visitText",value:function(e){}},{key:"visitDeclaration",value:function(e){}},{key:"visitDoctype",value:function(e){}}]),e}();function Kc(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function Yc(e,t){if(null!=t){if(!Array.isArray(t))throw new Error("Expected '".concat(e,"' to be an array of strings."));for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error("Expected '".concat(e,"' to be an array of strings."))}}var Gc=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Zc(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected '".concat(e,"' to be an array, [start, end]."));if(null!=t){var n=t[0],r=t[1];Gc.forEach((function(e){if(e.test(n)||e.test(r))throw new Error("['".concat(n,"', '").concat(r,"'] contains unusable interpolation symbol."))}))}}var Jc=function(){function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n}return _createClass(e,null,[{key:"fromArray",value:function(t){return t?(Zc("interpolation",t),new e(t[0],t[1])):$c}}]),e}(),$c=new Jc("{{","}}"),eh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,e),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return _createClass(e,[{key:"addSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}},{key:"addLine",value:function(){return this.lines.push([]),this.lastCol0=0,this}},{key:"addMapping",value:function(e,t,n,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error('Unknown source file "'.concat(t,'"'));if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==r))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:r}),this}},{key:"toJSON",value:function(){var e=this;if(!this.hasMappings)return null;var t=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((function(i,s){t.set(i,s),n.push(i),r.push(e.sourcesContent.get(i)||null)}));var i="",s=0,a=0,o=0,u=0;return this.lines.forEach((function(e){s=0,i+=e.map((function(e){var n=th(e.col0-s);return s=e.col0,null!=e.sourceUrl&&(n+=th(t.get(e.sourceUrl)-a),a=t.get(e.sourceUrl),n+=th(e.sourceLine0-o),o=e.sourceLine0,n+=th(e.sourceCol0-u),u=e.sourceCol0),n})).join(","),i+=";"})),i=i.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:n,sourcesContent:r,mappings:i}}},{key:"toJsComment",value:function(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){var t="";e=Fu(e);for(var n=0;n<e.length;){var r=e.charCodeAt(n++),i=e.charCodeAt(n++),s=e.charCodeAt(n++);t+=rh(r>>2),t+=rh((3&r)<<4|(isNaN(i)?0:i>>4)),t+=isNaN(i)?"=":rh((15&i)<<2|s>>6),t+=isNaN(i)||isNaN(s)?"=":rh(63&s)}return t}(JSON.stringify(this,null,0)):""}},{key:"currentLine",get:function(){return this.lines.slice(-1)[0]}}]),e}();function th(e){e=e<0?1+(-e<<1):e<<1;var t="";do{var n=31&e;(e>>=5)>0&&(n|=32),t+=rh(n)}while(e>0);return t}var nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function rh(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return nh[e]}var ih=/'|\\|\n|\r|\$/g,sh=/^[$A-Z_][0-9A-Z_$]*$/i,ah="  ",oh=fu("error",null,null),uh=fu("stack",null,null),lh=function e(t){_classCallCheck(this,e),this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]},ch=function(){function e(t){_classCallCheck(this,e),this._indent=t,this._classes=[],this._preambleLineCount=0,this._lines=[new lh(t)]}return _createClass(e,[{key:"println",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.print(e||null,t,!0)}},{key:"lineIsEmpty",value:function(){return 0===this._currentLine.parts.length}},{key:"lineLength",value:function(){return this._currentLine.indent*ah.length+this._currentLine.partsLength}},{key:"print",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new lh(this._indent))}},{key:"removeEmptyLastLine",value:function(){this.lineIsEmpty()&&this._lines.pop()}},{key:"incIndent",value:function(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"decIndent",value:function(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"pushClass",value:function(e){this._classes.push(e)}},{key:"popClass",value:function(){return this._classes.pop()}},{key:"toSource",value:function(){return this.sourceLines.map((function(e){return e.parts.length>0?fh(e.indent)+e.parts.join(""):""})).join("\n")}},{key:"toSourceMapGenerator",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new eh(e),r=!1,i=function(){r||(n.addSource(e," ").addMapping(0,e,0,0),r=!0)},s=0;s<t;s++)n.addLine(),i();return this.sourceLines.forEach((function(e,t){n.addLine();for(var s=e.srcSpans,a=e.parts,o=e.indent*ah.length,u=0;u<s.length&&!s[u];)o+=a[u].length,u++;for(u<s.length&&0===t&&0===o?r=!0:i();u<s.length;){var l=s[u],c=l.start.file,h=l.start.line,p=l.start.col;for(n.addSource(c.url,c.content).addMapping(o,c.url,h,p),o+=a[u].length,u++;u<s.length&&(l===s[u]||!s[u]);)o+=a[u].length,u++}})),n}},{key:"setPreambleLineCount",value:function(e){return this._preambleLineCount=e}},{key:"spanOf",value:function(e,t){var n=this._lines[e-this._preambleLineCount];if(n)for(var r=t-fh(n.indent).length,i=0;i<n.parts.length;i++){var s=n.parts[i];if(s.length>r)return n.srcSpans[i];r-=s.length}return null}},{key:"_currentLine",get:function(){return this._lines[this._lines.length-1]}},{key:"currentClass",get:function(){return this._classes.length>0?this._classes[this._classes.length-1]:null}},{key:"sourceLines",get:function(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}],[{key:"createRoot",value:function(){return new e(0)}}]),e}(),hh=function(){function e(t){_classCallCheck(this,e),this._escapeDollarInStrings=t}return _createClass(e,[{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null}},{key:"visitReturnStmt",value:function(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}},{key:"visitIfStmt",value:function(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");var n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}},{key:"visitThrowStmt",value:function(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}},{key:"visitCommentStmt",value:function(e,t){return e.multiline?t.println(e,"/* ".concat(e.comment," */")):e.comment.split("\n").forEach((function(n){t.println(e,"// ".concat(n))})),null}},{key:"visitJSDocCommentStmt",value:function(e,t){return t.println(e,"/*".concat(e.toString(),"*/")),null}},{key:"visitWriteVarExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,"".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWriteKeyExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitWritePropExpr",value:function(e,t){var n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,".".concat(e.name," = ")),e.value.visitExpression(this,t),n||t.print(e,")"),null}},{key:"visitInvokeMethodExpr",value:function(e,t){e.receiver.visitExpression(this,t);var n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))?null:(t.print(e,".".concat(n,"(")),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null)}},{key:"visitInvokeFunctionExpr",value:function(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Co.Super:n="super";break;case Co.This:n="this";break;case Co.CatchError:n=oh.name;break;case Co.CatchStack:n=uh.name;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}return t.print(e,n),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitLiteralExpr",value:function(e,t){var n=e.value;return t.print(e,"string"==typeof n?ph(n,this._escapeDollarInStrings):"".concat(n)),null}},{key:"visitConditionalExpr",value:function(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}},{key:"visitNotExpr",value:function(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t),null}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n;switch(e.operator){case mo.Equals:n="==";break;case mo.Identical:n="===";break;case mo.NotEquals:n="!=";break;case mo.NotIdentical:n="!==";break;case mo.And:n="&&";break;case mo.BitwiseAnd:n="&";break;case mo.Or:n="||";break;case mo.Plus:n="+";break;case mo.Minus:n="-";break;case mo.Divide:n="/";break;case mo.Multiply:n="*";break;case mo.Modulo:n="%";break;case mo.Lower:n="<";break;case mo.LowerEquals:n="<=";break;case mo.Bigger:n=">";break;case mo.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator ".concat(e.operator))}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e," ".concat(n," ")),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}},{key:"visitLiteralArrayExpr",value:function(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this;return t.print(e,"{"),this.visitAllObjects((function(r){t.print(e,"".concat(ph(r.key,n._escapeDollarInStrings,r.quoted),":")),r.value.visitExpression(n,t)}),e.entries,t,","),t.print(e,"}"),null}},{key:"visitCommaExpr",value:function(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}},{key:"visitAllExpressions",value:function(e,t,n){var r=this;this.visitAllObjects((function(e){return e.visitExpression(r,t)}),e,t,n)}},{key:"visitAllObjects",value:function(e,t,n,r){for(var i=!1,s=0;s<t.length;s++)s>0&&(n.lineLength()>80?(n.print(null,r,!0),i||(n.incIndent(),n.incIndent(),i=!0)):n.print(null,r,!1)),e(t[s]);i&&(n.decIndent(),n.decIndent())}},{key:"visitAllStatements",value:function(e,t){var n=this;e.forEach((function(e){return e.visitStatement(n,t)}))}}]),e}();function ph(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e)return null;var r=e.replace(ih,(function(){return"$"==(arguments.length<=0?void 0:arguments[0])?t?"\\$":"$":"\n"==(arguments.length<=0?void 0:arguments[0])?"\\n":"\r"==(arguments.length<=0?void 0:arguments[0])?"\\r":"\\".concat(arguments.length<=0?void 0:arguments[0])}));return n||!sh.test(r)?"'".concat(r,"'"):r}function fh(e){for(var t="",n=0;n<e;n++)t+=ah;return t}var vh=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,!1))}return _inherits(t,e),_createClass(t,[{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,"".concat(e.name,".prototype = Object.create(")),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach((function(r){return n._visitClassGetter(e,r,t)})),e.methods.forEach((function(r){return n._visitClassMethod(e,r,t)})),t.popClass(),null}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"function ".concat(e.name,"(")),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}},{key:"_visitClassGetter",value:function(e,t,n){n.println(e,"Object.defineProperty(".concat(e.name,".prototype, '").concat(t.name,"', { get: function() {")),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}},{key:"_visitClassMethod",value:function(e,t,n){n.print(e,"".concat(e.name,".prototype.").concat(t.name," = function(")),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}},{key:"visitReadVarExpr",value:function(e,n){if(e.builtin===Co.This)n.print(e,"self");else{if(e.builtin===Co.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");_get(_getPrototypeOf(t.prototype),"visitReadVarExpr",this).call(this,e,n)}return null}},{key:"visitDeclareVarStmt",value:function(e,t){return t.print(e,"var ".concat(e.name)),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t),null}},{key:"visitInvokeFunctionExpr",value:function(e,n){var r=e.fn;return r instanceof Eo&&r.builtin===Co.Super?(n.currentClass.parent.visitExpression(this,n),n.print(e,".call(this"),e.args.length>0&&(n.print(e,", "),this.visitAllExpressions(e.args,n,",")),n.print(e,")")):_get(_getPrototypeOf(t.prototype),"visitInvokeFunctionExpr",this).call(this,e,n),null}},{key:"visitFunctionExpr",value:function(e,t){return t.print(e,"function".concat(e.name?" "+e.name:"","(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(oh.name,") {")),t.incIndent();var n=[uh.set(oh.prop("stack")).toDeclStmt(null,[Ko.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"_visitParams",value:function(e,t){this.visitAllObjects((function(e){return t.print(null,e.name)}),e,t,",")}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case To.ConcatArray:t="concat";break;case To.SubscribeObservable:t="subscribe";break;case To.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}}]),t}(hh),dh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"evaluateStatements",value:function(e,t,n,r){var i=new yh(n),s=ch.createRoot();return t.length>0&&!t[0].isEquivalent(ku("use strict").toStmt())&&(t=[ku("use strict").toStmt()].concat(_toConsumableArray(t))),i.visitAllStatements(t,s),i.createReturnStmt(s),this.evaluateCode(e,s,i.getArgs(),r)}},{key:"evaluateCode",value:function(e,t,n,r){var i='"use strict";'.concat(t.toSource(),"\n//# sourceURL=").concat(e),s=[],a=[];for(var o in n)a.push(n[o]),s.push(o);if(r){var u=_construct(Function,_toConsumableArray(s.concat("return null;"))).toString(),l=u.slice(0,u.indexOf("return null;")).split("\n").length-1;i+="\n".concat(t.toSourceMapGenerator(e,l).toJsComment())}var c=_construct(Function,_toConsumableArray(s.concat(i)));return this.executeFunction(c,a)}},{key:"executeFunction",value:function(e,t){return e.apply(void 0,_toConsumableArray(t))}}]),e}(),yh=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).reflector=e,n._evalArgNames=[],n._evalArgValues=[],n._evalExportedVars=[],n}return _inherits(t,e),_createClass(t,[{key:"createReturnStmt",value:function(e){new $o(new Wo(this._evalExportedVars.map((function(e){return new qo(e,fu(e),!1)})))).visitStatement(this,e)}},{key:"getArgs",value:function(){for(var e={},t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}},{key:"visitExternalExpr",value:function(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}},{key:"visitWrappedNodeExpr",value:function(e,t){return this._emitReferenceToExternal(e,e.node,t),null}},{key:"visitDeclareVarStmt",value:function(e,n){return e.hasModifier(Ko.Exported)&&this._evalExportedVars.push(e.name),_get(_getPrototypeOf(t.prototype),"visitDeclareVarStmt",this).call(this,e,n)}},{key:"visitDeclareFunctionStmt",value:function(e,n){return e.hasModifier(Ko.Exported)&&this._evalExportedVars.push(e.name),_get(_getPrototypeOf(t.prototype),"visitDeclareFunctionStmt",this).call(this,e,n)}},{key:"visitDeclareClassStmt",value:function(e,n){return e.hasModifier(Ko.Exported)&&this._evalExportedVars.push(e.name),_get(_getPrototypeOf(t.prototype),"visitDeclareClassStmt",this).call(this,e,n)}},{key:"_emitReferenceToExternal",value:function(e,t,n){var r=this._evalArgValues.indexOf(t);if(-1===r){r=this._evalArgValues.length,this._evalArgValues.push(t);var i=nl({reference:t})||"val";this._evalArgNames.push("jit_".concat(i,"_").concat(r))}n.print(e,this._evalArgNames[r])}}]),t}(vh),mh=function e(t,n,r,i){_classCallCheck(this,e),this.input=n,this.errLocation=r,this.ctxLocation=i,this.message="Parser Error: ".concat(t," ").concat(r," [").concat(n,"] in ").concat(i)},gh=function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n},_h=function(){function e(t){_classCallCheck(this,e),this.span=t}return _createClass(e,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null}},{key:"toString",value:function(){return"AST"}}]),e}(),kh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).prefix=n,s.uninterpretedExpression=r,s.location=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitQuote(this,t)}},{key:"toString",value:function(){return"Quote"}}]),t}(_h),Ch=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}}]),t}(_h),Eh=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitImplicitReceiver(this,t)}}]),t}(_h),wh=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).expressions=n,r}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitChain(this,t)}}]),t}(_h),xh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).condition=n,s.trueExp=r,s.falseExp=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitConditional(this,t)}}]),t}(_h),bh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).receiver=n,i.name=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyRead(this,t)}}]),t}(_h),Sh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).receiver=n,s.name=r,s.value=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPropertyWrite(this,t)}}]),t}(_h),Th=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).receiver=n,i.name=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafePropertyRead(this,t)}}]),t}(_h),Ah=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).obj=n,i.key=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedRead(this,t)}}]),t}(_h),Ph=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).obj=n,s.key=r,s.value=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitKeyedWrite(this,t)}}]),t}(_h),Nh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).exp=n,s.name=r,s.args=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPipe(this,t)}}]),t}(_h),Ih=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).value=n,r}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralPrimitive(this,t)}}]),t}(_h),Mh=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).expressions=n,r}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralArray(this,t)}}]),t}(_h),Oh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).keys=n,i.values=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitLiteralMap(this,t)}}]),t}(_h),Rh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).strings=n,i.expressions=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitInterpolation(this,t)}}]),t}(_h),Dh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).operation=n,s.left=r,s.right=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitBinary(this,t)}}]),t}(_h),Lh=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).expression=n,r}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitPrefixNot(this,t)}}]),t}(_h),Fh=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).expression=n,r}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitNonNullAssert(this,t)}}]),t}(_h),Vh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).receiver=n,s.name=r,s.args=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitMethodCall(this,t)}}]),t}(_h),jh=function(e){function t(e,n,r,i){var s;return _classCallCheck(this,t),(s=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).receiver=n,s.name=r,s.args=i,s}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitSafeMethodCall(this,t)}}]),t}(_h),Uh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).target=n,i.args=r,i}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitFunctionCall(this,t)}}]),t}(_h),Hh=function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n},Bh=function(e){function t(e,n,r,i,s){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,new gh(0,null==n?0:n.length)))).ast=e,a.source=n,a.location=r,a.errors=s,a.sourceSpan=new Hh(i,i+a.span.end),a}return _inherits(t,e),_createClass(t,[{key:"visit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}},{key:"toString",value:function(){return"".concat(this.source," in ").concat(this.location)}}]),t}(_h),qh=function e(t,n,r,i,s){_classCallCheck(this,e),this.span=t,this.key=n,this.keyIsVar=r,this.name=i,this.expression=s},Wh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitBinary",value:function(e,t){return e.left.visit(this,t),e.right.visit(this,t),null}},{key:"visitChain",value:function(e,t){return this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){return e.condition.visit(this,t),e.trueExp.visit(this,t),e.falseExp.visit(this,t),null}},{key:"visitPipe",value:function(e,t){return e.exp.visit(this,t),this.visitAll(e.args,t),null}},{key:"visitFunctionCall",value:function(e,t){return e.target.visit(this,t),this.visitAll(e.args,t),null}},{key:"visitImplicitReceiver",value:function(e,t){return null}},{key:"visitInterpolation",value:function(e,t){return this.visitAll(e.expressions,t)}},{key:"visitKeyedRead",value:function(e,t){return e.obj.visit(this,t),e.key.visit(this,t),null}},{key:"visitKeyedWrite",value:function(e,t){return e.obj.visit(this,t),e.key.visit(this,t),e.value.visit(this,t),null}},{key:"visitLiteralArray",value:function(e,t){return this.visitAll(e.expressions,t)}},{key:"visitLiteralMap",value:function(e,t){return this.visitAll(e.values,t)}},{key:"visitLiteralPrimitive",value:function(e,t){return null}},{key:"visitMethodCall",value:function(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}},{key:"visitPrefixNot",value:function(e,t){return e.expression.visit(this,t),null}},{key:"visitNonNullAssert",value:function(e,t){return e.expression.visit(this,t),null}},{key:"visitPropertyRead",value:function(e,t){return e.receiver.visit(this,t),null}},{key:"visitPropertyWrite",value:function(e,t){return e.receiver.visit(this,t),e.value.visit(this,t),null}},{key:"visitSafePropertyRead",value:function(e,t){return e.receiver.visit(this,t),null}},{key:"visitSafeMethodCall",value:function(e,t){return e.receiver.visit(this,t),this.visitAll(e.args,t)}},{key:"visitAll",value:function(e,t){var n=this;return e.forEach((function(e){return e.visit(n,t)})),null}},{key:"visitQuote",value:function(e,t){return null}}]),e}(),zh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitImplicitReceiver",value:function(e,t){return e}},{key:"visitInterpolation",value:function(e,t){return new Rh(e.span,e.strings,this.visitAll(e.expressions))}},{key:"visitLiteralPrimitive",value:function(e,t){return new Ih(e.span,e.value)}},{key:"visitPropertyRead",value:function(e,t){return new bh(e.span,e.receiver.visit(this),e.name)}},{key:"visitPropertyWrite",value:function(e,t){return new Sh(e.span,e.receiver.visit(this),e.name,e.value.visit(this))}},{key:"visitSafePropertyRead",value:function(e,t){return new Th(e.span,e.receiver.visit(this),e.name)}},{key:"visitMethodCall",value:function(e,t){return new Vh(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitSafeMethodCall",value:function(e,t){return new jh(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}},{key:"visitFunctionCall",value:function(e,t){return new Uh(e.span,e.target.visit(this),this.visitAll(e.args))}},{key:"visitLiteralArray",value:function(e,t){return new Mh(e.span,this.visitAll(e.expressions))}},{key:"visitLiteralMap",value:function(e,t){return new Oh(e.span,e.keys,this.visitAll(e.values))}},{key:"visitBinary",value:function(e,t){return new Dh(e.span,e.operation,e.left.visit(this),e.right.visit(this))}},{key:"visitPrefixNot",value:function(e,t){return new Lh(e.span,e.expression.visit(this))}},{key:"visitNonNullAssert",value:function(e,t){return new Fh(e.span,e.expression.visit(this))}},{key:"visitConditional",value:function(e,t){return new xh(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}},{key:"visitPipe",value:function(e,t){return new Nh(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))}},{key:"visitKeyedRead",value:function(e,t){return new Ah(e.span,e.obj.visit(this),e.key.visit(this))}},{key:"visitKeyedWrite",value:function(e,t){return new Ph(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}},{key:"visitAll",value:function(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}},{key:"visitChain",value:function(e,t){return new wh(e.span,this.visitAll(e.expressions))}},{key:"visitQuote",value:function(e,t){return new kh(e.span,e.prefix,e.uninterpretedExpression,e.location)}}]),e}(),Qh=function e(t,n,r,i,s){_classCallCheck(this,e),this.name=t,this.expression=n,this.type=r,this.sourceSpan=i,this.valueSpan=s,this.isLiteral=this.type===Xh.LITERAL_ATTR,this.isAnimation=this.type===Xh.ANIMATION},Xh=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION",e}({}),Kh=function e(t,n,r,i,s,a){_classCallCheck(this,e),this.name=t,this.targetOrPhase=n,this.type=r,this.handler=i,this.sourceSpan=s,this.handlerSpan=a},Yh=function e(t,n,r){_classCallCheck(this,e),this.name=t,this.value=n,this.sourceSpan=r},Gh=function e(t,n,r,i,s,a,o){_classCallCheck(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=a,this.valueSpan=o},Zh=function(){var e=function e(){_classCallCheck(this,e)};return e.event=fu("$event"),e}(),Jh=function e(t,n){_classCallCheck(this,e),this.stmts=t,this.allowDefault=n,this.render3Stmts=t.map((function(e){return e instanceof Go&&e.name==n.name&&e.value instanceof jo?new $o(e.value.lhs.value):e}))};function $h(e,t){return function(e,t){var n=new op(e);return t.visit(n)}(e,t)}var ep=function e(t,n){_classCallCheck(this,e),this.stmts=t,this.currValExpr=n},tp=function(e){return e[e.General=0]="General",e[e.TrySimple=1]="TrySimple",e}({});function np(e,t){return"tmp_".concat(e,"_").concat(t)}function rp(e,t){return new Go(np(e,t),Qo)}var ip=function(e){return e[e.Statement=0]="Statement",e[e.Expression=1]="Expression",e}({});function sp(e,t){if(e!==ip.Expression)throw new Error("Expected an expression, but saw ".concat(t))}function ap(e,t){return e===ip.Statement?t.toStmt():t}var op=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._converterFactory=e,n}return _inherits(t,e),_createClass(t,[{key:"visitPipe",value:function(e,t){var n=this,r=[e.exp].concat(_toConsumableArray(e.args)).map((function(e){return e.visit(n,t)}));return new cp(e.span,r,this._converterFactory.createPipeConverter(e.name,r.length))}},{key:"visitLiteralArray",value:function(e,t){var n=this,r=e.expressions.map((function(e){return e.visit(n,t)}));return new cp(e.span,r,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}},{key:"visitLiteralMap",value:function(e,t){var n=this,r=e.values.map((function(e){return e.visit(n,t)}));return new cp(e.span,r,this._converterFactory.createLiteralMapConverter(e.keys))}}]),t}(zh),up=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this._localResolver=t,this._implicitReceiver=n,this.bindingId=r,this.interpolationFunction=i,this.baseSourceSpan=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}return _createClass(e,[{key:"visitBinary",value:function(e,t){var n;switch(e.operation){case"+":n=mo.Plus;break;case"-":n=mo.Minus;break;case"*":n=mo.Multiply;break;case"/":n=mo.Divide;break;case"%":n=mo.Modulo;break;case"&&":n=mo.And;break;case"||":n=mo.Or;break;case"==":n=mo.Equals;break;case"!=":n=mo.NotEquals;break;case"===":n=mo.Identical;break;case"!==":n=mo.NotIdentical;break;case"<":n=mo.Lower;break;case">":n=mo.Bigger;break;case"<=":n=mo.LowerEquals;break;case">=":n=mo.BiggerEquals;break;default:throw new Error("Unsupported operation ".concat(e.operation))}return ap(t,new jo(n,this._visit(e.left,ip.Expression),this._visit(e.right,ip.Expression),void 0,this.convertSourceSpan(e.span)))}},{key:"visitChain",value:function(e,t){return function(e,t){if(e!==ip.Statement)throw new Error("Expected a statement, but saw ".concat(t))}(t,e),this.visitAll(e.expressions,t)}},{key:"visitConditional",value:function(e,t){return ap(t,this._visit(e.condition,ip.Expression).conditional(this._visit(e.trueExp,ip.Expression),this._visit(e.falseExp,ip.Expression),this.convertSourceSpan(e.span)))}},{key:"visitPipe",value:function(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: ".concat(e.name))}},{key:"visitFunctionCall",value:function(e,t){var n=this.visitAll(e.args,ip.Expression);return ap(t,e instanceof cp?e.converter(n):this._visit(e.target,ip.Expression).callFn(n,this.convertSourceSpan(e.span)))}},{key:"visitImplicitReceiver",value:function(e,t){return sp(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}},{key:"visitInterpolation",value:function(e,t){sp(t,e);for(var n=[ku(e.expressions.length)],r=0;r<e.strings.length-1;r++)n.push(ku(e.strings[r])),n.push(this._visit(e.expressions[r],ip.Expression));return n.push(ku(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?vu(Yu.inlineInterpolate).callFn(n):vu(Yu.interpolate).callFn([n[0],mu(n.slice(1),void 0,this.convertSourceSpan(e.span))])}},{key:"visitKeyedRead",value:function(e,t){var n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):ap(t,this._visit(e.obj,ip.Expression).key(this._visit(e.key,ip.Expression)))}},{key:"visitKeyedWrite",value:function(e,t){var n=this._visit(e.obj,ip.Expression),r=this._visit(e.key,ip.Expression),i=this._visit(e.value,ip.Expression);return ap(t,n.key(r).set(i))}},{key:"visitLiteralArray",value:function(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}},{key:"visitLiteralMap",value:function(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}},{key:"visitLiteralPrimitive",value:function(e,t){return ap(t,ku(e.value,null==e.value||!0===e.value||!0===e.value?vo:void 0,this.convertSourceSpan(e.span)))}},{key:"_getLocal",value:function(e){return this._localResolver.getLocal(e)}},{key:"visitMethodCall",value:function(e,t){if(e.receiver instanceof Eh&&"$any"==e.name){var n=this.visitAll(e.args,ip.Expression);if(1!=n.length)throw new Error("Invalid call to $any, expected 1 argument but received ".concat(n.length||"none"));return n[0].cast(fo,this.convertSourceSpan(e.span))}var r=this.leftMostSafeNode(e);if(r)return this.convertSafeAccess(e,r,t);var i=this.visitAll(e.args,ip.Expression),s=this.usesImplicitReceiver,a=null,o=this._visit(e.receiver,ip.Expression);if(o===this._implicitReceiver){var u=this._getLocal(e.name);u&&(this.usesImplicitReceiver=s,a=u.callFn(i))}return null==a&&(a=o.callMethod(e.name,i,this.convertSourceSpan(e.span))),ap(t,a)}},{key:"visitPrefixNot",value:function(e,t){return ap(t,(n=this._visit(e.expression,ip.Expression),new Ro(n,void 0)));var n}},{key:"visitNonNullAssert",value:function(e,t){return ap(t,(n=this._visit(e.expression,ip.Expression),new Do(n,void 0)));var n}},{key:"visitPropertyRead",value:function(e,t){var n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);var r=null,i=this.usesImplicitReceiver,s=this._visit(e.receiver,ip.Expression);return s===this._implicitReceiver&&(r=this._getLocal(e.name))&&(this.usesImplicitReceiver=i),null==r&&(r=s.prop(e.name)),ap(t,r)}},{key:"visitPropertyWrite",value:function(e,t){var n=this._visit(e.receiver,ip.Expression),r=this.usesImplicitReceiver,i=null;if(n===this._implicitReceiver){var s=this._getLocal(e.name);if(s){if(!(s instanceof Uo))throw new Error("Cannot assign to a reference or variable!");i=s,this.usesImplicitReceiver=r}}return null===i&&(i=n.prop(e.name)),ap(t,i.set(this._visit(e.value,ip.Expression)))}},{key:"visitSafePropertyRead",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitSafeMethodCall",value:function(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}},{key:"visitAll",value:function(e,t){var n=this;return e.map((function(e){return n._visit(e,t)}))}},{key:"visitQuote",value:function(e,t){throw new Error("Quotes are not supported for evaluation!\n        Statement: ".concat(e.uninterpretedExpression," located at ").concat(e.location))}},{key:"_visit",value:function(e,t){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,t)}},{key:"convertSafeAccess",value:function(e,t,n){var r=this._visit(t.receiver,ip.Expression),i=void 0;this.needsTemporary(t.receiver)&&(r=(i=this.allocateTemporary()).set(r),this._resultMap.set(t.receiver,i));var s=r.isBlank();this._nodeMap.set(t,t instanceof jh?new Vh(t.span,t.receiver,t.name,t.args):new bh(t.span,t.receiver,t.name));var a=this._visit(e,ip.Expression);return this._nodeMap.delete(t),i&&this.releaseTemporary(i),ap(n,s.conditional(ku(null),a))}},{key:"leftMostSafeNode",value:function(e){var t=this,n=function(e,n){return(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitBinary:function(e){return null},visitChain:function(e){return null},visitConditional:function(e){return null},visitFunctionCall:function(e){return null},visitImplicitReceiver:function(e){return null},visitInterpolation:function(e){return null},visitKeyedRead:function(e){return n(this,e.obj)},visitKeyedWrite:function(e){return null},visitLiteralArray:function(e){return null},visitLiteralMap:function(e){return null},visitLiteralPrimitive:function(e){return null},visitMethodCall:function(e){return n(this,e.receiver)},visitPipe:function(e){return null},visitPrefixNot:function(e){return null},visitNonNullAssert:function(e){return null},visitPropertyRead:function(e){return n(this,e.receiver)},visitPropertyWrite:function(e){return null},visitQuote:function(e){return null},visitSafeMethodCall:function(e){return n(this,e.receiver)||e},visitSafePropertyRead:function(e){return n(this,e.receiver)||e}})}},{key:"needsTemporary",value:function(e){var t=this,n=function(e,n){return n&&(t._nodeMap.get(n)||n).visit(e)};return e.visit({visitBinary:function(e){return n(this,e.left)||n(this,e.right)},visitChain:function(e){return!1},visitConditional:function(e){return n(this,e.condition)||n(this,e.trueExp)||n(this,e.falseExp)},visitFunctionCall:function(e){return!0},visitImplicitReceiver:function(e){return!1},visitInterpolation:function(e){return function(e,t){return t.some((function(t){return n(e,t)}))}(this,e.expressions)},visitKeyedRead:function(e){return!1},visitKeyedWrite:function(e){return!1},visitLiteralArray:function(e){return!0},visitLiteralMap:function(e){return!0},visitLiteralPrimitive:function(e){return!1},visitMethodCall:function(e){return!0},visitPipe:function(e){return!0},visitPrefixNot:function(e){return n(this,e.expression)},visitNonNullAssert:function(e){return n(this,e.expression)},visitPropertyRead:function(e){return!1},visitPropertyWrite:function(e){return!1},visitQuote:function(e){return!1},visitSafeMethodCall:function(e){return!0},visitSafePropertyRead:function(e){return!1}})}},{key:"allocateTemporary",value:function(){var e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Eo(np(this.bindingId,e))}},{key:"releaseTemporary",value:function(e){if(this._currentTemporary--,e.name!=np(this.bindingId,this._currentTemporary))throw new Error("Temporary ".concat(e.name," released out of order"))}},{key:"convertSourceSpan",value:function(e){if(this.baseSourceSpan){var t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end);return new rc(t,n)}return null}}]),e}(),lp=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"notifyImplicitReceiverUse",value:function(){}},{key:"getLocal",value:function(e){return e===Zh.event.name?Zh.event:null}}]),e}(),cp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,null,n))).args=n,i.converter=r,i}return _inherits(t,e),t}(Uh),hp=function(){function e(){_classCallCheck(this,e),this.strictStyling=!0}return _createClass(e,[{key:"shimCssText",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=e.match(Np)||[];return e=e.replace(Pp,""),e=this._insertDirectives(e),[this._scopeCssText(e,t,n)].concat(_toConsumableArray(r)).join("\n")}},{key:"_insertDirectives",value:function(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}},{key:"_insertPolyfillDirectivesInCssText",value:function(e){return e.replace(fp,(function(){return(arguments.length<=2?void 0:arguments[2])+"{"}))}},{key:"_insertPolyfillRulesInCssText",value:function(e){return e.replace(vp,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].replace(t[1],"").replace(t[2],"");return t[4]+r}))}},{key:"_scopeCssText",value:function(e,t,n){var r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+r).trim()}},{key:"_extractUnscopedRulesFromCssText",value:function(e){var t,n="";for(dp.lastIndex=0;null!==(t=dp.exec(e));)n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n";return n}},{key:"_convertColonHost",value:function(e){return this._convertColonRule(e,_p,this._colonHostPartReplacer)}},{key:"_convertColonHostContext",value:function(e){return this._convertColonRule(e,kp,this._colonHostContextPartReplacer)}},{key:"_convertColonRule",value:function(e,t,n){return e.replace(t,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t[2]){for(var i=t[2].split(","),s=[],a=0;a<i.length;a++){var o=i[a].trim();if(!o)break;s.push(n(Cp,o,t[3]))}return s.join(",")}return Cp+t[3]}))}},{key:"_colonHostContextPartReplacer",value:function(e,t,n){return t.indexOf(yp)>-1?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n}},{key:"_colonHostPartReplacer",value:function(e,t,n){return e+t.replace(yp,"")+n}},{key:"_convertShadowDOMSelectors",value:function(e){return wp.reduce((function(e,t){return e.replace(t," ")}),e)}},{key:"_scopeSelectors",value:function(e,t,n){var r,i,s,a=this;return r=function(e){var r=e.selector,i=e.content;return"@"!=e.selector[0]?r=a._scopeSelector(e.selector,t,n,a.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(i=a._scopeSelectors(e.content,t,n)),new Lp(r,i)},i=function(e){for(var t=e.split(Mp),n=[],r=[],i=0,s=[],a=0;a<t.length;a++){var o=t[a];o==Rp&&i--,i>0?s.push(o):(s.length>0&&(r.push(s.join("")),n.push(Dp),s=[]),n.push(o)),o==Op&&i++}return s.length>0&&(r.push(s.join("")),n.push(Dp)),new Fp(n.join(""),r)}(e),s=0,i.escapedString.replace(Ip,(function(){var e=arguments.length<=2?void 0:arguments[2],t="",n=arguments.length<=4?void 0:arguments[4],a="";n&&n.startsWith("{"+Dp)&&(t=i.blocks[s++],n=n.substring(Dp.length+1),a="{");var o=r(new Lp(e,t));return"".concat(arguments.length<=1?void 0:arguments[1]).concat(o.selector).concat(arguments.length<=3?void 0:arguments[3]).concat(a).concat(o.content).concat(n)}))}},{key:"_scopeSelector",value:function(e,t,n,r){var i=this;return e.split(",").map((function(e){return e.trim().split(xp)})).map((function(e){var s=_toArray(e),a=s[0],o=s.slice(1);return[function(e){return i._selectorNeedsScoping(e,t)?r?i._applyStrictSelectorScope(e,t,n):i._applySelectorScope(e,t,n):e}(a)].concat(_toConsumableArray(o)).join(" ")})).join(", ")}},{key:"_selectorNeedsScoping",value:function(e,t){return!this._makeScopeMatcher(t).test(e)}},{key:"_makeScopeMatcher",value:function(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+bp,"m")}},{key:"_applySelectorScope",value:function(e,t,n){return this._applySimpleSelectorScope(e,t,n)}},{key:"_applySimpleSelectorScope",value:function(e,t,n){if(Sp.lastIndex=0,Sp.test(e)){var r=this.strictStyling?"[".concat(n,"]"):t;return e.replace(Ep,(function(e,t){return t.replace(/([^:]*)(:*)(.*)/,(function(e,t,n,i){return t+r+n+i}))})).replace(Sp,r+" ")}return t+" "+e}},{key:"_applyStrictSelectorScope",value:function(e,t,n){for(var r,i=this,s="["+(t=t.replace(/\[is=([^\]]*)\]/g,(function(e){return arguments.length<=1?void 0:arguments[1]})))+"]",a=function(e){var r=e.trim();if(!r)return"";if(e.indexOf(Cp)>-1)r=i._applySimpleSelectorScope(e,t,n);else{var a=e.replace(Sp,"");if(a.length>0){var o=a.match(/([^:]*)(:*)(.*)/);o&&(r=o[1]+s+o[2]+o[3])}}return r},o=new pp(e),u="",l=0,c=/( |>|\+|~(?!=))\s*/g,h=!((e=o.content()).indexOf(Cp)>-1);null!==(r=c.exec(e));){var p=r[1],f=e.slice(l,r.index).trim();u+="".concat((h=h||f.indexOf(Cp)>-1)?a(f):f," ").concat(p," "),l=c.lastIndex}var v=e.substring(l);return u+=(h=h||v.indexOf(Cp)>-1)?a(v):v,o.restore(u)}},{key:"_insertPolyfillHostInCssText",value:function(e){return e.replace(Ap,mp).replace(Tp,yp)}}]),e}(),pp=function(){function e(t){var n=this;_classCallCheck(this,e),this.placeholders=[],this.index=0,t=t.replace(/(\[[^\]]*\])/g,(function(e,t){var r="__ph-".concat(n.index,"__");return n.placeholders.push(t),n.index++,r})),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(function(e,t,r){var i="__ph-".concat(n.index,"__");return n.placeholders.push(r),n.index++,t+i}))}return _createClass(e,[{key:"restore",value:function(e){var t=this;return e.replace(/__ph-(\d+)__/g,(function(e,n){return t.placeholders[+n]}))}},{key:"content",value:function(){return this._content}}]),e}(),fp=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,vp=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,dp=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,yp="-shadowcsshost",mp="-shadowcsscontext",gp=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",_p=new RegExp("("+yp+gp,"gim"),kp=new RegExp("("+mp+gp,"gim"),Cp=yp+"-no-combinator",Ep=/-shadowcsshost-no-combinator([^\s]*)/,wp=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],xp=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,bp="([>\\s~+[.,{:][\\s\\S]*)?$",Sp=/-shadowcsshost/gim,Tp=/:host/gim,Ap=/:host-context/gim,Pp=/\/\*\s*[\s\S]*?\*\//g,Np=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,Ip=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Mp=/([{}])/g,Op="{",Rp="}",Dp="%BLOCK%",Lp=function e(t,n){_classCallCheck(this,e),this.selector=t,this.content=n},Fp=function e(t,n){_classCallCheck(this,e),this.escapedString=t,this.blocks=n},Vp=function e(t,n,r){_classCallCheck(this,e),this.name=t,this.moduleUrl=n,this.setValue=r},jp=function e(t,n,r,i,s){_classCallCheck(this,e),this.outputCtx=t,this.stylesVar=n,this.dependencies=r,this.isShimmed=i,this.meta=s},Up=function(){function e(t){_classCallCheck(this,e),this._urlResolver=t,this._shadowCss=new hp}return _createClass(e,[{key:"compileComponent",value:function(e,t){var n=t.template;return this._compileStyles(e,t,new ll({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:rl(t.type)}),this.needsStyleShim(t),!0)}},{key:"compileStyles",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.needsStyleShim(t);return this._compileStyles(e,t,n,r,!1)}},{key:"needsStyleShim",value:function(e){return e.template.encapsulation===Ua.Emulated}},{key:"_compileStyles",value:function(e,t,n,r,i){var s=this,a=n.styles.map((function(e){return ku(s._shimIfNeeded(e,r))})),o=[];n.styleUrls.forEach((function(t){var n=a.length;a.push(null),o.push(new Vp(Hp(null),t,(function(t){return a[n]=e.importExpr(t)})))}));var u=Hp(i?t:null),l=fu(u).set(mu(a,new ho(fo,[ao.Const]))).toDeclStmt(null,i?[Ko.Final]:[Ko.Final,Ko.Exported]);return e.statements.push(l),new jp(e,u,o,r,n)}},{key:"_shimIfNeeded",value:function(e,t){return t?this._shadowCss.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"):e}}]),e}();function Hp(e){var t="styles";return e&&(t+="_".concat(nl(e.type))),t}var Bp=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.sourceSpan=n,this.i18n=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),qp=function(){function e(t,n,r,i,s,a){_classCallCheck(this,e),this.switchValue=t,this.type=n,this.cases=r,this.sourceSpan=i,this.switchValueSourceSpan=s,this.i18n=a}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitExpansion(this,t)}}]),e}(),Wp=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this.value=t,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=i,this.expSourceSpan=s}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitExpansionCase(this,t)}}]),e}(),zp=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this.name=t,this.value=n,this.sourceSpan=r,this.valueSpan=i,this.i18n=s}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitAttribute(this,t)}}]),e}(),Qp=function(){function e(t,n,r,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.name=t,this.attrs=n,this.children=r,this.sourceSpan=i,this.startSourceSpan=s,this.endSourceSpan=a,this.i18n=o}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),e}(),Xp=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.sourceSpan=n}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitComment(this,t)}}]),e}();function Kp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach((function(e){var t=i(e);t&&r.push(t)})),r}var Yp=function(e){return e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_QUOTE=12]="ATTR_QUOTE",e[e.ATTR_VALUE=13]="ATTR_VALUE",e[e.DOC_TYPE=14]="DOC_TYPE",e[e.EXPANSION_FORM_START=15]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=16]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=17]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=18]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=19]="EXPANSION_FORM_END",e[e.EOF=20]="EOF",e}({}),Gp=function e(t,n,r){_classCallCheck(this,e),this.type=t,this.parts=n,this.sourceSpan=r},Zp=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,r,e))).tokenType=n,i}return _inherits(t,e),t}(sc),Jp=function e(t,n){_classCallCheck(this,e),this.tokens=t,this.errors=n},$p=/\r\n?/g;function ef(e){return'Unexpected character "'.concat(e===_l?"EOF":String.fromCharCode(e),'"')}function tf(e){return'Unknown entity "'.concat(e,'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax')}var nf=function e(t){_classCallCheck(this,e),this.error=t},rf=function(){function e(t,n,r){_classCallCheck(this,e),this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||$c,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map((function(e){return e.codePointAt(0)||0}));var i=r.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new hf(t,i):new cf(t,i);try{this._cursor.init()}catch(s){this.handleError(s)}}return _createClass(e,[{key:"_processCarriageReturns",value:function(e){return e.replace($p,"\n")}},{key:"tokenize",value:function(){for(;this._cursor.peek()!==_l;){var e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(Nl)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(Il)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(t){this.handleError(t)}}return this._beginToken(Yp.EOF),this._endToken([]),new Jp(function(e){for(var t=[],n=void 0,r=0;r<e.length;r++){var i=e[r];n&&n.type==Yp.TEXT&&i.type==Yp.TEXT?(n.parts[0]+=i.parts[0],n.sourceSpan.end=i.sourceSpan.end):t.push(n=i)}return t}(this.tokens),this.errors)}},{key:"_tokenizeExpansionForm",value:function(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(((e=this._cursor.peek())===Ol||Jl(e)||Zl(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}},{key:"_beginToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cursor.clone();this._currentTokenStart=t,this._currentTokenType=e}},{key:"_endToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cursor.clone();if(null===this._currentTokenStart)throw new Zp("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new Zp("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var n=new Gp(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}},{key:"_createError",value:function(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var n=new Zp(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new nf(n)}},{key:"handleError",value:function(e){if(e instanceof pf&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof nf))throw e;this.errors.push(e.error)}},{key:"_attemptCharCode",value:function(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}},{key:"_attemptCharCodeCaseInsensitive",value:function(e){return t=e,lf(this._cursor.peek())==lf(t)&&(this._cursor.advance(),!0);var t}},{key:"_requireCharCode",value:function(e){var t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(ef(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptStr",value:function(e){var t=e.length;if(this._cursor.charsLeft()<t)return!1;for(var n=this._cursor.clone(),r=0;r<t;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=n,!1;return!0}},{key:"_attemptStrCaseInsensitive",value:function(e){for(var t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}},{key:"_requireStr",value:function(e){var t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(ef(this._cursor.peek()),this._cursor.getSpan(t))}},{key:"_attemptCharCodeUntilFn",value:function(e){for(;!e(this._cursor.peek());)this._cursor.advance()}},{key:"_requireCharCodeUntilFn",value:function(e,t){var n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.clone().diff(n)<t)throw this._createError(ef(this._cursor.peek()),this._cursor.getSpan(n))}},{key:"_attemptUntilChar",value:function(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}},{key:"_readChar",value:function(e){if(e&&38===this._cursor.peek())return this._decodeEntity();var t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t}},{key:"_decodeEntity",value:function(){var e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){var t=this._cursor.clone();if(this._attemptCharCodeUntilFn(uf),this._cursor.peek()!=Ml)return this._cursor=t,"&";var n=this._cursor.getChars(t);this._cursor.advance();var r=Ca[n];if(!r)throw this._createError(tf(n),this._cursor.getSpan(e));return r}var i=this._attemptCharCode(120)||this._attemptCharCode(88),s=this._cursor.clone();if(this._attemptCharCodeUntilFn(of),this._cursor.peek()!=Ml)throw this._createError(ef(this._cursor.peek()),this._cursor.getSpan());var a=this._cursor.getChars(s);this._cursor.advance();try{var o=parseInt(a,i?16:10);return String.fromCharCode(o)}catch(u){throw this._createError(tf(this._cursor.getChars(e)),this._cursor.getSpan())}}},{key:"_consumeRawText",value:function(e,t){this._beginToken(e?Yp.ESCAPABLE_RAW_TEXT:Yp.RAW_TEXT);for(var n=[];;){var r=this._cursor.clone(),i=t();if(this._cursor=r,i)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}},{key:"_consumeComment",value:function(e){var t=this;this._beginToken(Yp.COMMENT_START,e),this._requireCharCode(Nl),this._endToken([]),this._consumeRawText(!1,(function(){return t._attemptStr("--\x3e")})),this._beginToken(Yp.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}},{key:"_consumeCdata",value:function(e){var t=this;this._beginToken(Yp.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,(function(){return t._attemptStr("]]>")})),this._beginToken(Yp.CDATA_END),this._requireStr("]]>"),this._endToken([])}},{key:"_consumeDocType",value:function(e){this._beginToken(Yp.DOC_TYPE,e);var t=this._cursor.clone();this._attemptUntilChar(Rl);var n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}},{key:"_consumePrefixAndName",value:function(){for(var e,t,n=this._cursor.clone(),r="";58!==this._cursor.peek()&&!(((e=this._cursor.peek())<Bl||Kl<e)&&(e<Vl||Ul<e)&&(e<Dl||e>Fl));)this._cursor.advance();return 58===this._cursor.peek()?(r=this._cursor.getChars(n),this._cursor.advance(),t=this._cursor.clone()):t=n,this._requireCharCodeUntilFn(af,""===r?0:1),[r,this._cursor.getChars(t)]}},{key:"_consumeTagOpen",value:function(e){var t,n,r,i=this.tokens.length,s=this._cursor.clone();try{if(!Jl(this._cursor.peek()))throw this._createError(ef(this._cursor.peek()),this._cursor.getSpan(e));for(n=(r=this._consumeTagOpenStart(e)).parts[0],t=r.parts[1],this._attemptCharCodeUntilFn(sf);this._cursor.peek()!==Il&&this._cursor.peek()!==Rl;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(sf),this._attemptCharCode(Ol)&&(this._attemptCharCodeUntilFn(sf),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(sf);this._consumeTagOpenEnd()}catch(o){if(o instanceof nf)return this._cursor=s,r&&(this.tokens.length=i),this._beginToken(Yp.TEXT,e),void this._endToken(["<"]);throw o}var a=this._getTagDefinition(t).contentType;a===da.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):a===da.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}},{key:"_consumeRawTextWithTagClose",value:function(e,t,n){var r=this;this._consumeRawText(n,(function(){return!!r._attemptCharCode(60)&&!!r._attemptCharCode(Il)&&(r._attemptCharCodeUntilFn(sf),!!r._attemptStrCaseInsensitive(t)&&(r._attemptCharCodeUntilFn(sf),r._attemptCharCode(Rl)))})),this._beginToken(Yp.TAG_CLOSE),this._requireCharCodeUntilFn((function(e){return e===Rl}),3),this._cursor.advance(),this._endToken([e,t])}},{key:"_consumeTagOpenStart",value:function(e){this._beginToken(Yp.TAG_OPEN_START,e);var t=this._consumePrefixAndName();return this._endToken(t)}},{key:"_consumeAttributeName",value:function(){var e=this._cursor.peek();if(e===Al||e===Sl)throw this._createError(ef(e),this._cursor.getSpan());this._beginToken(Yp.ATTR_NAME);var t=this._consumePrefixAndName();this._endToken(t)}},{key:"_consumeAttributeValue",value:function(){var e;if(this._cursor.peek()===Al||this._cursor.peek()===Sl){this._beginToken(Yp.ATTR_QUOTE);var t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(Yp.ATTR_VALUE);for(var n=[];this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(Yp.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(Yp.ATTR_VALUE);var r=this._cursor.clone();this._requireCharCodeUntilFn(af,1),e=this._cursor.getChars(r),this._endToken([this._processCarriageReturns(e)])}}},{key:"_consumeTagOpenEnd",value:function(){var e=this._attemptCharCode(Il)?Yp.TAG_OPEN_END_VOID:Yp.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(Rl),this._endToken([])}},{key:"_consumeTagClose",value:function(e){this._beginToken(Yp.TAG_CLOSE,e),this._attemptCharCodeUntilFn(sf);var t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(sf),this._requireCharCode(Rl),this._endToken(t)}},{key:"_consumeExpansionFormStart",value:function(){this._beginToken(Yp.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Yp.EXPANSION_FORM_START),this._beginToken(Yp.RAW_TEXT);var e=this._readUntil(44);this._endToken([e]),this._requireCharCode(44),this._attemptCharCodeUntilFn(sf),this._beginToken(Yp.RAW_TEXT);var t=this._readUntil(44);this._endToken([t]),this._requireCharCode(44),this._attemptCharCodeUntilFn(sf)}},{key:"_consumeExpansionCaseStart",value:function(){this._beginToken(Yp.EXPANSION_CASE_VALUE);var e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(sf),this._beginToken(Yp.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(sf),this._expansionCaseStack.push(Yp.EXPANSION_CASE_EXP_START)}},{key:"_consumeExpansionCaseEnd",value:function(){this._beginToken(Yp.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(sf),this._expansionCaseStack.pop()}},{key:"_consumeExpansionFormEnd",value:function(){this._beginToken(Yp.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}},{key:"_consumeText",value:function(){var e=this._cursor.clone();this._beginToken(Yp.TEXT,e);var t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}},{key:"_isTextEnd",value:function(){if(60===this._cursor.peek()||this._cursor.peek()===_l)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}},{key:"_readUntil",value:function(e){var t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}},{key:"_isInExpansionCase",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Yp.EXPANSION_CASE_EXP_START}},{key:"_isInExpansionForm",value:function(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Yp.EXPANSION_FORM_START}},{key:"isExpansionFormStart",value:function(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){var e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}]),e}();function sf(e){return!Gl(e)||e===_l}function af(e){return Gl(e)||e===Rl||e===Il||e===Al||e===Sl||e===Ol}function of(e){return e==Ml||e==_l||!function(e){return e>=Bl&&e<=ql||e>=Vl&&e<=jl||Zl(e)}(e)}function uf(e){return e==Ml||e==_l||!Jl(e)}function lf(e){return e>=Bl&&e<=Kl?e-Bl+Vl:e}var cf=function(){function e(t,n){if(_classCallCheck(this,e),t instanceof e)this.file=t.file,this.input=t.input,this.end=t.end,this.state=Object.assign({},t.state);else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}return _createClass(e,[{key:"clone",value:function(){return new e(this)}},{key:"peek",value:function(){return this.state.peek}},{key:"charsLeft",value:function(){return this.end-this.state.offset}},{key:"diff",value:function(e){return this.state.offset-e.state.offset}},{key:"advance",value:function(){this.advanceState(this.state)}},{key:"init",value:function(){this.updatePeek(this.state)}},{key:"getSpan",value:function(e,t){if(e=e||this,t)for(e=e.clone();this.diff(e)>0&&-1!==t.indexOf(e.peek());)e.advance();return new rc(new tc(e.file,e.state.offset,e.state.line,e.state.column),new tc(this.file,this.state.offset,this.state.line,this.state.column))}},{key:"getChars",value:function(e){return this.input.substring(e.state.offset,this.state.offset)}},{key:"charAt",value:function(e){return this.input.charCodeAt(e)}},{key:"advanceState",value:function(e){if(e.offset>=this.end)throw this.state=e,new pf('Unexpected character "EOF"',this);var t=this.charAt(e.offset);t===Cl?(e.line++,e.column=0):$l(t)||e.column++,e.offset++,this.updatePeek(e)}},{key:"updatePeek",value:function(e){e.peek=e.offset>=this.end?_l:this.charAt(e.offset)}}]),e}(),hf=function(e){function t(e,n){var r;return _classCallCheck(this,t),e instanceof t?(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).internalState=Object.assign({},e.internalState):(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).internalState=r.state,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"advance",value:function(){this.state=this.internalState,_get(_getPrototypeOf(t.prototype),"advance",this).call(this),this.processEscapeSequence()}},{key:"init",value:function(){_get(_getPrototypeOf(t.prototype),"init",this).call(this),this.processEscapeSequence()}},{key:"clone",value:function(){return new t(this)}},{key:"getChars",value:function(e){for(var t=e.clone(),n="";t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}},{key:"processEscapeSequence",value:function(){var e=this,t=function(){return e.internalState.peek};if(92===t())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),t()===Wl)this.state.peek=Cl;else if(t()===zl)this.state.peek=xl;else if(t()===Xl)this.state.peek=El;else if(t()===Ql)this.state.peek=kl;else if(98===t())this.state.peek=8;else if(t()===ql)this.state.peek=wl;else if(117===t())if(this.advanceState(this.internalState),123===t()){this.advanceState(this.internalState);for(var n=this.clone(),r=0;125!==t();)this.advanceState(this.internalState),r++;this.state.peek=this.decodeHexDigits(n,r)}else{var i=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(i,4)}else if(120===t()){this.advanceState(this.internalState);var s=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(s,2)}else if(ec(t())){for(var a="",o=0,u=this.clone();ec(t())&&o<3;)u=this.clone(),a+=String.fromCodePoint(t()),this.advanceState(this.internalState),o++;this.state.peek=parseInt(a,8),this.internalState=u.internalState}else $l(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}},{key:"decodeHexDigits",value:function(e,t){var n=this.input.substr(e.internalState.offset,t),r=parseInt(n,16);if(isNaN(r))throw e.state=e.internalState,new pf("Invalid hexadecimal escape sequence",e);return r}}]),t}(cf),pf=function e(t,n){_classCallCheck(this,e),this.msg=t,this.cursor=n},ff=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,r))).elementName=e,i}return _inherits(t,e),_createClass(t,null,[{key:"create",value:function(e,n,r){return new t(e,n,r)}}]),t}(sc),vf=function e(t,n){_classCallCheck(this,e),this.rootNodes=t,this.errors=n},df=function(){function e(t){_classCallCheck(this,e),this.getTagDefinition=t}return _createClass(e,[{key:"parse",value:function(e,t,n){var r=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new rf(new nc(e,t),n,r).tokenize()}(e,t,this.getTagDefinition,n),i=new yf(r.tokens,this.getTagDefinition).build();return new vf(i.rootNodes,r.errors.concat(i.errors))}}]),e}(),yf=function(){function e(t,n){_classCallCheck(this,e),this.tokens=t,this.getTagDefinition=n,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}return _createClass(e,[{key:"build",value:function(){for(;this._peek.type!==Yp.EOF;)this._peek.type===Yp.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===Yp.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Yp.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Yp.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Yp.TEXT||this._peek.type===Yp.RAW_TEXT||this._peek.type===Yp.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Yp.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new vf(this._rootNodes,this._errors)}},{key:"_advance",value:function(){var e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}},{key:"_advanceIf",value:function(e){return this._peek.type===e?this._advance():null}},{key:"_consumeCdata",value:function(e){this._consumeText(this._advance()),this._advanceIf(Yp.CDATA_END)}},{key:"_consumeComment",value:function(e){var t=this._advanceIf(Yp.RAW_TEXT);this._advanceIf(Yp.COMMENT_END);var n=null!=t?t.parts[0].trim():null;this._addToParent(new Xp(n,e.sourceSpan))}},{key:"_consumeExpansion",value:function(e){for(var t=this._advance(),n=this._advance(),r=[];this._peek.type===Yp.EXPANSION_CASE_VALUE;){var i=this._parseExpansionCase();if(!i)return;r.push(i)}if(this._peek.type===Yp.EXPANSION_FORM_END){var s=new rc(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new qp(t.parts[0],n.parts[0],r,s,t.sourceSpan)),this._advance()}else this._errors.push(ff.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))}},{key:"_parseExpansionCase",value:function(){var t=this._advance();if(this._peek.type!==Yp.EXPANSION_CASE_EXP_START)return this._errors.push(ff.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;var i=this._advance();r.push(new Gp(Yp.EOF,[],i.sourceSpan));var s=new e(r,this.getTagDefinition).build();if(s.errors.length>0)return this._errors=this._errors.concat(s.errors),null;var a=new rc(t.sourceSpan.start,i.sourceSpan.end),o=new rc(n.sourceSpan.start,i.sourceSpan.end);return new Wp(t.parts[0],s.rootNodes,a,t.sourceSpan,o)}},{key:"_collectExpansionExpTokens",value:function(e){for(var t=[],n=[Yp.EXPANSION_CASE_EXP_START];;){if(this._peek.type!==Yp.EXPANSION_FORM_START&&this._peek.type!==Yp.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===Yp.EXPANSION_CASE_EXP_END){if(!mf(n,Yp.EXPANSION_CASE_EXP_START))return this._errors.push(ff.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===Yp.EXPANSION_FORM_END){if(!mf(n,Yp.EXPANSION_FORM_START))return this._errors.push(ff.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===Yp.EOF)return this._errors.push(ff.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}},{key:"_consumeText",value:function(e){var t=e.parts[0];if(t.length>0&&"\n"==t[0]){var n=this._getParentElement();null!=n&&0==n.children.length&&this.getTagDefinition(n.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Bp(t,e.sourceSpan))}},{key:"_closeVoidElement",value:function(){var e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}},{key:"_consumeStartTag",value:function(e){for(var t=e.parts[0],n=e.parts[1],r=[];this._peek.type===Yp.ATTR_NAME;)r.push(this._consumeAttr(this._advance()));var i=this._getElementFullName(t,n,this._getParentElement()),s=!1;if(this._peek.type===Yp.TAG_OPEN_END_VOID){this._advance(),s=!0;var a=this.getTagDefinition(i);a.canSelfClose||null!==_a(i)||a.isVoid||this._errors.push(ff.create(i,e.sourceSpan,'Only void and foreign elements can be self closed "'.concat(e.parts[1],'"')))}else this._peek.type===Yp.TAG_OPEN_END&&(this._advance(),s=!1);var o=new rc(e.sourceSpan.start,this._peek.sourceSpan.start),u=new Qp(i,r,[],o,o,void 0);this._pushElement(u),s&&(this._popElement(i),u.endSourceSpan=o)}},{key:"_pushElement",value:function(e){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}},{key:"_consumeEndTag",value:function(e){var t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid?this._errors.push(ff.create(t,e.sourceSpan,'Void elements do not have end tags "'.concat(e.parts[1],'"'))):this._popElement(t)||this._errors.push(ff.create(t,e.sourceSpan,'Unexpected closing tag "'.concat(t,'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags')))}},{key:"_popElement",value:function(e){for(var t=this._elementStack.length-1;t>=0;t--){var n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1}},{key:"_consumeAttr",value:function(e){var t=ka(e.parts[0],e.parts[1]),n=e.sourceSpan.end,r="",i=void 0;if(this._peek.type===Yp.ATTR_QUOTE&&this._advance(),this._peek.type===Yp.ATTR_VALUE){var s=this._advance();r=s.parts[0],n=s.sourceSpan.end,i=s.sourceSpan}return this._peek.type===Yp.ATTR_QUOTE&&(n=this._advance().sourceSpan.end),new zp(t,r,new rc(e.sourceSpan.start,n),i)}},{key:"_getParentElement",value:function(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}},{key:"_getParentElementSkippingContainers",value:function(){for(var e=null,t=this._elementStack.length-1;t>=0;t--){if(!ma(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}}},{key:"_addToParent",value:function(e){var t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)}},{key:"_insertBeforeContainer",value:function(e,t,n){if(t){if(e){var r=e.children.indexOf(t);e.children[r]=n}else this._rootNodes.push(n);n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)}else this._addToParent(n),this._elementStack.push(n)}},{key:"_getElementFullName",value:function(e,t,n){return""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n&&(e=_a(n.name)),ka(e,t)}}]),e}();function mf(e,t){return e.length>0&&e[e.length-1]===t}var gf=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Sa))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"parse",this).call(this,e,n,r)}}]),t}(df),_f=new Set(["pre","template","textarea","script","style"]),kf=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",Cf=new RegExp("[^".concat(kf,"]")),Ef=new RegExp("[".concat(kf,"]{2,}"),"g");function wf(e){return e.replace(new RegExp(Ea,"g")," ")}var xf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitElement",value:function(e,t){return _f.has(e.name)||e.attrs.some((function(e){return"ngPreserveWhitespaces"===e.name}))?new Qp(e.name,Kp(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new Qp(e.name,e.attrs,Kp(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}},{key:"visitAttribute",value:function(e,t){return"ngPreserveWhitespaces"!==e.name?e:null}},{key:"visitText",value:function(e,t){return e.value.match(Cf)?new Bp(wf(e.value).replace(Ef," "),e.sourceSpan,e.i18n):null}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}(),bf=["zero","one","two","few","many","other"];function Sf(e){var t=new Pf;return new Tf(Kp(t,e),t.isExpanded,t.errors)}var Tf=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.expanded=n,this.errors=r},Af=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),t}(sc),Pf=function(){function e(){_classCallCheck(this,e),this.isExpanded=!1,this.errors=[]}return _createClass(e,[{key:"visitElement",value:function(e,t){return new Qp(e.name,e.attrs,Kp(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}},{key:"visitAttribute",value:function(e,t){return e}},{key:"visitText",value:function(e,t){return e}},{key:"visitComment",value:function(e,t){return e}},{key:"visitExpansion",value:function(e,t){return this.isExpanded=!0,"plural"==e.type?(n=e,r=this.errors,i=n.cases.map((function(e){-1!=bf.indexOf(e.value)||e.value.match(/^=\d+$/)||r.push(new Af(e.valueSourceSpan,'Plural cases should be "=<number>" or one of '.concat(bf.join(", "))));var t=Sf(e.expression);return r.push.apply(r,_toConsumableArray(t.errors)),new Qp("ng-template",[new zp("ngPluralCase","".concat(e.value),e.valueSourceSpan)],t.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)})),s=new zp("[ngPlural]",n.switchValue,n.switchValueSourceSpan),new Qp("ng-container",[s],i,n.sourceSpan,n.sourceSpan,n.sourceSpan)):function(e,t){var n=e.cases.map((function(e){var n=Sf(e.expression);return t.push.apply(t,_toConsumableArray(n.errors)),new Qp("ng-template","other"===e.value?[new zp("ngSwitchDefault","",e.valueSourceSpan)]:[new zp("ngSwitchCase","".concat(e.value),e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)})),r=new zp("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new Qp("ng-container",[r],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors);var n,r,i,s}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Should not be reached")}}]),e}(),Nf=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitText(this,t)}}]),e}(),If=function(){function e(t,n,r){_classCallCheck(this,e),this.value=t,this.ngContentIndex=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitBoundText(this,t)}}]),e}(),Mf=function(){function e(t,n,r){_classCallCheck(this,e),this.name=t,this.value=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitAttr(this,t)}}]),e}(),Of={4:4,1:1,2:2,0:0,3:3},Rf=function(){function e(t,n,r,i,s,a){_classCallCheck(this,e),this.name=t,this.type=n,this.securityContext=r,this.value=i,this.unit=s,this.sourceSpan=a,this.isAnimation=4===this.type}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitElementProperty(this,t)}}],[{key:"fromBoundProperty",value:function(t){return new e(t.name,Of[t.type],t.securityContext,t.value,t.unit,t.sourceSpan)}}]),e}(),Df=function(){function e(t,n,r,i,s,a){_classCallCheck(this,e),this.name=t,this.target=n,this.phase=r,this.handler=i,this.sourceSpan=s,this.handlerSpan=a,this.fullName=e.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitEvent(this,t)}}],[{key:"calcFullName",value:function(e,t,n){return t?"".concat(t,":").concat(e):n?"@".concat(e,".").concat(n):e}},{key:"fromParsedEvent",value:function(t){return new e(t.name,0===t.type?t.targetOrPhase:null,1===t.type?t.targetOrPhase:null,t.handler,t.sourceSpan,t.handlerSpan)}}]),e}(),Lf=function(){function e(t,n,r,i){_classCallCheck(this,e),this.name=t,this.value=n,this.originalValue=r,this.sourceSpan=i}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitReference(this,t)}}]),e}(),Ff=function(){function e(t,n,r){_classCallCheck(this,e),this.name=t,this.value=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitVariable(this,t)}}],[{key:"fromParsedVariable",value:function(t){return new e(t.name,t.value,t.sourceSpan)}}]),e}(),Vf=function(){function e(t,n,r,i,s,a,o,u,l,c,h,p,f){_classCallCheck(this,e),this.name=t,this.attrs=n,this.inputs=r,this.outputs=i,this.references=s,this.directives=a,this.providers=o,this.hasViewContainer=u,this.queryMatches=l,this.children=c,this.ngContentIndex=h,this.sourceSpan=p,this.endSourceSpan=f}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitElement(this,t)}}]),e}(),jf=function(){function e(t,n,r,i,s,a,o,u,l,c,h){_classCallCheck(this,e),this.attrs=t,this.outputs=n,this.references=r,this.variables=i,this.directives=s,this.providers=a,this.hasViewContainer=o,this.queryMatches=u,this.children=l,this.ngContentIndex=c,this.sourceSpan=h}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitEmbeddedTemplate(this,t)}}]),e}(),Uf=function(){function e(t,n,r,i){_classCallCheck(this,e),this.directiveName=t,this.templateName=n,this.value=r,this.sourceSpan=i}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitDirectiveProperty(this,t)}}]),e}(),Hf=function(){function e(t,n,r,i,s,a){_classCallCheck(this,e),this.directive=t,this.inputs=n,this.hostProperties=r,this.hostEvents=i,this.contentQueryStartId=s,this.sourceSpan=a}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitDirective(this,t)}}]),e}(),Bf=function(){function e(t,n,r,i,s,a,o,u){_classCallCheck(this,e),this.token=t,this.multiProvider=n,this.eager=r,this.providers=i,this.providerType=s,this.lifecycleHooks=a,this.sourceSpan=o,this.isModule=u}return _createClass(e,[{key:"visit",value:function(e,t){return null}}]),e}(),qf=function(e){return e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin",e}({}),Wf=function(){function e(t,n,r){_classCallCheck(this,e),this.index=t,this.ngContentIndex=n,this.sourceSpan=r}return _createClass(e,[{key:"visit",value:function(e,t){return e.visitNgContent(this,t)}}]),e}();function zf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],i=e.visit?function(t){return e.visit(t,n)||t.visit(e,n)}:function(t){return t.visit(e,n)};return t.forEach((function(e){var t=i(e);t&&r.push(t)})),r}var Qf=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,e))}return _inherits(t,e),t}(sc),Xf=function e(t,n){var r=this;_classCallCheck(this,e),this.reflector=t,this.component=n,this.errors=[],this.viewQueries=function(e){var t=1,n=new Map;return e.viewQueries&&e.viewQueries.forEach((function(e){return $f(n,{meta:e,queryId:t++})})),n}(n),this.viewProviders=new Map,n.viewProviders.forEach((function(e){null==r.viewProviders.get(ul(e.token))&&r.viewProviders.set(ul(e.token),!0)}))},Kf=function(){function e(t,n,r,i,s,a,o,u,l){var c=this;_classCallCheck(this,e),this.viewContext=t,this._parent=n,this._isViewRoot=r,this._directiveAsts=i,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},s.forEach((function(e){return c._attrs[e.name]=e.value}));var h,p,f,v,d=i.map((function(e){return e.directive}));if(this._allProviders=(h=d,p=l,f=t.errors,v=new Map,h.forEach((function(e){Jf([{token:{identifier:e.type},useClass:e.type}],e.isComponent?qf.Component:qf.Directive,!0,p,f,v,!1)})),h.filter((function(e){return e.isComponent})).concat(h.filter((function(e){return!e.isComponent}))).forEach((function(e){Jf(e.providers,qf.PublicService,!1,p,f,v,!1),Jf(e.viewProviders,qf.PrivateService,!1,p,f,v,!1)})),v),this._contentQueries=function(e,t){var n=e,r=new Map;return t.forEach((function(e,t){e.queries&&e.queries.forEach((function(e){return $f(r,{meta:e,queryId:n++})}))})),r}(u,d),Array.from(this._allProviders.values()).forEach((function(e){c._addQueryReadsTo(e.token,e.token,c._queriedTokens)})),o){var y=Zu(this.viewContext.reflector,Yu.TemplateRef);this._addQueryReadsTo(y,y,this._queriedTokens)}a.forEach((function(e){var t=e.value||Zu(c.viewContext.reflector,Yu.ElementRef);c._addQueryReadsTo({value:e.name},t,c._queriedTokens)})),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference(Yu.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach((function(e){(e.eager||c._queriedTokens.get(ul(e.token)))&&c._getOrCreateLocalProvider(e.providerType,e.token,!0)}))}return _createClass(e,[{key:"afterElement",value:function(){var e=this;Array.from(this._allProviders.values()).forEach((function(t){e._getOrCreateLocalProvider(t.providerType,t.token,!1)}))}},{key:"_addQueryReadsTo",value:function(e,t,n){this._getQueriesFor(e).forEach((function(e){var r=e.meta.read||t,i=ul(r),s=n.get(i);s||n.set(i,s=[]),s.push({queryId:e.queryId,value:r})}))}},{key:"_getQueriesFor",value:function(e){for(var t,n=[],r=this,i=0;null!==r;)(t=r._contentQueries.get(ul(e)))&&n.push.apply(n,_toConsumableArray(t.filter((function(e){return e.meta.descendants||i<=1})))),r._directiveAsts.length>0&&i++,r=r._parent;return(t=this.viewContext.viewQueries.get(ul(e)))&&n.push.apply(n,_toConsumableArray(t)),n}},{key:"_getOrCreateLocalProvider",value:function(e,t,n){var r=this,i=this._allProviders.get(ul(t));if(!i||(e===qf.Directive||e===qf.PublicService)&&i.providerType===qf.PrivateService||(e===qf.PrivateService||e===qf.PublicService)&&i.providerType===qf.Builtin)return null;var s=this._transformedProviders.get(ul(t));if(s)return s;if(null!=this._seenProviders.get(ul(t)))return this.viewContext.errors.push(new Qf("Cannot instantiate cyclic dependency! ".concat(ol(t)),this._sourceSpan)),null;this._seenProviders.set(ul(t),!0);var a=i.providers.map((function(e){var t=e.useValue,s=e.useExisting,a=void 0;if(null!=e.useExisting){var o=r._getDependency(i.providerType,{token:e.useExisting},n);null!=o.token?s=o.token:(s=null,t=o.value)}else e.useFactory?a=(e.deps||e.useFactory.diDeps).map((function(e){return r._getDependency(i.providerType,e,n)})):e.useClass&&(a=(e.deps||e.useClass.diDeps).map((function(e){return r._getDependency(i.providerType,e,n)})));return Gf(e,{useExisting:s,useValue:t,deps:a})}));return s=Zf(i,{eager:n,providers:a}),this._transformedProviders.set(ul(t),s),s}},{key:"_getLocalDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.isAttribute){var r=this._attrs[t.token.value];return{isValue:!0,value:null==r?null:r}}if(null!=t.token){if(e===qf.Directive||e===qf.Component){if(ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.Renderer)||ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.ElementRef)||ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.ChangeDetectorRef)||ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.TemplateRef))return t;ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(ul(t.token)===this.viewContext.reflector.resolveExternalReference(Yu.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}},{key:"_getDependency",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,i=n,s=null;if(t.isSkipSelf||(s=this._getLocalDependency(e,t,n)),t.isSelf)!s&&t.isOptional&&(s={isValue:!0,value:null});else{for(;!s&&r._parent;)r._isViewRoot&&(i=!1),s=(r=r._parent)._getLocalDependency(qf.PublicService,t,i);s||(s=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===ul(t.token)||null!=this.viewContext.viewProviders.get(ul(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return s||this.viewContext.errors.push(new Qf("No provider for ".concat(ol(t.token)),this._sourceSpan)),s}},{key:"transformProviders",get:function(){var e=[],t=[];return this._transformedProviders.forEach((function(n){n.eager?t.push(n):e.push(n)})),e.concat(t)}},{key:"transformedDirectiveAsts",get:function(){var e=this.transformProviders.map((function(e){return e.token.identifier})),t=this._directiveAsts.slice();return t.sort((function(t,n){return e.indexOf(t.directive.type)-e.indexOf(n.directive.type)})),t}},{key:"queryMatches",get:function(){var e=[];return this._queriedTokens.forEach((function(t){e.push.apply(e,_toConsumableArray(t))})),e}}]),e}(),Yf=function(){function e(t,n,r,i){var s=this;_classCallCheck(this,e),this.reflector=t,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,n.transitiveModule.modules.forEach((function(e){Jf([{token:{identifier:e},useClass:e}],qf.PublicService,!0,i,s._errors,s._allProviders,!0)})),Jf(n.transitiveModule.providers.map((function(e){return e.provider})).concat(r),qf.PublicService,!1,i,this._errors,this._allProviders,!1)}return _createClass(e,[{key:"parse",value:function(){var e=this;if(Array.from(this._allProviders.values()).forEach((function(t){e._getOrCreateLocalProvider(t.token,t.eager)})),this._errors.length>0){var t=this._errors.join("\n");throw new Error("Provider parse errors:\n".concat(t))}var n=[],r=[];return this._transformedProviders.forEach((function(e){e.eager?r.push(e):n.push(e)})),n.concat(r)}},{key:"_getOrCreateLocalProvider",value:function(e,t){var n=this,r=this._allProviders.get(ul(e));if(!r)return null;var i=this._transformedProviders.get(ul(e));if(i)return i;if(null!=this._seenProviders.get(ul(e)))return this._errors.push(new Qf("Cannot instantiate cyclic dependency! ".concat(ol(e)),r.sourceSpan)),null;this._seenProviders.set(ul(e),!0);var s=r.providers.map((function(e){var i=e.useValue,s=e.useExisting,a=void 0;if(null!=e.useExisting){var o=n._getDependency({token:e.useExisting},t,r.sourceSpan);null!=o.token?s=o.token:(s=null,i=o.value)}else e.useFactory?a=(e.deps||e.useFactory.diDeps).map((function(e){return n._getDependency(e,t,r.sourceSpan)})):e.useClass&&(a=(e.deps||e.useClass.diDeps).map((function(e){return n._getDependency(e,t,r.sourceSpan)})));return Gf(e,{useExisting:s,useValue:i,deps:a})}));return i=Zf(r,{eager:t,providers:s}),this._transformedProviders.set(ul(e),i),i}},{key:"_getDependency",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];arguments.length>2&&arguments[2];return e.isSkipSelf||null==e.token||(ul(e.token)===this.reflector.resolveExternalReference(Yu.Injector)||ul(e.token)===this.reflector.resolveExternalReference(Yu.ComponentFactoryResolver)?!0:null!=this._getOrCreateLocalProvider(e.token,t)&&!0),e}}]),e}();function Gf(e,t){var n=t.useExisting,r=t.useValue,i=t.deps;return{token:e.token,useClass:e.useClass,useExisting:n,useFactory:e.useFactory,useValue:r,deps:i,multi:e.multi}}function Zf(e,t){var n=t.eager,r=t.providers;return new Bf(e.token,e.multiProvider,e.eager||n,r,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function Jf(e,t,n,r,i,s,a){e.forEach((function(e){var o=s.get(ul(e.token));if(null!=o&&!!o.multiProvider!=!!e.multi&&i.push(new Qf("Mixing multi and non multi provider is not possible for token ".concat(ol(o.token)),r)),o)e.multi||(o.providers.length=0),o.providers.push(e);else{var u=!(e.useClass||e.useExisting||e.useFactory);o=new Bf(e.token,!!e.multi,n||u,[e],t,e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],r,a),s.set(ul(e.token),o)}}))}function $f(e,t){t.meta.selectors.forEach((function(n){var r=e.get(ul(n));r||(r=[],e.set(ul(n),r)),r.push(t)}))}var ev=function e(t,n){_classCallCheck(this,e),this.style=t,this.styleUrls=n};function tv(e){if(null==e||0===e.length||"/"==e[0])return!1;var t=e.match(iv);return null===t||"package"==t[1]||"asset"==t[1]}var nv=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,rv=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,iv=/^([^:/?#]+):/,sv=function(){function e(t,n,r,i,s){if(_classCallCheck(this,e),this._exprParser=t,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=s,this.pipesByName=null,this._usedPipes=new Map,i){var a=new Map;i.forEach((function(e){return a.set(e.name,e)})),this.pipesByName=a}}return _createClass(e,[{key:"getUsedPipes",value:function(){return Array.from(this._usedPipes.values())}},{key:"createBoundHostProperties",value:function(e,t){var n=this;if(e.hostProperties){var r=[];return Object.keys(e.hostProperties).forEach((function(i){var s=e.hostProperties[i];"string"==typeof s?n.parsePropertyBinding(i,s,!0,t,t.start.offset,void 0,[],r):n._reportError('Value of the host property binding "'.concat(i,'" needs to be a string representing an expression but got "').concat(s,'" (').concat(typeof s,")"),t)})),r}return null}},{key:"createDirectiveHostPropertyAsts",value:function(e,t,n){var r=this,i=this.createBoundHostProperties(e,n);return i&&i.map((function(e){return r.createBoundElementProperty(t,e)}))}},{key:"createDirectiveHostEventAsts",value:function(e,t){var n=this;if(e.hostListeners){var r=[];return Object.keys(e.hostListeners).forEach((function(i){var s=e.hostListeners[i];"string"==typeof s?n.parseEvent(i,s,t,t,[],r):n._reportError('Value of the host listener "'.concat(i,'" needs to be a string representing an expression but got "').concat(s,'" (').concat(typeof s,")"),t)})),r}return null}},{key:"parseInterpolation",value:function(e,t){var n=t.start.toString();try{var r=this._exprParser.parseInterpolation(e,n,t.start.offset,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(i){return this._reportError("".concat(i),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,t.start.offset)}}},{key:"parseInlineTemplateBinding",value:function(e,t,n,r,i,s,a){for(var o=this._parseTemplateBindings(e,t,n),u=0;u<o.length;u++){var l=o[u];l.keyIsVar?a.push(new Yh(l.key,l.name,n)):l.expression?this._parsePropertyAst(l.key,l.expression,n,void 0,i,s):(i.push([l.key,""]),this.parseLiteralAttr(l.key,null,n,r,void 0,i,s))}}},{key:"_parseTemplateBindings",value:function(e,t,n){var r=this,i=n.start.toString();try{var s=this._exprParser.parseTemplateBindings(e,t,i,n.start.offset);return this._reportExpressionParserErrors(s.errors,n),s.templateBindings.forEach((function(e){e.expression&&r._checkPipes(e.expression,n)})),s.warnings.forEach((function(e){r._reportError(e,n,ic.WARNING)})),s.templateBindings}catch(a){return this._reportError("".concat(a),n),[]}}},{key:"parseLiteralAttr",value:function(e,t,n,r,i,s,a){ov(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,ic.ERROR),this._parseAnimation(e,t,n,r,i,s,a)):a.push(new Qh(e,this._exprParser.wrapLiteralPrimitive(t,"",r),Xh.LITERAL_ATTR,n,i))}},{key:"parsePropertyBinding",value:function(e,t,n,r,i,s,a,o){var u=!1;e.startsWith("animate-")?(u=!0,e=e.substring("animate-".length)):ov(e)&&(u=!0,e=e.substring(1)),u?this._parseAnimation(e,t,r,i,s,a,o):this._parsePropertyAst(e,this._parseBinding(t,n,s||r,i),r,s,a,o)}},{key:"parsePropertyInterpolation",value:function(e,t,n,r,i,s){var a=this.parseInterpolation(t,r||n);return!!a&&(this._parsePropertyAst(e,a,n,r,i,s),!0)}},{key:"_parsePropertyAst",value:function(e,t,n,r,i,s){i.push([e,t.source]),s.push(new Qh(e,t,Xh.DEFAULT,n,r))}},{key:"_parseAnimation",value:function(e,t,n,r,i,s,a){var o=this._parseBinding(t||"undefined",!1,i||n,r);s.push([e,o.source]),a.push(new Qh(e,o,Xh.ANIMATION,n,i))}},{key:"_parseBinding",value:function(e,t,n,r){var i=(n&&n.start||"(unknown)").toString();try{var s=t?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return s&&this._reportExpressionParserErrors(s.errors,n),this._checkPipes(s,n),s}catch(a){return this._reportError("".concat(a),n),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}},{key:"createBoundElementProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.isAnimation)return new Gh(t.name,4,ro.NONE,t.expression,null,t.sourceSpan,t.valueSpan);var i=null,s=void 0,a=null,o=t.name.split("."),u=void 0;if(o.length>1)if("attr"==o[0]){a=o[1],n||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),u=uv(this._schemaRegistry,e,a,!0);var l=a.indexOf(":");if(l>-1){var c=a.substring(0,l),h=a.substring(l+1);a=ka(c,h)}s=1}else"class"==o[0]?(a=o[1],s=2,u=[ro.NONE]):"style"==o[0]&&(i=o.length>2?o[2]:null,a=o[1],s=3,u=[ro.STYLE]);if(null===a){var p=this._schemaRegistry.getMappedPropName(t.name);a=r?p:t.name,u=uv(this._schemaRegistry,e,p,!1),s=0,n||this._validatePropertyOrAttributeName(p,t.sourceSpan,!1)}return new Gh(a,s,u[0],t.expression,i,t.sourceSpan,t.valueSpan)}},{key:"parseEvent",value:function(e,t,n,r,i,s){ov(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r,s)):this._parseRegularEvent(e,t,n,r,i,s)}},{key:"calcPossibleSecurityContexts",value:function(e,t,n){var r=this._schemaRegistry.getMappedPropName(t);return uv(this._schemaRegistry,e,r,n)}},{key:"_parseAnimationEvent",value:function(e,t,n,r,i){var s=wu(e,".",[e,""]),a=s[0],o=s[1].toLowerCase();if(o)switch(o){case"start":case"done":var u=this._parseAction(t,r);i.push(new Kh(a,o,1,u,n,r));break;default:this._reportError('The provided animation output phase value "'.concat(o,'" for "@').concat(a,'" is not supported (use start or done)'),n)}else this._reportError("The animation trigger output event (@".concat(a,") is missing its phase value name (start or done are currently supported)"),n)}},{key:"_parseRegularEvent",value:function(e,t,n,r,i,s){var a=_slicedToArray(Eu(e,[null,e]),2),o=a[0],u=a[1],l=this._parseAction(t,r);i.push([e,l.source]),s.push(new Kh(u,o,0,l,n,r))}},{key:"_parseAction",value:function(e,t){var n=(t&&t.start||"(unknown").toString(),r=t&&t.start?t.start.offset:0;try{var i=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,t),!i||i.ast instanceof Ch?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):(this._checkPipes(i,t),i)}catch(s){return this._reportError("".concat(s),t),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ic.ERROR;this.errors.push(new sc(t,e,n))}},{key:"_reportExpressionParserErrors",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var o=s.value;this._reportError(o.message,t)}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}},{key:"_checkPipes",value:function(e,t){var n=this;if(e&&this.pipesByName){var r=new av;e.visit(r),r.pipes.forEach((function(e,r){var i=n.pipesByName.get(r);i?n._usedPipes.set(r,i):n._reportError("The pipe '".concat(r,"' could not be found"),new rc(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))}))}}},{key:"_validatePropertyOrAttributeName",value:function(e,t,n){var r=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,t,ic.ERROR)}},{key:"interpolationConfig",get:function(){return this._interpolationConfig}}]),e}(),av=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))).pipes=new Map,e}return _inherits(t,e),_createClass(t,[{key:"visitPipe",value:function(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}]),t}(Wh);function ov(e){return"@"==e[0]}function uv(e,t,n,r){var i=[];return Aa.parse(t).forEach((function(t){var s=t.element?[t.element]:e.allKnownElementNames(),a=new Set(t.notSelectors.filter((function(e){return e.isElementSelector()})).map((function(e){return e.element}))),o=s.filter((function(e){return!a.has(e)}));i.push.apply(i,_toConsumableArray(o.map((function(t){return e.securityContext(t,n,r)}))))})),0===i.length?[ro.NONE]:Array.from(new Set(i)).sort()}var lv="select",cv="link",hv="rel",pv="href",fv="stylesheet",vv="style",dv="script",yv="ngNonBindable",mv="ngProjectAs";function gv(e){var t=null,n=null,r=null,i=!1,s="";e.attrs.forEach((function(e){var a=e.name.toLowerCase();a==lv?t=e.value:a==pv?n=e.value:a==hv?r=e.value:e.name==yv?i=!0:e.name==mv&&e.value.length>0&&(s=e.value)})),t=function(e){return null===e||0===e.length?"*":e}(t);var a=e.name.toLowerCase(),o=kv.OTHER;return ga(a)?o=kv.NG_CONTENT:a==vv?o=kv.STYLE:a==dv?o=kv.SCRIPT:a==cv&&r==fv&&(o=kv.STYLESHEET),new Cv(o,t,n,i,s)}var _v,kv=function(e){return e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER",e}({}),Cv=function e(t,n,r,i,s){_classCallCheck(this,e),this.type=t,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=i,this.projectAs=s},Ev=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,wv="class";function xv(){return _v||(_v=Aa.parse("*")[0]),_v}var bv=function(e){function t(e,n,r){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n,e,r))}return _inherits(t,e),t}(sc),Sv=function e(t,n,r){_classCallCheck(this,e),this.templateAst=t,this.usedPipes=n,this.errors=r},Tv=function(){function e(t,n,r,i,s,a,o){_classCallCheck(this,e),this._config=t,this._reflector=n,this._exprParser=r,this._schemaRegistry=i,this._htmlParser=s,this._console=a,this.transforms=o}return _createClass(e,[{key:"parse",value:function(e,t,n,r,i,s,a){var o=this.tryParse(e,t,n,r,i,s,a),u=o.errors.filter((function(e){return e.level===ic.WARNING})),l=o.errors.filter((function(e){return e.level===ic.ERROR}));if(u.length>0&&this._console.warn("Template parse warnings:\n".concat(u.join("\n"))),l.length>0)throw Mu("Template parse errors:\n".concat(l.join("\n")),l);return{template:o.templateAst,pipes:o.usedPipes}}},{key:"tryParse",value:function(e,t,n,r,i,s,a){var o,u="string"==typeof t?this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:this.getInterpolationConfig(e)}):t;return a||(o=u,u=new vf(Kp(new xf,o.rootNodes),o.errors)),this.tryParseHtml(this.expandHtml(u),e,n,r,i)}},{key:"tryParseHtml",value:function(e,t,n,r,i){var s,a=e.errors,o=[];if(e.rootNodes.length>0){var u=Lv(n),l=Lv(r),c=new Xf(this._reflector,t),h=void 0;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});var p=new sv(this._exprParser,h,this._schemaRegistry,l,a),f=new Av(this._reflector,this._config,c,u,p,this._schemaRegistry,i,a);s=Kp(f,e.rootNodes,Ov),a.push.apply(a,_toConsumableArray(c.errors)),o.push.apply(o,_toConsumableArray(p.getUsedPipes()))}else s=[];return this._assertNoReferenceDuplicationOnTemplate(s,a),a.length>0?new Sv(s,o,a):(this.transforms&&this.transforms.forEach((function(e){s=zf(e,s)})),new Sv(s,o,a))}},{key:"expandHtml",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.errors;if(0==n.length||t){var r=Sf(e.rootNodes);n.push.apply(n,_toConsumableArray(r.errors)),e=new vf(r.nodes,n)}return e}},{key:"getInterpolationConfig",value:function(e){if(e.template)return Jc.fromArray(e.template.interpolation)}},{key:"_assertNoReferenceDuplicationOnTemplate",value:function(e,t){var n=[];e.filter((function(e){return!!e.references})).forEach((function(e){return e.references.forEach((function(e){var r=e.name;if(n.indexOf(r)<0)n.push(r);else{var i=new bv('Reference "#'.concat(r,'" is defined several times'),e.sourceSpan,ic.ERROR);t.push(i)}}))}))}},{key:"expressionParser",get:function(){return this._exprParser}}]),e}(),Av=function(){function e(t,n,r,i,s,a,o,u){var l=this;_classCallCheck(this,e),this.reflector=t,this.config=n,this.providerViewContext=r,this._bindingParser=s,this._schemaRegistry=a,this._schemas=o,this._targetErrors=u,this.selectorMatcher=new Pa,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=r.component.viewQueries.length+1,i.forEach((function(e,t){var n=Aa.parse(e.selector);l.selectorMatcher.addSelectables(n,e),l.directivesIndex.set(e,t)}))}return _createClass(e,[{key:"visitExpansion",value:function(e,t){return null}},{key:"visitExpansionCase",value:function(e,t){return null}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(xv()),r=wf(e.value),i=this._bindingParser.parseInterpolation(r,e.sourceSpan);return i?new If(i,n,e.sourceSpan):new Nf(r,n,e.sourceSpan)}},{key:"visitAttribute",value:function(e,t){return new Mf(e.name,e.value,e.sourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitElement",value:function(e,t){var n=this,r=this.contentQueryStartId,i=e.name,s=gv(e);if(s.type===kv.SCRIPT||s.type===kv.STYLE)return null;if(s.type===kv.STYLESHEET&&tv(s.hrefAttr))return null;var a=[],o=[],u=[],l=[],c=[],h=[],p=[],f=[],v=!1,d=[],y="ng-template"===ya(e.name)[1];e.attrs.forEach((function(e){var t,r,i=n._parseAttr(y,e,a,o,c,u,l);l.push.apply(l,_toConsumableArray([].map((function(e){return Ff.fromParsedVariable(e)}))));var s=n._normalizeAttributeName(e.name);s.startsWith("*")&&(t=e.value,r=s.substring("*".length));var m=null!=t;if(m){v&&n._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),v=!0;var g=[];n._bindingParser.parseInlineTemplateBinding(r,t,e.sourceSpan,e.sourceSpan.start.offset,p,h,g),f.push.apply(f,_toConsumableArray(g.map((function(e){return Ff.fromParsedVariable(e)}))))}i||m||(d.push(n.visitAttribute(e,null)),a.push([e.name,e.value]))}));var m=Mv(i,a),g=this._parseDirectives(this.selectorMatcher,m),_=g.directives,k=g.matchElement,C=[],E=new Set,w=this._createDirectiveAsts(y,e.name,_,o,u,e.sourceSpan,C,E),x=this._createElementPropertyAsts(e.name,o,E),b=new Kf(this.providerViewContext,t.providerContext,t.isTemplateElement||v,w,d,C,y,r,e.sourceSpan),S=Kp(s.nonBindable?Rv:this,e.children,Iv.create(y,w,y?t.providerContext:b));b.afterElement();var T,A=""!=s.projectAs?Aa.parse(s.projectAs)[0]:m,P=t.findNgContentIndex(A);if(s.type===kv.NG_CONTENT)e.children&&!e.children.every(Dv)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),T=new Wf(this.ngContentCount++,v?null:P,e.sourceSpan);else if(y)this._assertAllEventsPublishedByDirectives(w,c),this._assertNoComponentsNorElementBindingsOnTemplate(w,x,e.sourceSpan),T=new jf(d,c,C,l,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,S,v?null:P,e.sourceSpan);else{this._assertElementExists(k,e),this._assertOnlyOneComponent(w,e.sourceSpan);var N=v?null:t.findNgContentIndex(A);T=new Vf(i,d,x,c,C,b.transformedDirectiveAsts,b.transformProviders,b.transformedHasViewContainer,b.queryMatches,S,v?null:N,e.sourceSpan,e.endSourceSpan||null)}if(v){var I=this.contentQueryStartId,M=Mv("ng-template",p),O=this._parseDirectives(this.selectorMatcher,M).directives,R=new Set,D=this._createDirectiveAsts(!0,i,O,h,[],e.sourceSpan,[],R),L=this._createElementPropertyAsts(i,h,R);this._assertNoComponentsNorElementBindingsOnTemplate(D,L,e.sourceSpan);var F=new Kf(this.providerViewContext,t.providerContext,t.isTemplateElement,D,[],[],!0,I,e.sourceSpan);F.afterElement(),T=new jf([],[],[],f,F.transformedDirectiveAsts,F.transformProviders,F.transformedHasViewContainer,F.queryMatches,[T],P,e.sourceSpan)}return T}},{key:"_parseAttr",value:function(e,t,n,r,i,s,a){var o=this._normalizeAttributeName(t.name),u=t.value,l=t.sourceSpan,c=t.valueSpan?t.valueSpan.start.offset:l.start.offset,h=[],p=o.match(Ev),f=!1;return null!==p?(f=!0,null!=p[1]?this._bindingParser.parsePropertyBinding(p[7],u,!1,l,c,t.valueSpan,n,r):p[2]?e?this._parseVariable(p[7],u,l,a):this._reportError('"let-" is only supported on ng-template elements.',l):p[3]?this._parseReference(p[7],u,l,s):p[4]?this._bindingParser.parseEvent(p[7],u,l,t.valueSpan||l,n,h):p[5]?(this._bindingParser.parsePropertyBinding(p[7],u,!1,l,c,t.valueSpan,n,r),this._parseAssignmentEvent(p[7],u,l,t.valueSpan||l,n,h)):p[6]?this._bindingParser.parseLiteralAttr(o,u,l,c,t.valueSpan,n,r):p[8]?(this._bindingParser.parsePropertyBinding(p[8],u,!1,l,c,t.valueSpan,n,r),this._parseAssignmentEvent(p[8],u,l,t.valueSpan||l,n,h)):p[9]?this._bindingParser.parsePropertyBinding(p[9],u,!1,l,c,t.valueSpan,n,r):p[10]&&this._bindingParser.parseEvent(p[10],u,l,t.valueSpan||l,n,h)):f=this._bindingParser.parsePropertyInterpolation(o,u,l,t.valueSpan,n,r),f||this._bindingParser.parseLiteralAttr(o,u,l,c,t.valueSpan,n,r),i.push.apply(i,_toConsumableArray(h.map((function(e){return Df.fromParsedEvent(e)})))),f}},{key:"_normalizeAttributeName",value:function(e){return/^data-/i.test(e)?e.substring(5):e}},{key:"_parseVariable",value:function(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),r.push(new Ff(e,t,n))}},{key:"_parseReference",value:function(e,t,n,r){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),r.push(new Nv(e,t,n))}},{key:"_parseAssignmentEvent",value:function(e,t,n,r,i,s){this._bindingParser.parseEvent("".concat(e,"Change"),"".concat(t,"=$event"),n,r,i,s)}},{key:"_parseDirectives",value:function(e,t){var n=this,r=new Array(this.directivesIndex.size),i=!1;return e.match(t,(function(e,t){r[n.directivesIndex.get(t)]=t,i=i||e.hasElementSelector()})),{directives:r.filter((function(e){return!!e})),matchElement:i}}},{key:"_createDirectiveAsts",value:function(e,t,n,r,i,s,a,o){var u=this,l=new Set,c=null,h=n.map((function(e){var n=new rc(s.start,s.end,"Directive ".concat(nl(e.type)));e.isComponent&&(c=e);var h=[],p=u._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map((function(e){return Rf.fromBoundProperty(e)}));p=u._checkPropertiesInSchema(t,p);var f=u._bindingParser.createDirectiveHostEventAsts(e,n);u._createDirectivePropertyAsts(e.inputs,r,h,o),i.forEach((function(t){(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(a.push(new Lf(t.name,Gu(e.type.reference),t.value,t.sourceSpan)),l.add(t.name))}));var v=f.map((function(e){return Df.fromParsedEvent(e)})),d=u.contentQueryStartId;return u.contentQueryStartId+=e.queries.length,new Hf(e,h,p,v,d,n)}));return i.forEach((function(t){if(t.value.length>0)l.has(t.name)||u._reportError('There is no directive with "exportAs" set to "'.concat(t.value,'"'),t.sourceSpan);else if(!c){var n=null;e&&(n=Zu(u.reflector,Yu.TemplateRef)),a.push(new Lf(t.name,n,t.value,t.sourceSpan))}})),h}},{key:"_createDirectivePropertyAsts",value:function(e,t,n,r){if(e){var i=new Map;t.forEach((function(e){var t=i.get(e.name);t&&!t.isLiteral||i.set(e.name,e)})),Object.keys(e).forEach((function(t){var s=i.get(e[t]);s&&(r.add(s.name),Fv(s.expression)||n.push(new Uf(t,s.name,s.expression,s.sourceSpan)))}))}}},{key:"_createElementPropertyAsts",value:function(e,t,n){var r=this,i=[];return t.forEach((function(t){if(!t.isLiteral&&!n.has(t.name)){var s=r._bindingParser.createBoundElementProperty(e,t);i.push(Rf.fromBoundProperty(s))}})),this._checkPropertiesInSchema(e,i)}},{key:"_findComponentDirectives",value:function(e){return e.filter((function(e){return e.directive.isComponent}))}},{key:"_findComponentDirectiveNames",value:function(e){return this._findComponentDirectives(e).map((function(e){return nl(e.directive.type)}))}},{key:"_assertOnlyOneComponent",value:function(e,t){var n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+"Conflicting components: ".concat(n.join(",")),t)}},{key:"_assertElementExists",value:function(e,t){var n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){var r="'".concat(n,"' is not a known element:\n");r+="1. If '".concat(n,"' is an Angular component, then verify that it is part of this module.\n"),n.indexOf("-")>-1?r+="2. If '".concat(n,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message."):r+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(r,t.sourceSpan)}}},{key:"_assertNoComponentsNorElementBindingsOnTemplate",value:function(e,t,n){var r=this,i=this._findComponentDirectiveNames(e);i.length>0&&this._reportError("Components on an embedded template: ".concat(i.join(",")),n),t.forEach((function(e){r._reportError("Property binding ".concat(e.name,' not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),n)}))}},{key:"_assertAllEventsPublishedByDirectives",value:function(e,t){var n=this,r=new Set;e.forEach((function(e){Object.keys(e.directive.outputs).forEach((function(t){r.add(e.directive.outputs[t])}))})),t.forEach((function(e){null==e.target&&r.has(e.name)||n._reportError("Event binding ".concat(e.fullName,' not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".'),e.sourceSpan)}))}},{key:"_checkPropertiesInSchema",value:function(e,t){var n=this;return t.filter((function(t){if(0===t.type&&!n._schemaRegistry.hasProperty(e,t.name,n._schemas)){var r="Can't bind to '".concat(t.name,"' since it isn't a known property of '").concat(e,"'.");e.startsWith("ng-")?r+="\n1. If '".concat(t.name,"' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.")+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(r+="\n1. If '".concat(e,"' is an Angular component and it has '").concat(t.name,"' input, then verify that it is part of this module.")+"\n2. If '".concat(e,"' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.")+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),n._reportError(r,t.sourceSpan)}return!Fv(t.value)}))}},{key:"_reportError",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ic.ERROR;this._targetErrors.push(new sc(t,e,n))}}]),e}(),Pv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitElement",value:function(e,t){var n=gv(e);if(n.type===kv.SCRIPT||n.type===kv.STYLE||n.type===kv.STYLESHEET)return null;var r=e.attrs.map((function(e){return[e.name,e.value]})),i=Mv(e.name,r),s=t.findNgContentIndex(i),a=Kp(this,e.children,Ov);return new Vf(e.name,Kp(this,e.attrs),[],[],[],[],[],!1,[],a,s,e.sourceSpan,e.endSourceSpan)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return new Mf(e.name,e.value,e.sourceSpan)}},{key:"visitText",value:function(e,t){var n=t.findNgContentIndex(xv());return new Nf(e.value,n,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){return e}},{key:"visitExpansionCase",value:function(e,t){return e}}]),e}(),Nv=function(){function e(t,n,r){_classCallCheck(this,e),this.name=t,this.value=n,this.sourceSpan=r}return _createClass(e,[{key:"isReferenceToDirective",value:function(e){return-1!==(t=e.exportAs,t?t.split(",").map((function(e){return e.trim()})):[]).indexOf(this.value);var t}}]),e}(),Iv=function(){function e(t,n,r,i){_classCallCheck(this,e),this.isTemplateElement=t,this._ngContentIndexMatcher=n,this._wildcardNgContentIndex=r,this.providerContext=i}return _createClass(e,[{key:"findNgContentIndex",value:function(e){var t=[];return this._ngContentIndexMatcher.match(e,(function(e,n){t.push(n)})),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}],[{key:"create",value:function(t,n,r){var i=new Pa,s=null,a=n.find((function(e){return e.directive.isComponent}));if(a)for(var o=a.directive.template.ngContentSelectors,u=0;u<o.length;u++)"*"===o[u]?s=u:i.addSelectables(Aa.parse(o[u]),u);return new e(t,i,s,r)}}]),e}();function Mv(e,t){var n=new Aa,r=ya(e)[1];n.setElement(r);for(var i=0;i<t.length;i++){var s=t[i][0],a=ya(s)[1],o=t[i][1];n.addAttribute(a,o),s.toLowerCase()==wv&&o.trim().split(/\s+/g).forEach((function(e){return n.addClassName(e)}))}return n}var Ov=new Iv(!0,new Pa,null,null),Rv=new Pv;function Dv(e){return e instanceof Bp&&0==e.value.trim().length}function Lv(e){var t=new Map;return e.forEach((function(e){t.get(e.type.reference)||t.set(e.type.reference,e)})),Array.from(t.values())}function Fv(e){return e instanceof Bh&&(e=e.ast),e instanceof Ch}var Vv=function(e){return e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error",e}({}),jv=["var","let","as","null","undefined","true","false","if","else","this"],Uv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"tokenize",value:function(e){for(var t=new zv(e),n=[],r=t.scanToken();null!=r;)n.push(r),r=t.scanToken();return n}}]),e}(),Hv=function(){function e(t,n,r,i){_classCallCheck(this,e),this.index=t,this.type=n,this.numValue=r,this.strValue=i}return _createClass(e,[{key:"isCharacter",value:function(e){return this.type==Vv.Character&&this.numValue==e}},{key:"isNumber",value:function(){return this.type==Vv.Number}},{key:"isString",value:function(){return this.type==Vv.String}},{key:"isOperator",value:function(e){return this.type==Vv.Operator&&this.strValue==e}},{key:"isIdentifier",value:function(){return this.type==Vv.Identifier}},{key:"isKeyword",value:function(){return this.type==Vv.Keyword}},{key:"isKeywordLet",value:function(){return this.type==Vv.Keyword&&"let"==this.strValue}},{key:"isKeywordAs",value:function(){return this.type==Vv.Keyword&&"as"==this.strValue}},{key:"isKeywordNull",value:function(){return this.type==Vv.Keyword&&"null"==this.strValue}},{key:"isKeywordUndefined",value:function(){return this.type==Vv.Keyword&&"undefined"==this.strValue}},{key:"isKeywordTrue",value:function(){return this.type==Vv.Keyword&&"true"==this.strValue}},{key:"isKeywordFalse",value:function(){return this.type==Vv.Keyword&&"false"==this.strValue}},{key:"isKeywordThis",value:function(){return this.type==Vv.Keyword&&"this"==this.strValue}},{key:"isError",value:function(){return this.type==Vv.Error}},{key:"toNumber",value:function(){return this.type==Vv.Number?this.numValue:-1}},{key:"toString",value:function(){switch(this.type){case Vv.Character:case Vv.Identifier:case Vv.Keyword:case Vv.Operator:case Vv.String:case Vv.Error:return this.strValue;case Vv.Number:return this.numValue.toString();default:return null}}}]),e}();function Bv(e,t){return new Hv(e,Vv.Character,t,String.fromCharCode(t))}function qv(e,t){return new Hv(e,Vv.Operator,0,t)}var Wv=new Hv(-1,Vv.Character,0,""),zv=function(){function e(t){_classCallCheck(this,e),this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return _createClass(e,[{key:"advance",value:function(){this.peek=++this.index>=this.length?_l:this.input.charCodeAt(this.index)}},{key:"scanToken",value:function(){for(var e=this.input,t=this.length,n=this.peek,r=this.index;n<=bl;){if(++r>=t){n=_l;break}n=e.charCodeAt(r)}if(this.peek=n,this.index=r,r>=t)return null;if(Qv(n))return this.scanIdentifier();if(Zl(n))return this.scanNumber(r);var i=r;switch(n){case 46:return this.advance(),Zl(this.peek)?this.scanNumber(i):Bv(i,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case Ml:return this.scanCharacter(i,n);case Al:case Sl:return this.scanString();case 35:case Pl:case Nl:case 42:case Il:case 37:case 94:return this.scanOperator(i,String.fromCharCode(n));case 63:return this.scanComplexOperator(i,"?",46,".");case 60:case Rl:return this.scanComplexOperator(i,String.fromCharCode(n),Ol,"=");case 33:case Ol:return this.scanComplexOperator(i,String.fromCharCode(n),Ol,"=",Ol,"=");case 38:return this.scanComplexOperator(i,"&",38,"&");case 124:return this.scanComplexOperator(i,"|",124,"|");case Yl:for(;Gl(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(n),"]"),0)}},{key:"scanCharacter",value:function(e,t){return this.advance(),Bv(e,t)}},{key:"scanOperator",value:function(e,t){return this.advance(),qv(e,t)}},{key:"scanComplexOperator",value:function(e,t,n,r,i,s){this.advance();var a=t;return this.peek==n&&(this.advance(),a+=r),null!=i&&this.peek==i&&(this.advance(),a+=s),qv(e,a)}},{key:"scanIdentifier",value:function(){var e=this.index;for(this.advance();Xv(this.peek);)this.advance();var t=this.input.substring(e,this.index);return jv.indexOf(t)>-1?new Hv(e,Vv.Keyword,0,t):new Hv(e,Vv.Identifier,0,t)}},{key:"scanNumber",value:function(e){var t,n=this.index===e;for(this.advance();;){if(Zl(this.peek));else if(46==this.peek)n=!1;else{if(101!=(t=this.peek)&&69!=t)break;if(this.advance(),Kv(this.peek)&&this.advance(),!Zl(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r=this.input.substring(e,this.index),i=n?function(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(r):parseFloat(r);return new Hv(e,Vv.Number,i,"")}},{key:"scanString",value:function(){var e=this.index,t=this.peek;this.advance();for(var n="",r=this.index,i=this.input;this.peek!=t;)if(92==this.peek){var s=void 0;if(n+=i.substring(r,this.index),this.advance(),this.peek=this.peek,117==this.peek){var a=i.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(a))return this.error("Invalid unicode escape [\\u".concat(a,"]"),0);s=parseInt(a,16);for(var o=0;o<5;o++)this.advance()}else s=Yv(this.peek),this.advance();n+=String.fromCharCode(s),r=this.index}else{if(this.peek==_l)return this.error("Unterminated quote",0);this.advance()}var u=i.substring(r,this.index);return this.advance(),new Hv(e,Vv.String,0,n+u)}},{key:"error",value:function(e,t){var n=this.index+t;return function(e,t){return new Hv(e,Vv.Error,0,t)}(n,"Lexer Error: ".concat(e," at column ").concat(n," in expression [").concat(this.input,"]"))}}]),e}();function Qv(e){return Bl<=e&&e<=Kl||Vl<=e&&e<=Ul||e==Hl||e==Tl}function Xv(e){return Jl(e)||Zl(e)||e==Hl||e==Tl}function Kv(e){return e==Nl||e==Pl}function Yv(e){switch(e){case Wl:return Cl;case ql:return wl;case zl:return xl;case Ql:return kl;case Xl:return El;default:return e}}var Gv=function e(t,n,r){_classCallCheck(this,e),this.strings=t,this.expressions=n,this.offsets=r},Zv=function e(t,n,r){_classCallCheck(this,e),this.templateBindings=t,this.warnings=n,this.errors=r};function Jv(e){var t=Du(e.start)+"([\\s\\S]*?)"+Du(e.end);return new RegExp(t,"g")}var $v,ed=function(){function e(t){_classCallCheck(this,e),this._lexer=t,this.errors=[]}return _createClass(e,[{key:"parseAction",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$c;this._checkNoInterpolation(e,t,r);var i=this._stripComments(e),s=this._lexer.tokenize(this._stripComments(e)),a=new td(e,t,n,s,i.length,!0,this.errors,e.length-i.length).parseChain();return new Bh(a,e,t,n,this.errors)}},{key:"parseBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$c,i=this._parseBindingAst(e,t,n,r);return new Bh(i,e,t,n,this.errors)}},{key:"parseSimpleBinding",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$c,i=this._parseBindingAst(e,t,n,r),s=nd.check(i);return s.length>0&&this._reportError("Host binding expression cannot contain ".concat(s.join(" ")),e,t),new Bh(i,e,t,n,this.errors)}},{key:"_reportError",value:function(e,t,n,r){this.errors.push(new mh(e,t,n,r))}},{key:"_parseBindingAst",value:function(e,t,n,r){var i=this._parseQuote(e,t);if(null!=i)return i;this._checkNoInterpolation(e,t,r);var s=this._stripComments(e),a=this._lexer.tokenize(s);return new td(e,t,n,a,s.length,!1,this.errors,e.length-s.length).parseChain()}},{key:"_parseQuote",value:function(e,t){if(null==e)return null;var n=e.indexOf(":");if(-1==n)return null;var r=e.substring(0,n).trim();if(!function(e){if(0==e.length)return!1;var t=new zv(e);if(!Qv(t.peek))return!1;for(t.advance();t.peek!==_l;){if(!Xv(t.peek))return!1;t.advance()}return!0}(r))return null;var i=e.substring(n+1);return new kh(new gh(0,e.length),r,i,t)}},{key:"parseTemplateBindings",value:function(e,t,n,r){var i=this._lexer.tokenize(t);return new td(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings(e)}},{key:"parseInterpolation",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$c,i=this.splitInterpolation(e,t,r);if(null==i)return null;for(var s=[],a=0;a<i.expressions.length;++a){var o=i.expressions[a],u=this._stripComments(o),l=this._lexer.tokenize(u),c=new td(e,t,n,l,u.length,!1,this.errors,i.offsets[a]+(o.length-u.length)).parseChain();s.push(c)}return new Bh(new Rh(new gh(0,null==e?0:e.length),i.strings,s),e,t,n,this.errors)}},{key:"splitInterpolation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$c,r=Jv(n),i=e.split(r);if(i.length<=1)return null;for(var s=[],a=[],o=[],u=0,l=0;l<i.length;l++){var c=i[l];l%2==0?(s.push(c),u+=c.length):c.trim().length>0?(u+=n.start.length,a.push(c),o.push(u),u+=c.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,"at column ".concat(this._findInterpolationErrorColumn(i,l,n)," in"),t),a.push("$implict"),o.push(u))}return new Gv(s,a,o)}},{key:"wrapLiteralPrimitive",value:function(e,t,n){return new Bh(new Ih(new gh(0,null==e?0:e.length),e),e,t,n,this.errors)}},{key:"_stripComments",value:function(e){var t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}},{key:"_commentStart",value:function(e){for(var t,n=null,r=0;r<e.length-1;r++){var i=e.charCodeAt(r),s=e.charCodeAt(r+1);if(i===Il&&s==Il&&null==n)return r;n===i?n=null:null==n&&((t=i)===Al||t===Sl||96===t)&&(n=i)}return null}},{key:"_checkNoInterpolation",value:function(e,t,n){var r=Jv(n),i=e.split(r);i.length>1&&this._reportError("Got interpolation (".concat(n.start).concat(n.end,") where expression was expected"),e,"at column ".concat(this._findInterpolationErrorColumn(i,1,n)," in"),t)}},{key:"_findInterpolationErrorColumn",value:function(e,t,n){for(var r="",i=0;i<t;i++)r+=i%2==0?e[i]:"".concat(n.start).concat(e[i]).concat(n.end);return r.length}}]),e}(),td=function(){function e(t,n,r,i,s,a,o,u){_classCallCheck(this,e),this.input=t,this.location=n,this.absoluteOffset=r,this.tokens=i,this.inputLength=s,this.parseAction=a,this.errors=o,this.offset=u,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return _createClass(e,[{key:"peek",value:function(e){var t=this.index+e;return t<this.tokens.length?this.tokens[t]:Wv}},{key:"span",value:function(e){return new gh(e,this.inputIndex)}},{key:"advance",value:function(){this.index++}},{key:"optionalCharacter",value:function(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}},{key:"peekKeywordLet",value:function(){return this.next.isKeywordLet()}},{key:"peekKeywordAs",value:function(){return this.next.isKeywordAs()}},{key:"expectCharacter",value:function(e){this.optionalCharacter(e)||this.error("Missing expected ".concat(String.fromCharCode(e)))}},{key:"optionalOperator",value:function(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}},{key:"expectOperator",value:function(e){this.optionalOperator(e)||this.error("Missing expected operator ".concat(e))}},{key:"expectIdentifierOrKeyword",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier or keyword")),"")}},{key:"expectIdentifierOrKeywordOrString",value:function(){var e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error("Unexpected token ".concat(e,", expected identifier, keyword, or string")),"")}},{key:"parseChain",value:function(){for(var e=[],t=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(e.push(n),this.optionalCharacter(Ml))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(Ml););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}return 0==e.length?new Ch(this.span(t)):1==e.length?e[0]:new wh(this.span(t),e)}},{key:"parsePipe",value:function(){var e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var t=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());e=new Nh(this.span(e.span.start),e,t,n)}while(this.optionalOperator("|"))}return e}},{key:"parseExpression",value:function(){return this.parseConditional()}},{key:"parseConditional",value:function(){var e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){var n,r=this.parsePipe();if(this.optionalCharacter(58))n=this.parsePipe();else{var i=this.input.substring(e,this.inputIndex);this.error("Conditional expression ".concat(i," requires all 3 expressions")),n=new Ch(this.span(e))}return new xh(this.span(e),t,r,n)}return t}},{key:"parseLogicalOr",value:function(){for(var e=this.parseLogicalAnd();this.optionalOperator("||");){var t=this.parseLogicalAnd();e=new Dh(this.span(e.span.start),"||",e,t)}return e}},{key:"parseLogicalAnd",value:function(){for(var e=this.parseEquality();this.optionalOperator("&&");){var t=this.parseEquality();e=new Dh(this.span(e.span.start),"&&",e,t)}return e}},{key:"parseEquality",value:function(){for(var e=this.parseRelational();this.next.type==Vv.Operator;){var t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();e=new Dh(this.span(e.span.start),t,e,n);continue}break}return e}},{key:"parseRelational",value:function(){for(var e=this.parseAdditive();this.next.type==Vv.Operator;){var t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();e=new Dh(this.span(e.span.start),t,e,n);continue}break}return e}},{key:"parseAdditive",value:function(){for(var e=this.parseMultiplicative();this.next.type==Vv.Operator;){var t=this.next.strValue;switch(t){case"+":case"-":this.advance();var n=this.parseMultiplicative();e=new Dh(this.span(e.span.start),t,e,n);continue}break}return e}},{key:"parseMultiplicative",value:function(){for(var e=this.parsePrefix();this.next.type==Vv.Operator;){var t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();e=new Dh(this.span(e.span.start),t,e,n);continue}break}return e}},{key:"parsePrefix",value:function(){if(this.next.type==Vv.Operator){var e,t=this.inputIndex,n=this.next.strValue;switch(n){case"+":return this.advance(),e=this.parsePrefix(),new Dh(this.span(t),"-",e,new Ih(new gh(t,t),0));case"-":return this.advance(),e=this.parsePrefix(),new Dh(this.span(t),n,new Ih(new gh(t,t),0),e);case"!":return this.advance(),e=this.parsePrefix(),new Lh(this.span(t),e)}}return this.parseCallChain()}},{key:"parseCallChain",value:function(){for(var e=this.parsePrimary();;)if(this.optionalCharacter(46))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();e=new Ph(this.span(e.span.start),e,t,n)}else e=new Ah(this.span(e.span.start),e,t)}else if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),e=new Uh(this.span(e.span.start),e,r)}else{if(!this.optionalOperator("!"))return e;e=new Fh(this.span(e.span.start),e)}}},{key:"parsePrimary",value:function(){var e=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var t=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),t}if(this.next.isKeywordNull())return this.advance(),new Ih(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Ih(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Ih(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Ih(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new Eh(this.span(e));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Mh(this.span(e),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Eh(this.span(e)),!1);if(this.next.isNumber()){var r=this.next.toNumber();return this.advance(),new Ih(this.span(e),r)}if(this.next.isString()){var i=this.next.toString();return this.advance(),new Ih(this.span(e),i)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: ".concat(this.input)),new Ch(this.span(e))):(this.error("Unexpected token ".concat(this.next)),new Ch(this.span(e)))}},{key:"parseExpressionList",value:function(e){var t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t}},{key:"parseLiteralMap",value:function(){var e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var r=this.next.isString(),i=this.expectIdentifierOrKeywordOrString();e.push({key:i,quoted:r}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new Oh(this.span(n),e,t)}},{key:"parseAccessMemberOrMethodCall",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.span.start,r=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var i=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var s=this.span(n);return t?new jh(s,e,r,i):new Vh(s,e,r,i)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Ch(this.span(n))):new Th(this.span(n),e,r);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Ch(this.span(n));var a=this.parseConditional();return new Sh(this.span(n),e,r,a)}return new bh(this.span(n),e,r)}},{key:"parseCallArguments",value:function(){if(this.next.isCharacter(41))return[];var e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e}},{key:"expectTemplateBindingKey",value:function(){var e="",t=!1;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-")}while(t);return e.toString()}},{key:"parseTemplateBindings",value:function(e){var t=!0,n=[];do{var r=this.inputIndex,i=void 0,s=void 0,a=!1;t?(i=s=e,t=!1):((a=this.peekKeywordLet())&&this.advance(),i=this.expectTemplateBindingKey(),s=a?i:e+i[0].toUpperCase()+i.substring(1),this.optionalCharacter(58));var o=null,u=null;if(a)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),o=i,s=this.expectTemplateBindingKey(),a=!0;else if(this.next!==Wv&&!this.peekKeywordLet()){var l=this.inputIndex,c=this.parsePipe(),h=this.input.substring(l-this.offset,this.inputIndex-this.offset);u=new Bh(c,h,this.location,this.absoluteOffset,this.errors)}if(n.push(new qh(this.span(r),s,a,o,u)),this.peekKeywordAs()&&!a){var p=this.inputIndex;this.advance();var f=this.expectTemplateBindingKey();n.push(new qh(this.span(p),f,!0,s,null))}this.optionalCharacter(Ml)||this.optionalCharacter(44)}while(this.index<this.tokens.length);return new Zv(n,[],this.errors)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors.push(new mh(e,this.input,this.locationText(t),this.location)),this.skip()}},{key:"locationText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=this.index),e<this.tokens.length?"at column ".concat(this.tokens[e].index+1," in"):"at the end of the expression"}},{key:"skip",value:function(){for(var e=this.next;this.index<this.tokens.length&&!e.isCharacter(Ml)&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93));)this.next.isError()&&this.errors.push(new mh(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},{key:"next",get:function(){return this.peek(0)}},{key:"inputIndex",get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}}]),e}(),nd=function(){function e(){_classCallCheck(this,e),this.errors=[]}return _createClass(e,[{key:"visitImplicitReceiver",value:function(e,t){}},{key:"visitInterpolation",value:function(e,t){}},{key:"visitLiteralPrimitive",value:function(e,t){}},{key:"visitPropertyRead",value:function(e,t){}},{key:"visitPropertyWrite",value:function(e,t){}},{key:"visitSafePropertyRead",value:function(e,t){}},{key:"visitMethodCall",value:function(e,t){}},{key:"visitSafeMethodCall",value:function(e,t){}},{key:"visitFunctionCall",value:function(e,t){}},{key:"visitLiteralArray",value:function(e,t){this.visitAll(e.expressions)}},{key:"visitLiteralMap",value:function(e,t){this.visitAll(e.values)}},{key:"visitBinary",value:function(e,t){}},{key:"visitPrefixNot",value:function(e,t){}},{key:"visitNonNullAssert",value:function(e,t){}},{key:"visitConditional",value:function(e,t){}},{key:"visitPipe",value:function(e,t){this.errors.push("pipes")}},{key:"visitKeyedRead",value:function(e,t){}},{key:"visitKeyedWrite",value:function(e,t){}},{key:"visitAll",value:function(e){var t=this;return e.map((function(e){return e.visit(t)}))}},{key:"visitChain",value:function(e,t){}},{key:"visitQuote",value:function(e,t){}}],[{key:"check",value:function(t){var n=new e;return t.visit(n),n.errors}}]),e}();function rd(){return $v||($v={},id(ro.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),id(ro.STYLE,["*|style"]),id(ro.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),id(ro.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),$v}function id(e,t){var n=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var o=s.value;$v[o.toLowerCase()]=e}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}var sd=function e(){_classCallCheck(this,e)},ad="boolean",od="number",ud="string",ld="object",cd=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],hd={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},pd=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._schema={},cd.forEach((function(t){var n={},r=_slicedToArray(t.split("|"),2),i=r[0],s=r[1].split(","),a=_slicedToArray(i.split("^"),2),o=a[0],u=a[1];o.split(",").forEach((function(t){return e._schema[t.toLowerCase()]=n}));var l=u&&e._schema[u.toLowerCase()];l&&Object.keys(l).forEach((function(e){n[e]=l[e]})),s.forEach((function(e){if(e.length>0)switch(e[0]){case"*":break;case"!":n[e.substring(1)]=ad;break;case"#":n[e.substring(1)]=od;break;case"%":n[e.substring(1)]=ld;break;default:n[e]=ud}}))})),e}return _inherits(t,e),_createClass(t,[{key:"hasProperty",value:function(e,t,n){if(n.some((function(e){return e.name===Za})))return!0;if(e.indexOf("-")>-1){if(ma(e)||ga(e))return!1;if(n.some((function(e){return e.name===Ga})))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}},{key:"hasElement",value:function(e,t){if(t.some((function(e){return e.name===Za})))return!0;if(e.indexOf("-")>-1){if(ma(e)||ga(e))return!0;if(t.some((function(e){return e.name===Ga})))return!0}return!!this._schema[e.toLowerCase()]}},{key:"securityContext",value:function(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();var r=rd()[e+"|"+t];return r||(r=rd()["*|"+t])||ro.NONE}},{key:"getMappedPropName",value:function(e){return hd[e]||e}},{key:"getDefaultComponentElementName",value:function(){return"ng-component"}},{key:"validateProperty",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")+"\nIf '".concat(e,"' is a directive input, make sure the directive is imported by the")+" current module."}:{error:!1}}},{key:"validateAttribute",value:function(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '".concat(e,"' is disallowed for security reasons, ")+"please use (".concat(e.slice(2),")=...")}:{error:!1}}},{key:"allKnownElementNames",value:function(){return Object.keys(this._schema)}},{key:"normalizeAnimationStyleProperty",value:function(e){return e.replace(Cu,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}},{key:"normalizeAnimationStyleValue",value:function(e,t,n){var r="",i=n.toString().trim(),s=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&(s="Please provide a CSS unit value for ".concat(t,":").concat(n))}return{error:s,value:i+r}}}]),t}(sd),fd={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},vd=function(){function e(){_classCallCheck(this,e),this._placeHolderNameCounts={},this._signatureToName={}}return _createClass(e,[{key:"getStartTagPlaceholderName",value:function(e,t,n){var r=this._hashTag(e,t,n);if(this._signatureToName[r])return this._signatureToName[r];var i=e.toUpperCase(),s=fd[i]||"TAG_".concat(i),a=this._generateUniqueName(n?s:"START_".concat(s));return this._signatureToName[r]=a,a}},{key:"getCloseTagPlaceholderName",value:function(e){var t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];var n=e.toUpperCase(),r=this._generateUniqueName("CLOSE_".concat(fd[n]||"TAG_".concat(n)));return this._signatureToName[t]=r,r}},{key:"getPlaceholderName",value:function(e,t){var n=e.toUpperCase(),r="PH: ".concat(n,"=").concat(t);if(this._signatureToName[r])return this._signatureToName[r];var i=this._generateUniqueName(n);return this._signatureToName[r]=i,i}},{key:"getUniquePlaceholder",value:function(e){return this._generateUniqueName(e.toUpperCase())}},{key:"_hashTag",value:function(e,t,n){return"<".concat(e)+Object.keys(t).sort().map((function(e){return" ".concat(e,"=").concat(t[e])})).join("")+(n?"/>":"></".concat(e,">"))}},{key:"_hashClosingTag",value:function(e){return this._hashTag("/".concat(e),{},!1)}},{key:"_generateUniqueName",value:function(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;var t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,"".concat(e,"_").concat(t)}}]),e}(),dd=new ed(new Uv),yd=function(){function e(t,n){_classCallCheck(this,e),this._expressionParser=t,this._interpolationConfig=n}return _createClass(e,[{key:"toI18nMessage",value:function(e,t,n,r,i){this._isIcu=1==e.length&&e[0]instanceof qp,this._icuDepth=0,this._placeholderRegistry=new vd,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=i;var s=Kp(this,e,{});return new ac(s,this._placeholderToContent,this._placeholderToMessage,t,n,r)}},{key:"_visitNode",value:function(e,t){return this._visitNodeFn&&this._visitNodeFn(e,t),t}},{key:"visitElement",value:function(e,t){var n=Kp(this,e.children),r={};e.attrs.forEach((function(e){r[e.name]=e.value}));var i=Sa(e.name).isVoid,s=this._placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);this._placeholderToContent[s]=e.sourceSpan.toString();var a="";i||(a=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[a]="</".concat(e.name,">"));var o=new cc(e.name,r,s,a,n,i,e.sourceSpan);return this._visitNode(e,o)}},{key:"visitAttribute",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}},{key:"visitText",value:function(e,t){var n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitExpansion",value:function(t,n){var r=this;this._icuDepth++;var i={},s=new lc(t.switchValue,t.type,i,t.sourceSpan);if(t.cases.forEach((function(e){i[e.value]=new uc(e.expression.map((function(e){return e.visit(r,{})})),e.expSourceSpan)})),this._icuDepth--,this._isIcu||this._icuDepth>0){var a=this._placeholderRegistry.getUniquePlaceholder("VAR_".concat(t.type));return s.expressionPlaceholder=a,this._placeholderToContent[a]=t.switchValue,this._visitNode(t,s)}var o=this._placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString()),u=new e(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[o]=u.toI18nMessage([t],"","","");var l=new pc(s,o,t.sourceSpan);return this._visitNode(t,l)}},{key:"visitExpansionCase",value:function(e,t){throw new Error("Unreachable code")}},{key:"_visitTextWithInterpolation",value:function(e,t){var n=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!n)return new oc(e,t);for(var r=[],i=new uc(r,t),s=this._interpolationConfig,a=s.start,o=s.end,u=0;u<n.strings.length-1;u++){var l=n.expressions[u],c=l.split(md)[2]||"INTERPOLATION",h=this._placeholderRegistry.getPlaceholderName(c,l);n.strings[u].length&&r.push(new oc(n.strings[u],t)),r.push(new hc(l,h,t)),this._placeholderToContent[h]=a+l+o}var p=n.strings.length-1;return n.strings[p].length&&r.push(new oc(n.strings[p],t)),i}}]),e}(),md=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g,gd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){return""}}]),e}(),_d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultEncapsulation,r=void 0===n?Ua.Emulated:n,i=t.useJit,s=void 0===i||i,a=t.jitDevMode,o=void 0!==a&&a,u=t.missingTranslation,l=void 0===u?null:u,c=t.preserveWhitespaces,h=t.strictInjectionParameters;_classCallCheck(this,e),this.defaultEncapsulation=r,this.useJit=!!s,this.jitDevMode=!!o,this.missingTranslation=l,this.preserveWhitespaces=kd(Su(c)),this.strictInjectionParameters=!0===h};function kd(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===e?t:e}var Cd=function(){function e(t,n,r,i){_classCallCheck(this,e),this._resourceLoader=t,this._urlResolver=n,this._htmlParser=r,this._config=i,this._resourceLoaderCache=new Map}return _createClass(e,[{key:"clearCache",value:function(){this._resourceLoaderCache.clear()}},{key:"clearCacheFor",value:function(e){var t=this;if(e.isComponent){var n=e.template;this._resourceLoaderCache.delete(n.templateUrl),n.externalStylesheets.forEach((function(e){t._resourceLoaderCache.delete(e.moduleUrl)}))}}},{key:"_fetch",value:function(e){var t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}},{key:"normalizeTemplate",value:function(e){var t=this;if(bu(e.template)){if(bu(e.templateUrl))throw Mu("'".concat(Vu(e.componentType),"' component cannot define both template and templateUrl"));if("string"!=typeof e.template)throw Mu("The template specified for component ".concat(Vu(e.componentType)," is not a string"))}else{if(!bu(e.templateUrl))throw Mu("No template specified for component ".concat(Vu(e.componentType)));if("string"!=typeof e.templateUrl)throw Mu("The templateUrl specified for component ".concat(Vu(e.componentType)," is not a string"))}if(bu(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw Mu("The preserveWhitespaces option for component ".concat(Vu(e.componentType)," must be a boolean"));return Pu(this._preParseTemplate(e),(function(n){return t._normalizeTemplateMetadata(e,n)}))}},{key:"_preParseTemplate",value:function(e){var t,n,r=this;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),Pu(t,(function(t){return r._preparseLoadedTemplate(e,t,n)}))}},{key:"_preparseLoadedTemplate",value:function(e,t,n){var r=!!e.template,i=Jc.fromArray(e.interpolation),s=gl({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:r,templateUrl:n}),a=this._htmlParser.parse(t,s,{tokenizeExpansionForms:!0,interpolationConfig:i});if(a.errors.length>0)throw Mu("Template parse errors:\n".concat(a.errors.join("\n")));var o=this._normalizeStylesheet(new ll({styles:e.styles,moduleUrl:e.moduleUrl})),u=new Ed;Kp(u,a.rootNodes);var l=this._normalizeStylesheet(new ll({styles:u.styles,styleUrls:u.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:r,htmlAst:a,styles:o.styles.concat(l.styles),inlineStyleUrls:o.styleUrls.concat(l.styleUrls),styleUrls:this._normalizeStylesheet(new ll({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:u.ngContentSelectors}}},{key:"_normalizeTemplateMetadata",value:function(e,t){var n=this;return Pu(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),(function(r){return n._normalizeLoadedTemplateMetadata(e,t,r)}))}},{key:"_normalizeLoadedTemplateMetadata",value:function(e,t,n){var r=this,i=_toConsumableArray(t.styles);this._inlineStyles(t.inlineStyleUrls,n,i);var s=t.styleUrls,a=s.map((function(e){var t=n.get(e),i=_toConsumableArray(t.styles);return r._inlineStyles(t.styleUrls,n,i),new ll({moduleUrl:e,styles:i})})),o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===Ua.Emulated&&0===i.length&&0===s.length&&(o=Ua.None),new cl({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:i,styleUrls:s,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:a,preserveWhitespaces:kd(e.preserveWhitespaces,this._config.preserveWhitespaces)})}},{key:"_inlineStyles",value:function(e,t,n){var r=this;e.forEach((function(e){var i=t.get(e);i.styles.forEach((function(e){return n.push(e)})),r._inlineStyles(i.styleUrls,t,n)}))}},{key:"_loadMissingExternalStylesheets",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return Pu(Nu(e.filter((function(e){return!n.has(e)})).map((function(e){return Pu(t._fetch(e),(function(r){var i=t._normalizeStylesheet(new ll({styles:[r],moduleUrl:e}));return n.set(e,i),t._loadMissingExternalStylesheets(i.styleUrls,n)}))}))),(function(e){return n}))}},{key:"_normalizeStylesheet",value:function(e){var t=this,n=e.moduleUrl,r=e.styleUrls.filter(tv).map((function(e){return t._urlResolver.resolve(n,e)})),i=e.styles.map((function(e){var i,s,a,o,u=(i=t._urlResolver,s=n,a=[],o=e.replace(rv,"").replace(nv,(function(){var e=(arguments.length<=1?void 0:arguments[1])||(arguments.length<=2?void 0:arguments[2]);return tv(e)?(a.push(i.resolve(s,e)),""):arguments.length<=0?void 0:arguments[0]})),new ev(o,a));return r.push.apply(r,_toConsumableArray(u.styleUrls)),u.style}));return new ll({styles:i,styleUrls:r,moduleUrl:n})}}]),e}(),Ed=function(){function e(){_classCallCheck(this,e),this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}return _createClass(e,[{key:"visitElement",value:function(e,t){var n=gv(e);switch(n.type){case kv.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case kv.STYLE:var r="";e.children.forEach((function(e){e instanceof Bp&&(r+=e.value)})),this.styles.push(r);break;case kv.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Kp(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}},{key:"visitExpansion",value:function(e,t){Kp(this,e.cases)}},{key:"visitExpansionCase",value:function(e,t){Kp(this,e.expression)}},{key:"visitComment",value:function(e,t){return null}},{key:"visitAttribute",value:function(e,t){return null}},{key:"visitText",value:function(e,t){return null}}]),e}(),wd=[Va,Fa,La,Da],xd=function(){function e(t){_classCallCheck(this,e),this._reflector=t}return _createClass(e,[{key:"isDirective",value:function(e){var t=this._reflector.annotations(ju(e));return t&&t.some(bd)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(ju(e));if(n){var r=Sd(n,bd);if(r){var i=this._reflector.propMetadata(e),s=this._reflector.guards(e);return this._mergeWithPropertyMetadata(r,i,s,e)}}if(t)throw new Error("No Directive annotation found on ".concat(Vu(e)));return null}},{key:"_mergeWithPropertyMetadata",value:function(e,t,n,r){var i=[],s=[],a={},o={};return Object.keys(t).forEach((function(e){var n=Sd(t[e],(function(e){return Wa.isTypeOf(e)}));n&&i.push(n.bindingPropertyName?"".concat(e,": ").concat(n.bindingPropertyName):e);var r=Sd(t[e],(function(e){return za.isTypeOf(e)}));r&&s.push(r.bindingPropertyName?"".concat(e,": ").concat(r.bindingPropertyName):e),t[e].filter((function(e){return Qa.isTypeOf(e)})).forEach((function(t){if(t.hostPropertyName){var n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");a["[".concat(t.hostPropertyName,"]")]=e}else a["[".concat(e,"]")]=e})),t[e].filter((function(e){return Xa.isTypeOf(e)})).forEach((function(t){a["(".concat(t.eventName,")")]="".concat(e,"(").concat((t.args||[]).join(","),")")}));var u=Sd(t[e],(function(e){return wd.some((function(t){return t.isTypeOf(e)}))}));u&&(o[e]=u)})),this._merge(e,i,s,a,o,n,r)}},{key:"_extractPublicName",value:function(e){return Eu(e,[null,e])[1].trim()}},{key:"_dedupeBindings",value:function(e){for(var t=new Set,n=new Set,r=[],i=e.length-1;i>=0;i--){var s=e[i],a=this._extractPublicName(s);n.add(a),t.has(a)||(t.add(a),r.push(s))}return r.reverse()}},{key:"_merge",value:function(e,t,n,r,i,s,a){var o=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),u=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),l=e.host?Object.assign({},e.host,r):r,c=e.queries?Object.assign({},e.queries,i):i;return Ba.isTypeOf(e)?Ba({selector:e.selector,inputs:o,outputs:u,host:l,exportAs:e.exportAs,moduleId:e.moduleId,queries:c,changeDetection:e.changeDetection,providers:e.providers,viewProviders:e.viewProviders,entryComponents:e.entryComponents,template:e.template,templateUrl:e.templateUrl,styles:e.styles,styleUrls:e.styleUrls,encapsulation:e.encapsulation,animations:e.animations,interpolation:e.interpolation,preserveWhitespaces:e.preserveWhitespaces}):ja({selector:e.selector,inputs:o,outputs:u,host:l,exportAs:e.exportAs,queries:c,providers:e.providers,guards:s})}}]),e}();function bd(e){return ja.isTypeOf(e)||Ba.isTypeOf(e)}function Sd(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}var Td=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),t}(sc),Ad=/^i18n:?/,Pd="|",Nd="@@",Id=!1,Md=function e(t,n){_classCallCheck(this,e),this.messages=t,this.errors=n},Od=function(e){return e[e.Extract=0]="Extract",e[e.Merge=1]="Merge",e}({}),Rd=function(){function e(t,n){_classCallCheck(this,e),this._implicitTags=t,this._implicitAttrs=n}return _createClass(e,[{key:"extract",value:function(e,t){var n=this;return this._init(Od.Extract,t),e.forEach((function(e){return e.visit(n,null)})),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new Md(this._messages,this._errors)}},{key:"merge",value:function(e,t,n){this._init(Od.Merge,n),this._translations=t;var r=new Qp("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new vf(r.children,this._errors)}},{key:"visitExpansionCase",value:function(e,t){var n=Kp(this,e.expression,t);if(this._mode===Od.Merge)return new Wp(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}},{key:"visitExpansion",value:function(e,t){this._mayBeAddBlockChildren(e);var n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);var r=Kp(this,e.cases,t);return this._mode===Od.Merge&&(e=new qp(e.switchValue,e.type,r,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}},{key:"visitComment",value:function(e,t){var n,r=!!((n=e)instanceof Xp&&n.value&&n.value.startsWith("i18n"));if(r&&this._isInTranslatableSection)this._reportError(e,"Could not start a block inside a translatable section");else{var i=function(e){return!!(e instanceof Xp&&e.value&&"/i18n"===e.value)}(e);if(!i||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(i){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;var s=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Kp(this,this._translateMessage(e,s))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else r&&(!Id&&console&&console.warn&&(Id=!0,console.warn("I18n comments are deprecated, use an <ng-container> element instead (".concat(e.sourceSpan.start).concat(e.sourceSpan.details?", ".concat(e.sourceSpan.details):"",")"))),this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(Ad,"").trim(),this._openTranslatableSection(e))}else this._reportError(e,"Trying to close an unopened block")}}},{key:"visitText",value:function(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}},{key:"visitElement",value:function(e,t){var n=this;this._mayBeAddBlockChildren(e),this._depth++;var r=this._inI18nNode,i=this._inImplicitNode,s=[],a=void 0,o=e.attrs.find((function(e){return"i18n"===e.name}))||null,u=o?o.value:"",l=this._implicitTags.some((function(t){return e.name===t}))&&!this._inIcu&&!this._isInTranslatableSection,c=!i&&l;if(this._inImplicitNode=i||l,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==Od.Extract&&Kp(this,e.children);else{if(o||c){this._inI18nNode=!0;var h=this._addMessage(e.children,u);a=this._translateMessage(e,h)}if(this._mode==Od.Extract){var p=o||c;p&&this._openTranslatableSection(e),Kp(this,e.children),p&&this._closeTranslatableSection(e,e.children)}}if(this._mode===Od.Merge&&(a||e.children).forEach((function(e){var r=e.visit(n,t);r&&!n._isInTranslatableSection&&(s=s.concat(r))})),this._visitAttributesOf(e),this._depth--,this._inI18nNode=r,this._inImplicitNode=i,this._mode===Od.Merge){var f=this._translateAttributes(e);return new Qp(e.name,f,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}},{key:"visitAttribute",value:function(e,t){throw new Error("unreachable code")}},{key:"_init",value:function(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=function(e){var t=new yd(dd,e);return function(e,n,r,i,s){return t.toI18nMessage(e,n,r,i,s)}}(t)}},{key:"_visitAttributesOf",value:function(e){var t=this,n={},r=this._implicitAttrs[e.name]||[];e.attrs.filter((function(e){return e.name.startsWith("i18n-")})).forEach((function(e){return n[e.name.slice("i18n-".length)]=e.value})),e.attrs.forEach((function(e){e.name in n?t._addMessage([e],n[e.name]):r.some((function(t){return e.name===t}))&&t._addMessage([e])}))}},{key:"_addMessage",value:function(e,t){if(0==e.length||1==e.length&&e[0]instanceof zp&&!e[0].value)return null;var n=Dd(t),r=n.meaning,i=n.description,s=n.id,a=this._createI18nMessage(e,r,i,s);return this._messages.push(a),a}},{key:"_translateMessage",value:function(e,t){if(t&&this._mode===Od.Merge){var n=this._translations.get(t);if(n)return n;this._reportError(e,'Translation unavailable for message id="'.concat(this._translations.digest(t),'"'))}return[]}},{key:"_translateAttributes",value:function(e){var t=this,n=e.attrs,r={};n.forEach((function(e){e.name.startsWith("i18n-")&&(r[e.name.slice("i18n-".length)]=Dd(e.value))}));var i=[];return n.forEach((function(n){if("i18n"!==n.name&&!n.name.startsWith("i18n-"))if(n.value&&""!=n.value&&r.hasOwnProperty(n.name)){var s=r[n.name],a=s.meaning,o=s.description,u=s.id,l=t._createI18nMessage([n],a,o,u),c=t._translations.get(l);c?0==c.length?i.push(new zp(n.name,"",n.sourceSpan)):c[0]instanceof Bp?i.push(new zp(n.name,c[0].value,n.sourceSpan)):t._reportError(e,'Unexpected translation for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(l),'")')):t._reportError(e,'Translation unavailable for attribute "'.concat(n.name,'" (id="').concat(u||t._translations.digest(l),'")'))}else i.push(n)})),i}},{key:"_mayBeAddBlockChildren",value:function(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}},{key:"_openTranslatableSection",value:function(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}},{key:"_closeTranslatableSection",value:function(e,t){if(this._isInTranslatableSection){var n=this._msgCountAtSectionStart;if(1==t.reduce((function(e,t){return e+(t instanceof Xp?0:1)}),0))for(var r=this._messages.length-1;r>=n;r--){var i=this._messages[r].nodes;if(!(1==i.length&&i[0]instanceof oc)){this._messages.splice(r,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(e,"Unexpected section end")}},{key:"_reportError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}},{key:"_isInTranslatableSection",get:function(){return void 0!==this._msgCountAtSectionStart}}]),e}();function Dd(e){if(!e)return{meaning:"",description:"",id:""};var t=e.indexOf(Nd),n=e.indexOf(Pd),r=_slicedToArray(t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],2),i=r[0],s=r[1],a=_slicedToArray(n>-1?[i.slice(0,n),i.slice(n+1)]:["",i],2);return{meaning:a[0],description:a[1],id:s}}var Ld=new(function(){function e(){_classCallCheck(this,e),this.closedByParent=!1,this.contentType=da.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}return _createClass(e,[{key:"requireExtraParent",value:function(e){return!1}},{key:"isClosedByChild",value:function(e){return!1}}]),e}());function Fd(e){return Ld}var Vd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Fd))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"parse",this).call(this,e,n,r)}}]),t}(df),jd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"write",value:function(e,t){var n=new Ud,r=[];e.forEach((function(e){var t,i=[];e.sources.forEach((function(e){var t=new jc("context-group",{purpose:"location"});t.children.push(new Hc(10),new jc("context",{"context-type":"sourcefile"},[new Uc(e.filePath)]),new Hc(10),new jc("context",{"context-type":"linenumber"},[new Uc("".concat(e.startLine))]),new Hc(8)),i.push(new Hc(8),t)}));var s=new jc("trans-unit",{id:e.id,datatype:"html"});(t=s.children).push.apply(t,[new Hc(8),new jc("source",{},n.serialize(e.nodes))].concat(i)),e.description&&s.children.push(new Hc(8),new jc("note",{priority:"1",from:"description"},[new Uc(e.description)])),e.meaning&&s.children.push(new Hc(8),new jc("note",{priority:"1",from:"meaning"},[new Uc(e.meaning)])),s.children.push(new Hc(6)),r.push(new Hc(6),s)}));var i=new jc("body",{},[].concat(r,[new Hc(4)])),s=new jc("file",{"source-language":t||"en",datatype:"plaintext",original:"ng2.template"},[new Hc(4),i,new Hc(2)]),a=new jc("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new Hc(2),s,new Hc]);return Lc([new Fc({version:"1.0",encoding:"UTF-8"}),new Hc,a,new Hc])}},{key:"load",value:function(e,t){var n=(new Hd).parse(e,t),r=n.locale,i=n.msgIdToHtml,s=n.errors,a={},o=new Bd;if(Object.keys(i).forEach((function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;s.push.apply(s,_toConsumableArray(u)),a[e]=r})),s.length)throw new Error("xliff parse errors:\n".concat(s.join("\n")));return{locale:r,i18nNodesByMsgId:a}}},{key:"digest",value:function(e){return vc(e)}}]),t}(Oc),Ud=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitText",value:function(e,t){return[new Uc(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,_toConsumableArray(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Uc("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Uc("".concat(t," {"))].concat(_toConsumableArray(e.cases[t].visit(n)),[new Uc("} ")]))})),r.push(new Uc("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-".concat(e)}}(e.tag);if(e.isVoid)return[new jc("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,"/>")})];var r=new jc("x",{id:e.startName,ctype:n,"equiv-text":"<".concat(e.tag,">")}),i=new jc("x",{id:e.closeName,ctype:n,"equiv-text":"</".concat(e.tag,">")});return[r].concat(_toConsumableArray(this.serialize(e.children)),[i])}},{key:"visitPlaceholder",value:function(e,t){return[new jc("x",{id:e.name,"equiv-text":"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n="{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),"}");return[new jc("x",{id:e.name,"equiv-text":n})]}},{key:"serialize",value:function(e){var t,n=this;return(t=[]).concat.apply(t,_toConsumableArray(e.map((function(e){return e.visit(n)}))))}}]),e}(),Hd=function(){function e(){_classCallCheck(this,e),this._locale=null}return _createClass(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new Vd).parse(e,t);return this._errors=n.errors,Kp(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"trans-unit":this._unitMlString=null;var n=e.attrs.find((function(e){return"id"===e.name}));if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(Kp(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("trans-unit",'> misses the "id" attribute'));break;case"source":case"seg-source":case"alt-trans":break;case"target":var i=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._unitMlString=i;break;case"file":var s=e.attrs.find((function(e){return"target-language"===e.name}));s&&(this._locale=s.value),Kp(this,e.children,null);break;default:Kp(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Bd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convert",value:function(e,t){var n,r=(new Vd).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,_toConsumableArray(Kp(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new oc(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){var n;if("x"===e.name){var r=e.attrs.find((function(e){return"id"===e.name}));return r?new hc("",r.value,e.sourceSpan):(this._addError(e,"<".concat("x",'> misses the "id" attribute')),null)}return"mrk"===e.name?(n=[]).concat.apply(n,_toConsumableArray(Kp(this,e.children))):(this._addError(e,"Unexpected tag"),null)}},{key:"visitExpansion",value:function(e,t){var n={};return Kp(this,e.cases).forEach((function(t){n[t.value]=new uc(t.nodes,e.sourceSpan)})),new lc(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:Kp(this,e.expression)}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),qd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"write",value:function(e,t){var n=new Wd,r=[];e.forEach((function(e){var t=new jc("unit",{id:e.id}),i=new jc("notes");(e.description||e.meaning)&&(e.description&&i.children.push(new Hc(8),new jc("note",{category:"description"},[new Uc(e.description)])),e.meaning&&i.children.push(new Hc(8),new jc("note",{category:"meaning"},[new Uc(e.meaning)]))),e.sources.forEach((function(e){i.children.push(new Hc(8),new jc("note",{category:"location"},[new Uc("".concat(e.filePath,":").concat(e.startLine).concat(e.endLine!==e.startLine?","+e.endLine:""))]))})),i.children.push(new Hc(6)),t.children.push(new Hc(6),i);var s=new jc("segment");s.children.push(new Hc(8),new jc("source",{},n.serialize(e.nodes)),new Hc(6)),t.children.push(new Hc(6),s,new Hc(4)),r.push(new Hc(4),t)}));var i=new jc("file",{original:"ng.template",id:"ngi18n"},[].concat(r,[new Hc(2)])),s=new jc("xliff",{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:t||"en"},[new Hc(2),i,new Hc]);return Lc([new Fc({version:"1.0",encoding:"UTF-8"}),new Hc,s,new Hc])}},{key:"load",value:function(e,t){var n=(new zd).parse(e,t),r=n.locale,i=n.msgIdToHtml,s=n.errors,a={},o=new Qd;if(Object.keys(i).forEach((function(e){var n=o.convert(i[e],t),r=n.i18nNodes,u=n.errors;s.push.apply(s,_toConsumableArray(u)),a[e]=r})),s.length)throw new Error("xliff2 parse errors:\n".concat(s.join("\n")));return{locale:r,i18nNodesByMsgId:a}}},{key:"digest",value:function(e){return dc(e)}}]),t}(Oc),Wd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"visitText",value:function(e,t){return[new Uc(e.value)]}},{key:"visitContainer",value:function(e,t){var n=this,r=[];return e.children.forEach((function(e){return r.push.apply(r,_toConsumableArray(e.visit(n)))})),r}},{key:"visitIcu",value:function(e,t){var n=this,r=[new Uc("{".concat(e.expressionPlaceholder,", ").concat(e.type,", "))];return Object.keys(e.cases).forEach((function(t){r.push.apply(r,[new Uc("".concat(t," {"))].concat(_toConsumableArray(e.cases[t].visit(n)),[new Uc("} ")]))})),r.push(new Uc("}")),r}},{key:"visitTagPlaceholder",value:function(e,t){var n,r=this,i=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid)return[new jc("ph",{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:i,disp:"<".concat(e.tag,"/>")})];var s=new jc("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:i,dispStart:"<".concat(e.tag,">"),dispEnd:"</".concat(e.tag,">")}),a=(n=[]).concat.apply(n,_toConsumableArray(e.children.map((function(e){return e.visit(r)}))));return a.length?a.forEach((function(e){return s.children.push(e)})):s.children.push(new Uc("")),[s]}},{key:"visitPlaceholder",value:function(e,t){var n=(this._nextPlaceholderId++).toString();return[new jc("ph",{id:n,equiv:e.name,disp:"{{".concat(e.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function(e,t){var n=Object.keys(e.value.cases).map((function(e){return e+" {...}"})).join(" "),r=(this._nextPlaceholderId++).toString();return[new jc("ph",{id:r,equiv:e.name,disp:"{".concat(e.value.expression,", ").concat(e.value.type,", ").concat(n,"}")})]}},{key:"serialize",value:function(e){var t,n=this;return this._nextPlaceholderId=0,(t=[]).concat.apply(t,_toConsumableArray(e.map((function(e){return e.visit(n)}))))}}]),e}(),zd=function(){function e(){_classCallCheck(this,e),this._locale=null}return _createClass(e,[{key:"parse",value:function(e,t){this._unitMlString=null,this._msgIdToHtml={};var n=(new Vd).parse(e,t);return this._errors=n.errors,Kp(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"unit":this._unitMlString=null;var n=e.attrs.find((function(e){return"id"===e.name}));if(n){var r=n.value;this._msgIdToHtml.hasOwnProperty(r)?this._addError(e,"Duplicated translations for msg ".concat(r)):(Kp(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[r]=this._unitMlString:this._addError(e,"Message ".concat(r," misses a translation")))}else this._addError(e,"<".concat("unit",'> misses the "id" attribute'));break;case"source":break;case"target":var i=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._unitMlString=i;break;case"xliff":var s=e.attrs.find((function(e){return"trgLang"===e.name}));s&&(this._locale=s.value);var a=e.attrs.find((function(e){return"version"===e.name}));if(a){var o=a.value;"2.0"!==o?this._addError(e,"The XLIFF file version ".concat(o," is not compatible with XLIFF 2.0 serializer")):Kp(this,e.children,null)}break;default:Kp(this,e.children,null)}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Qd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convert",value:function(e,t){var n,r=(new Vd).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=r.errors,{i18nNodes:this._errors.length>0||0==r.rootNodes.length?[]:(n=[]).concat.apply(n,_toConsumableArray(Kp(this,r.rootNodes))),errors:this._errors}}},{key:"visitText",value:function(e,t){return new oc(e.value,e.sourceSpan)}},{key:"visitElement",value:function(e,t){var n,r=this;switch(e.name){case"ph":var i=e.attrs.find((function(e){return"equiv"===e.name}));if(i)return[new hc("",i.value,e.sourceSpan)];this._addError(e,"<".concat("ph",'> misses the "equiv" attribute'));break;case"pc":var s=e.attrs.find((function(e){return"equivStart"===e.name})),a=e.attrs.find((function(e){return"equivEnd"===e.name}));if(s){if(a){var o,u=a.value;return(o=[]).concat.apply(o,[new hc("",s.value,e.sourceSpan)].concat(_toConsumableArray(e.children.map((function(e){return e.visit(r,null)}))),[new hc("",u,e.sourceSpan)]))}this._addError(e,"<".concat("ph",'> misses the "equivEnd" attribute'))}else this._addError(e,"<".concat("ph",'> misses the "equivStart" attribute'));break;case"mrk":return(n=[]).concat.apply(n,_toConsumableArray(Kp(this,e.children)));default:this._addError(e,"Unexpected tag")}return null}},{key:"visitExpansion",value:function(e,t){var n={};return Kp(this,e.cases).forEach((function(t){n[t.value]=new uc(t.nodes,e.sourceSpan)})),new lc(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){var n;return{value:e.value,nodes:(n=[]).concat.apply(n,_toConsumableArray(Kp(this,e.expression)))}}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Xd=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"write",value:function(e,t){throw new Error("Unsupported")}},{key:"load",value:function(e,t){var n=(new Kd).parse(e,t),r=n.locale,i=n.msgIdToHtml,s=n.errors,a={},o=new Yd;if(Object.keys(i).forEach((function(e){var n,r;n=a,r=e,Object.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){var s=function(){var n=o.convert(i[e],t),r=n.i18nNodes,s=n.errors;if(s.length)throw new Error("xtb parse errors:\n".concat(s.join("\n")));return r}();return Object.defineProperty(n,r,{enumerable:!0,value:s}),s},set:function(e){throw new Error("Could not overwrite an XTB translation")}})})),s.length)throw new Error("xtb parse errors:\n".concat(s.join("\n")));return{locale:r,i18nNodesByMsgId:a}}},{key:"digest",value:function(e){return Qc(e)}},{key:"createNameMapper",value:function(e){return new Rc(e,Kc)}}]),t}(Oc),Kd=function(){function e(){_classCallCheck(this,e),this._locale=null}return _createClass(e,[{key:"parse",value:function(e,t){this._bundleDepth=0,this._msgIdToHtml={};var n=(new Vd).parse(e,t);return this._errors=n.errors,Kp(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function(e,t){switch(e.name){case"translationbundle":this._bundleDepth++,this._bundleDepth>1&&this._addError(e,"<".concat("translationbundle","> elements can not be nested"));var n=e.attrs.find((function(e){return"lang"===e.name}));n&&(this._locale=n.value),Kp(this,e.children,null),this._bundleDepth--;break;case"translation":var r=e.attrs.find((function(e){return"id"===e.name}));if(r){var i=r.value;if(this._msgIdToHtml.hasOwnProperty(i))this._addError(e,"Duplicated translations for msg ".concat(i));else{var s=e.startSourceSpan.start.file.content.slice(e.startSourceSpan.end.offset,e.endSourceSpan.start.offset);this._msgIdToHtml[i]=s}}else this._addError(e,"<".concat("translation",'> misses the "id" attribute'));break;default:this._addError(e,"Unexpected tag")}}},{key:"visitAttribute",value:function(e,t){}},{key:"visitText",value:function(e,t){}},{key:"visitComment",value:function(e,t){}},{key:"visitExpansion",value:function(e,t){}},{key:"visitExpansionCase",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Yd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"convert",value:function(e,t){var n=(new Vd).parse(e,t,{tokenizeExpansionForms:!0});return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Kp(this,n.rootNodes),errors:this._errors}}},{key:"visitText",value:function(e,t){return new oc(e.value,e.sourceSpan)}},{key:"visitExpansion",value:function(e,t){var n={};return Kp(this,e.cases).forEach((function(t){n[t.value]=new uc(t.nodes,e.sourceSpan)})),new lc(e.switchValue,e.type,n,e.sourceSpan)}},{key:"visitExpansionCase",value:function(e,t){return{value:e.value,nodes:Kp(this,e.expression)}}},{key:"visitElement",value:function(e,t){if("ph"===e.name){var n=e.attrs.find((function(e){return"name"===e.name}));if(n)return new hc("",n.value,e.sourceSpan);this._addError(e,"<".concat("ph",'> misses the "name" attribute'))}else this._addError(e,"Unexpected tag");return null}},{key:"visitComment",value:function(e,t){}},{key:"visitAttribute",value:function(e,t){}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Gd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:io.Warning,a=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this._i18nNodesByMsgId=t,this.digest=r,this.mapperFactory=i,this._i18nToHtml=new Zd(t,n,r,i,s,a)}return _createClass(e,[{key:"get",value:function(e){var t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}},{key:"has",value:function(e){return this.digest(e)in this._i18nNodesByMsgId}}],[{key:"load",value:function(t,n,r,i,s){var a=r.load(t,n),o=a.locale;return new e(a.i18nNodesByMsgId,o,(function(e){return r.digest(e)}),(function(e){return r.createNameMapper(e)}),i,s)}}]),e}(),Zd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0;_classCallCheck(this,e),this._i18nNodesByMsgId=t,this._locale=n,this._digest=r,this._mapperFactory=i,this._missingTranslationStrategy=s,this._console=a,this._contextStack=[],this._errors=[]}return _createClass(e,[{key:"convert",value:function(e){this._contextStack.length=0,this._errors.length=0;var t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,r=(new gf).parse(t,n,{tokenizeExpansionForms:!0});return{nodes:r.rootNodes,errors:[].concat(_toConsumableArray(this._errors),_toConsumableArray(r.errors))}}},{key:"visitText",value:function(e,t){return qc(e.value)}},{key:"visitContainer",value:function(e,t){var n=this;return e.children.map((function(e){return e.visit(n)})).join("")}},{key:"visitIcu",value:function(e,t){var n=this,r=Object.keys(e.cases).map((function(t){return"".concat(t," {").concat(e.cases[t].visit(n),"}")}));return"{".concat(this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression,", ").concat(e.type,", ").concat(r.join(" "),"}")}},{key:"visitPlaceholder",value:function(e,t){var n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,'Unknown placeholder "'.concat(e.name,'"')),"")}},{key:"visitTagPlaceholder",value:function(e,t){var n=this,r="".concat(e.tag),i=Object.keys(e.attrs).map((function(t){return"".concat(t,'="').concat(e.attrs[t],'"')})).join(" ");return e.isVoid?"<".concat(r," ").concat(i,"/>"):"<".concat(r," ").concat(i,">").concat(e.children.map((function(e){return e.visit(n)})).join(""),"</").concat(r,">")}},{key:"visitIcuPlaceholder",value:function(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}},{key:"_convertToText",value:function(e){var t,n=this,r=this._digest(e),i=this._mapperFactory?this._mapperFactory(e):null;this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(r)?(t=this._i18nNodesByMsgId[r],this._mapper=function(e){return i?i.toInternalName(e):e}):(this._missingTranslationStrategy===io.Error?this._addError(e.nodes[0],'Missing translation for message "'.concat(r,'"').concat(this._locale?' for locale "'.concat(this._locale,'"'):"")):this._console&&this._missingTranslationStrategy===io.Warning&&this._console.warn('Missing translation for message "'.concat(r,'"').concat(this._locale?' for locale "'.concat(this._locale,'"'):"")),t=e.nodes,this._mapper=function(e){return e});var s=t.map((function(e){return e.visit(n)})).join(""),a=this._contextStack.pop();return this._srcMsg=a.msg,this._mapper=a.mapper,s}},{key:"_addError",value:function(e,t){this._errors.push(new Td(e.sourceSpan,t))}}]),e}(),Jd=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:io.Warning,s=arguments.length>4?arguments[4]:void 0;if(_classCallCheck(this,e),this._htmlParser=t,n){var a=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new Wc;case"xtb":return new Xd;case"xliff2":case"xlf2":return new qd;case"xliff":case"xlf":default:return new jd}}(r);this._translationBundle=Gd.load(n,"i18n",a,i,s)}else this._translationBundle=new Gd({},null,vc,void 0,i,s)}return _createClass(e,[{key:"parse",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.interpolationConfig||$c,i=this._htmlParser.parse(e,t,Object.assign({interpolationConfig:r},n));return i.errors.length?new vf(i.rootNodes,i.errors):function(e,t,n,r,i){return new Rd([],{}).merge(e,t,n)}(i.rootNodes,this._translationBundle,r)}}]),e}();function $d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return xu(t,new ey(e),n)}var ey=function(){function e(t){_classCallCheck(this,e),this.ctx=t}return _createClass(e,[{key:"visitArray",value:function(e,t){var n=this;return mu(e.map((function(e){return xu(e,n,null)})),t)}},{key:"visitStringMap",value:function(e,t){var n=this,r=[],i=new Set(e&&e.$quoted$);return Object.keys(e).forEach((function(t){r.push(new qo(t,xu(e[t],n,null),i.has(t)))})),new Wo(r,t)}},{key:"visitPrimitive",value:function(e,t){return ku(e,t)}},{key:"visitOther",value:function(e,t){return e instanceof ko?e:this.ctx.importExpr(e)}}]),e}();function ty(e){var t,n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];var n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return"".concat(n[0],".ngfactory").concat(".tsx"===(t=n[1])?".ts":t)}var ny=function(e){return e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked",e}({}),ry=[ny.OnInit,ny.OnDestroy,ny.DoCheck,ny.OnChanges,ny.AfterContentInit,ny.AfterContentChecked,ny.AfterViewInit,ny.AfterViewChecked],iy=function(){function e(t,n,r,i,s,a,o,u,l,c,h,p){_classCallCheck(this,e),this._config=t,this._htmlParser=n,this._ngModuleResolver=r,this._directiveResolver=i,this._pipeResolver=s,this._summaryResolver=a,this._schemaRegistry=o,this._directiveNormalizer=u,this._console=l,this._staticSymbolCache=c,this._reflector=h,this._errorCollector=p,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}return _createClass(e,[{key:"getReflector",value:function(){return this._reflector}},{key:"clearCacheFor",value:function(e){var t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}},{key:"clearCache",value:function(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}},{key:"_createProxyClass",value:function(e,t){var n=null,r=function(){if(!n)throw new Error("Illegal state: Class ".concat(t," for type ").concat(Vu(e)," is not compiled yet!"));return n.apply(this,arguments)};return r.setDelegate=function(e){n=e,r.prototype=e.prototype},r.overriddenName=t,r}},{key:"getGeneratedClass",value:function(e,t){return e instanceof Ju?this._staticSymbolCache.get(ty(e.filePath),t):this._createProxyClass(e,t)}},{key:"getComponentViewClass",value:function(e){return this.getGeneratedClass(e,il(e,0))}},{key:"getHostComponentViewClass",value:function(e){return this.getGeneratedClass(e,"HostView_".concat(nl({reference:e})))}},{key:"getHostComponentType",value:function(e){var t="".concat(nl({reference:e}),"_Host");return e instanceof Ju?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}},{key:"getRendererType",value:function(e){return e instanceof Ju?this._staticSymbolCache.get(ty(e.filePath),sl(e)):{}}},{key:"getComponentFactory",value:function(e,t,n,r){if(t instanceof Ju)return this._staticSymbolCache.get(ty(t.filePath),"".concat(nl({reference:t}),"NgFactory"));var i=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference(Yu.createComponentFactory)(e,t,i,n,r,[])}},{key:"initComponentFactory",value:function(e,t){var n;e instanceof Ju||(n=e.ngContentSelectors).push.apply(n,_toConsumableArray(t))}},{key:"_loadSummary",value:function(e,t){var n=this._summaryCache.get(e);if(!n){var r=this._summaryResolver.resolveSummary(e);this._summaryCache.set(e,(n=r?r.type:null)||null)}return n&&n.summaryKind===t?n:null}},{key:"getHostComponentMetadata",value:function(e,t){var n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));var r=Aa.parse(e.selector)[0].getMatchingElementTemplate(),i=this._htmlParser.parse(r,"");return hl.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new cl({encapsulation:Ua.None,template:r,templateUrl:"",htmlAst:i,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:Ha.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:Ua.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}},{key:"loadDirectiveMetadata",value:function(e,t,n){var r=this;if(this._directiveCache.has(t))return null;t=ju(t);var i,s,a=this.getNonNormalizedDirectiveMetadata(t),o=a.annotation,u=a.metadata,l=function(e){var n=new hl({isHost:!1,type:u.type,isComponent:u.isComponent,selector:u.selector,exportAs:u.exportAs,changeDetection:u.changeDetection,inputs:u.inputs,outputs:u.outputs,hostListeners:u.hostListeners,hostProperties:u.hostProperties,hostAttributes:u.hostAttributes,providers:u.providers,viewProviders:u.viewProviders,queries:u.queries,guards:u.guards,viewQueries:u.viewQueries,entryComponents:u.entryComponents,componentViewType:u.componentViewType,rendererType:u.rendererType,componentFactory:u.componentFactory,template:e});return e&&r.initComponentFactory(u.componentFactory,e.ngContentSelectors),r._directiveCache.set(t,n),r._summaryCache.set(t,n.toSummary()),null};if(u.isComponent){var c=u.template,h=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,o),encapsulation:c.encapsulation,template:c.template,templateUrl:c.templateUrl,styles:c.styles,styleUrls:c.styleUrls,animations:c.animations,interpolation:c.interpolation,preserveWhitespaces:c.preserveWhitespaces});return Uu(h)&&n?(this._reportError((i=t,(s=Error("Can't compile synchronously as ".concat(Vu(i)," is still being loaded!"))).ngComponentType=i,s),t),null):Pu(h,l)}return l(null),null}},{key:"getNonNormalizedDirectiveMetadata",value:function(e){var t=this;if(!(e=ju(e)))return null;var n=this._nonNormalizedDirectiveCache.get(e);if(n)return n;var r=this._directiveResolver.resolve(e,!1);if(!r)return null;var i=void 0;if(Ba.isTypeOf(r)){var s=r;Yc("styles",s.styles),Yc("styleUrls",s.styleUrls),Zc("interpolation",s.interpolation);var a=s.animations;i=new cl({encapsulation:Su(s.encapsulation),template:Su(s.template),templateUrl:Su(s.templateUrl),htmlAst:null,styles:s.styles||[],styleUrls:s.styleUrls||[],animations:a||[],interpolation:Su(s.interpolation),isInline:!!s.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:Su(r.preserveWhitespaces)})}var o=null,u=[],l=[],c=r.selector;if(Ba.isTypeOf(r)){var h=r;o=h.changeDetection,h.viewProviders&&(u=this._getProvidersMetadata(h.viewProviders,l,'viewProviders for "'.concat(uy(e),'"'),[],e)),h.entryComponents&&(l=sy(h.entryComponents).map((function(e){return t._getEntryComponentMetadata(e)})).concat(l)),c||(c=this._schemaRegistry.getDefaultComponentElementName())}else c||(this._reportError(Mu("Directive ".concat(uy(e)," has no selector, please add it!")),e),c="error");var p=[];null!=r.providers&&(p=this._getProvidersMetadata(r.providers,l,'providers for "'.concat(uy(e),'"'),[],e));var f=[],v=[];null!=r.queries&&(f=this._getQueriesMetadata(r.queries,!1,e),v=this._getQueriesMetadata(r.queries,!0,e));var d=hl.create({isHost:!1,selector:c,exportAs:Su(r.exportAs),isComponent:!!i,type:this._getTypeMetadata(e),template:i,changeDetection:o,inputs:r.inputs||[],outputs:r.outputs||[],host:r.host||{},providers:p||[],viewProviders:u||[],queries:f||[],guards:r.guards||{},viewQueries:v||[],entryComponents:l,componentViewType:i?this.getComponentViewClass(e):null,rendererType:i?this.getRendererType(e):null,componentFactory:null});return i&&(d.componentFactory=this.getComponentFactory(c,e,d.inputs,d.outputs)),this._nonNormalizedDirectiveCache.set(e,n={metadata:d,annotation:r}),n}},{key:"getDirectiveMetadata",value:function(e){var t=this._directiveCache.get(e);return t||this._reportError(Mu("Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ".concat(uy(e),".")),e),t}},{key:"getDirectiveSummary",value:function(e){var t=this._loadSummary(e,al.Directive);return t||this._reportError(Mu("Illegal state: Could not load the summary for directive ".concat(uy(e),".")),e),t}},{key:"isDirective",value:function(e){return!!this._loadSummary(e,al.Directive)||this._directiveResolver.isDirective(e)}},{key:"isPipe",value:function(e){return!!this._loadSummary(e,al.Pipe)||this._pipeResolver.isPipe(e)}},{key:"isNgModule",value:function(e){return!!this._loadSummary(e,al.NgModule)||this._ngModuleResolver.isNgModule(e)}},{key:"getNgModuleSummary",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,al.NgModule);if(!n){var r=this.getNgModuleMetadata(e,!1,t);(n=r?r.toSummary():null)&&this._summaryCache.set(e,n)}return n}},{key:"loadNgModuleDirectiveAndPipeMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.getNgModuleMetadata(e,r),s=[];return i&&(i.declaredDirectives.forEach((function(r){var i=n.loadDirectiveMetadata(e,r.reference,t);i&&s.push(i)})),i.declaredPipes.forEach((function(e){return n._loadPipeMetadata(e.reference)}))),Promise.all(s)}},{key:"getShallowModuleMetadata",value:function(e){var t=this._shallowModuleCache.get(e);if(t)return t;var n=Sd(this._reflector.shallowAnnotations(e),Ka.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}},{key:"getNgModuleMetadata",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=ju(e);var i=this._ngModuleCache.get(e);if(i)return i;var s=this._ngModuleResolver.resolve(e,n);if(!s)return null;var a=[],o=[],u=[],l=[],c=[],h=[],p=[],f=[],v=[];s.imports&&sy(s.imports).forEach((function(n){var i=void 0;if(ay(n))i=n;else if(n&&n.ngModule){var s=n;i=s.ngModule,s.providers&&h.push.apply(h,_toConsumableArray(t._getProvidersMetadata(s.providers,p,"provider for the NgModule '".concat(uy(i),"'"),[],n)))}if(i){if(t._checkSelfImport(e,i))return;if(r||(r=new Set),r.has(i))return void t._reportError(Mu("".concat(t._getTypeDescriptor(i)," '").concat(uy(n),"' is imported recursively by the module '").concat(uy(e),"'.")),e);r.add(i);var a=t.getNgModuleSummary(i,r);if(r.delete(i),!a)return void t._reportError(Mu("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(uy(n),"' imported by the module '").concat(uy(e),"'. Please add a @NgModule annotation.")),e);l.push(a)}else t._reportError(Mu("Unexpected value '".concat(uy(n),"' imported by the module '").concat(uy(e),"'")),e)})),s.exports&&sy(s.exports).forEach((function(n){if(ay(n))if(r||(r=new Set),r.has(n))t._reportError(Mu("".concat(t._getTypeDescriptor(n)," '").concat(Vu(n),"' is exported recursively by the module '").concat(uy(e),"'")),e);else{r.add(n);var i=t.getNgModuleSummary(n,r);r.delete(n),i?c.push(i):o.push(t._getIdentifierMetadata(n))}else t._reportError(Mu("Unexpected value '".concat(uy(n),"' exported by the module '").concat(uy(e),"'")),e)}));var d=this._getTransitiveNgModuleMetadata(l,c);s.declarations&&sy(s.declarations).forEach((function(n){if(ay(n)){var r=t._getIdentifierMetadata(n);if(t.isDirective(n))d.addDirective(r),a.push(r),t._addTypeToModule(n,e);else{if(!t.isPipe(n))return void t._reportError(Mu("Unexpected ".concat(t._getTypeDescriptor(n)," '").concat(uy(n),"' declared by the module '").concat(uy(e),"'. Please add a @Pipe/@Directive/@Component annotation.")),e);d.addPipe(r),d.pipes.push(r),u.push(r),t._addTypeToModule(n,e)}}else t._reportError(Mu("Unexpected value '".concat(uy(n),"' declared by the module '").concat(uy(e),"'")),e)}));var y=[],m=[];return o.forEach((function(n){if(d.directivesSet.has(n.reference))y.push(n),d.addExportedDirective(n);else{if(!d.pipesSet.has(n.reference))return void t._reportError(Mu("Can't export ".concat(t._getTypeDescriptor(n.reference)," ").concat(uy(n.reference)," from ").concat(uy(e)," as it was neither declared nor imported!")),e);m.push(n),d.addExportedPipe(n)}})),s.providers&&h.push.apply(h,_toConsumableArray(this._getProvidersMetadata(s.providers,p,"provider for the NgModule '".concat(uy(e),"'"),[],e))),s.entryComponents&&p.push.apply(p,_toConsumableArray(sy(s.entryComponents).map((function(e){return t._getEntryComponentMetadata(e)})))),s.bootstrap&&sy(s.bootstrap).forEach((function(n){ay(n)?f.push(t._getIdentifierMetadata(n)):t._reportError(Mu("Unexpected value '".concat(uy(n),"' used in the bootstrap property of module '").concat(uy(e),"'")),e)})),p.push.apply(p,_toConsumableArray(f.map((function(e){return t._getEntryComponentMetadata(e.reference)})))),s.schemas&&v.push.apply(v,_toConsumableArray(sy(s.schemas))),i=new fl({type:this._getTypeMetadata(e),providers:h,entryComponents:p,bootstrapComponents:f,schemas:v,declaredDirectives:a,exportedDirectives:y,declaredPipes:u,exportedPipes:m,importedModules:l,exportedModules:c,transitiveModule:d,id:s.id||null}),p.forEach((function(e){return d.addEntryComponent(e)})),h.forEach((function(e){return d.addProvider(e,i.type)})),d.addModule(i.type),this._ngModuleCache.set(e,i),i}},{key:"_checkSelfImport",value:function(e,t){return e===t&&(this._reportError(Mu("'".concat(uy(e),"' module can't import itself")),e),!0)}},{key:"_getTypeDescriptor",value:function(e){if(ay(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}},{key:"_addTypeToModule",value:function(e,t){var n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(Mu("Type ".concat(uy(e)," is part of the declarations of 2 modules: ").concat(uy(n)," and ").concat(uy(t),"! ")+"Please consider moving ".concat(uy(e)," to a higher module that imports ").concat(uy(n)," and ").concat(uy(t),". ")+"You can also create a new NgModule that exports and includes ".concat(uy(e)," then import that NgModule in ").concat(uy(n)," and ").concat(uy(t),".")),t):this._ngModuleOfTypes.set(e,t)}},{key:"_getTransitiveNgModuleMetadata",value:function(e,t){var n=new vl,r=new Map;return e.concat(t).forEach((function(e){e.modules.forEach((function(e){return n.addModule(e)})),e.entryComponents.forEach((function(e){return n.addEntryComponent(e)}));var t=new Set;e.providers.forEach((function(e){var i=ul(e.provider.token),s=r.get(i);s||(s=new Set,r.set(i,s));var a=e.module.reference;!t.has(i)&&s.has(a)||(s.add(a),t.add(i),n.addProvider(e.provider,e.module))}))})),t.forEach((function(e){e.exportedDirectives.forEach((function(e){return n.addExportedDirective(e)})),e.exportedPipes.forEach((function(e){return n.addExportedPipe(e)}))})),e.forEach((function(e){e.exportedDirectives.forEach((function(e){return n.addDirective(e)})),e.exportedPipes.forEach((function(e){return n.addPipe(e)}))})),n}},{key:"_getIdentifierMetadata",value:function(e){return{reference:e=ju(e)}}},{key:"isInjectable",value:function(e){return this._reflector.tryAnnotations(e).some((function(e){return Ya.isTypeOf(e)}))}},{key:"getInjectableSummary",value:function(e){return{summaryKind:al.Injectable,type:this._getTypeMetadata(e,null,!1)}}},{key:"getInjectableMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._loadSummary(e,al.Injectable),i=r?r.type:this._getTypeMetadata(e,t,n),s=this._reflector.annotations(e).filter((function(e){return Ya.isTypeOf(e)}));if(0===s.length)return null;var a=s[s.length-1];return{symbol:e,type:i,providedIn:a.providedIn,useValue:a.useValue,useClass:a.useClass,useExisting:a.useExisting,useFactory:a.useFactory,deps:a.deps}}},{key:"_getTypeMetadata",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this._getIdentifierMetadata(e);return{reference:s.reference,diDeps:this._getDependenciesMetadata(s.reference,r,i),lifecycleHooks:(t=this._reflector,n=s.reference,ry.filter((function(e){return function(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case ny.OnInit:return"ngOnInit";case ny.OnDestroy:return"ngOnDestroy";case ny.DoCheck:return"ngDoCheck";case ny.OnChanges:return"ngOnChanges";case ny.AfterContentInit:return"ngAfterContentInit";case ny.AfterContentChecked:return"ngAfterContentChecked";case ny.AfterViewInit:return"ngAfterViewInit";case ny.AfterViewChecked:return"ngAfterViewChecked";default:throw new Error("unexpected ".concat(e))}}(t))}(t,e,n)})))}}},{key:"_getFactoryMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{reference:e=ju(e),diDeps:this._getDependenciesMetadata(e,t)}}},{key:"getPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||this._reportError(Mu("Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ".concat(uy(e),".")),e),t||null}},{key:"getPipeSummary",value:function(e){var t=this._loadSummary(e,al.Pipe);return t||this._reportError(Mu("Illegal state: Could not load the summary for pipe ".concat(uy(e),".")),e),t}},{key:"getOrLoadPipeMetadata",value:function(e){var t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}},{key:"_loadPipeMetadata",value:function(e){e=ju(e);var t=this._pipeResolver.resolve(e),n=new pl({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}},{key:"_getDependenciesMetadata",value:function(e,t){var n=this,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1,s=(t||this._reflector.parameters(e)||[]).map((function(e){var t=!1,r=!1,s=!1,a=!1,o=!1,u=null;return Array.isArray(e)?e.forEach((function(e){to.isTypeOf(e)?r=!0:$a.isTypeOf(e)?s=!0:eo.isTypeOf(e)?a=!0:Ja.isTypeOf(e)?o=!0:Ra.isTypeOf(e)?(t=!0,u=e.attributeName):Ma.isTypeOf(e)?u=e.token:Oa.isTypeOf(e)||e instanceof Ju?u=e:ay(e)&&null==u&&(u=e)})):u=e,null==u?(i=!0,{}):{isAttribute:t,isHost:r,isSelf:s,isSkipSelf:a,isOptional:o,token:n._getTokenMetadata(u)}}));if(i){var a=s.map((function(e){return e.token?uy(e.token):"?"})).join(", "),o="Can't resolve all parameters for ".concat(uy(e),": (").concat(a,").");r||this._config.strictInjectionParameters?this._reportError(Mu(o),e):this._console.warn("Warning: ".concat(o," This will become an error in Angular v6.x"))}return s}},{key:"_getTokenMetadata",value:function(e){return"string"==typeof(e=ju(e))?{value:e}:{identifier:{reference:e}}}},{key:"_getProvidersMetadata",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4?arguments[4]:void 0;return e.forEach((function(a,o){if(Array.isArray(a))r._getProvidersMetadata(a,t,n,i);else{var u=void 0;if((a=ju(a))&&"object"==typeof a&&a.hasOwnProperty("provide"))r._validateProvider(a),u=new yl(a.provide,a);else{if(!ay(a)){if(void 0===a)return void r._reportError(Mu("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));var l=e.reduce((function(e,t,n){return n<o?e.push("".concat(uy(t))):n==o?e.push("?".concat(uy(t),"?")):n==o+1&&e.push("..."),e}),[]).join(", ");return void r._reportError(Mu("Invalid ".concat(n||"provider"," - only instances of Provider and Type are allowed, got: [").concat(l,"]")),s)}u=new yl(a,{useClass:a})}u.token===r._reflector.resolveExternalReference(Yu.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push.apply(t,_toConsumableArray(r._getEntryComponentsFromProvider(u,s))):i.push(r.getProviderMetadata(u))}})),i}},{key:"_validateProvider",value:function(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(Mu("Invalid provider for ".concat(uy(e.provide),". useClass cannot be ").concat(e.useClass,".\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.")))}},{key:"_getEntryComponentsFromProvider",value:function(e,t){var n,r=this,i=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(Mu("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(n=s,xu(e.useValue,new oy,n),s.forEach((function(e){var t=r._getEntryComponentMetadata(e.reference,!1);t&&i.push(t)})),i):(this._reportError(Mu("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[])}},{key:"_getEntryComponentMetadata",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};var r=this._loadSummary(e,al.Directive);if(r&&r.isComponent)return{componentType:e,componentFactory:r.componentFactory};if(t)throw Mu("".concat(e.name," cannot be used as an entry component."));return null}},{key:"_getInjectableTypeMetadata",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._loadSummary(e,al.Injectable);return n?n.type:this._getTypeMetadata(e,t)}},{key:"getProviderMetadata",value:function(e){var t=void 0,n=null,r=null,i=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(i={identifier:n})):e.useFactory&&(t=(r=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:i,useClass:n,useValue:e.useValue,useFactory:r,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}},{key:"_getQueriesMetadata",value:function(e,t,n){var r=this,i=[];return Object.keys(e).forEach((function(s){var a=e[s];a.isViewQuery===t&&i.push(r._getQueryMetadata(a,s,n))})),i}},{key:"_queryVarBindings",value:function(e){return e.split(/\s*,\s*/)}},{key:"_getQueryMetadata",value:function(e,t,n){var r,i=this;return"string"==typeof e.selector?r=this._queryVarBindings(e.selector).map((function(e){return i._getTokenMetadata(e)})):e.selector?r=[this._getTokenMetadata(e.selector)]:(this._reportError(Mu("Can't construct a query for the property \"".concat(t,'" of "').concat(uy(n),"\" since the query selector wasn't defined.")),n),r=[]),{selectors:r,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null,static:e.static}}},{key:"_reportError",value:function(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}]),e}();function sy(e){return(t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t)for(var r=0;r<t.length;r++){var i=ju(t[r]);Array.isArray(i)?e(i,n):n.push(i)}return n}(e))?Array.from(new Set(t)):[];var t}function ay(e){return e instanceof Ju||e instanceof no}var oy=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"visitOther",value:function(e,t){t.push({reference:e})}}]),t}(Tu);function uy(e){return e instanceof Ju?"".concat(e.name," in ").concat(e.filePath):Vu(e)}function ly(e,t){var n=0;t.eager||(n|=4096),t.providerType===qf.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach((function(e){e!==ny.OnDestroy&&t.providerType!==qf.Directive&&t.providerType!==qf.Component||(n|=fy(e))}));var r=t.multiProvider?function(e,t,n){var r=[],i=[],s=n.map((function(t,n){var r;if(t.useClass){var i=a(n,t.deps||t.useClass.diDeps);r=e.importExpr(t.useClass.reference).instantiate(i)}else if(t.useFactory){var s=a(n,t.deps||t.useFactory.diDeps);r=e.importExpr(t.useFactory.reference).callFn(s)}else r=t.useExisting?a(n,[{token:t.useExisting}])[0]:$d(e,t.useValue);return r}));return{providerExpr:_u(i,[new $o(mu(s))],vo),flags:1024|t,depsExpr:mu(r)};function a(t,n){return n.map((function(n,s){var a="p".concat(t,"_").concat(s);return i.push(new Fo(a,fo)),r.push(py(e,n)),fu(a)}))}}(e,n,t.providers):cy(e,n,t.providerType,t.providers[0]);return{providerExpr:r.providerExpr,flags:r.flags,depsExpr:r.depsExpr,tokenExpr:hy(e,t.token)}}function cy(e,t,n,r){var i,s;return n===qf.Directive||n===qf.Component?(i=e.importExpr(r.useClass.reference),t|=16384,s=r.deps||r.useClass.diDeps):r.useClass?(i=e.importExpr(r.useClass.reference),t|=512,s=r.deps||r.useClass.diDeps):r.useFactory?(i=e.importExpr(r.useFactory.reference),t|=1024,s=r.deps||r.useFactory.diDeps):r.useExisting?(i=Qo,t|=2048,s=[{token:r.useExisting}]):(i=$d(e,r.useValue),t|=256,s=[]),{providerExpr:i,flags:t,depsExpr:mu(s.map((function(t){return py(e,t)})))}}function hy(e,t){return t.identifier?e.importExpr(t.identifier.reference):ku(t.value)}function py(e,t){var n=t.isValue?$d(e,t.value):hy(e,t.token),r=0;return t.isSkipSelf&&(r|=1),t.isOptional&&(r|=2),t.isSelf&&(r|=4),t.isValue&&(r|=8),0===r?n:mu([ku(r),n])}function fy(e){var t=0;switch(e){case ny.AfterContentChecked:t=2097152;break;case ny.AfterContentInit:t=1048576;break;case ny.AfterViewChecked:t=8388608;break;case ny.AfterViewInit:t=4194304;break;case ny.DoCheck:t=262144;break;case ny.OnChanges:t=524288;break;case ny.OnDestroy:t=131072;break;case ny.OnInit:t=65536}return t}function vy(e,t,n,r){var i=r.map((function(e){return t.importExpr(e.componentFactory)})),s=Zu(e,Yu.ComponentFactoryResolver),a={diDeps:[{isValue:!0,value:mu(i)},{token:s,isSkipSelf:!0,isOptional:!0},{token:Zu(e,Yu.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference(Yu.CodegenComponentFactoryResolver)},o=cy(t,n,qf.PrivateService,{token:s,multi:!1,useClass:a});return{providerExpr:o.providerExpr,flags:o.flags,depsExpr:o.depsExpr,tokenExpr:hy(t,s)}}var dy=function e(t){_classCallCheck(this,e),this.ngModuleFactoryVar=t},yy=fu("_l"),my=function(){function e(t){_classCallCheck(this,e),this.reflector=t}return _createClass(e,[{key:"compile",value:function(e,t,n){var r,i,s,a,o=(r=t.type,i=rl(r),s=null!=i?"in NgModule ".concat(nl(r)," in ").concat(i):"in NgModule ".concat(nl(r)),a=new nc("",s),new rc(new tc(a,-1,-1,-1),new tc(a,-1,-1,-1))),u=t.transitiveModule.entryComponents,l=t.bootstrapComponents,c=new Yf(this.reflector,t,n,o),h=[vy(this.reflector,e,0,u)].concat(c.parse().map((function(t){return ly(e,t)}))).map((function(e){var t=e.providerExpr,n=e.depsExpr,r=e.flags,i=e.tokenExpr;return vu(Yu.moduleProviderDef).callFn([ku(r),i,t,n])})),p=vu(Yu.moduleDef).callFn([mu(h)]),f=_u([new Fo(yy.name)],[new $o(p)],vo),v="".concat(nl(t.type),"NgFactory");if(this._createNgModuleFactory(e,t.type.reference,vu(Yu.createModuleFactory).callFn([e.importExpr(t.type.reference),mu(l.map((function(t){return e.importExpr(t.reference)}))),f])),t.id){var d="string"==typeof t.id?ku(t.id):e.importExpr(t.id),y=vu(Yu.RegisterModuleFactoryFn).callFn([d,fu(v)]).toStmt();e.statements.push(y)}return new dy(v)}},{key:"createStub",value:function(e,t){this._createNgModuleFactory(e,t,Qo)}},{key:"_createNgModuleFactory",value:function(e,t,n){var r=fu("".concat(nl({reference:t}),"NgFactory")).set(n).toDeclStmt(du(Yu.NgModuleFactory,[yu(e.importExpr(t))],[ao.Const]),[Ko.Final,Ko.Exported]);e.statements.push(r)}}]),e}(),gy=function(){function e(t){_classCallCheck(this,e),this._reflector=t}return _createClass(e,[{key:"isNgModule",value:function(e){return this._reflector.annotations(e).some(Ka.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Sd(this._reflector.annotations(e),Ka.isTypeOf);if(n)return n;if(t)throw new Error("No NgModule metadata found for '".concat(Vu(e),"'."));return null}}]),e}(),_y=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,!1))).referenceFilter=e,r.importFilter=n,r.typeExpression=0,r.importsWithPrefixes=new Map,r.reexports=new Map,r}return _inherits(t,e),_createClass(t,[{key:"visitType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any";e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}},{key:"visitLiteralExpr",value:function(e,n){var r=e.value;return null==r&&e.type!=vo?(n.print(e,"(".concat(r," as any)")),null):_get(_getPrototypeOf(t.prototype),"visitLiteralExpr",this).call(this,e,n)}},{key:"visitLiteralArrayExpr",value:function(e,n){0===e.entries.length&&n.print(e,"(");var r=_get(_getPrototypeOf(t.prototype),"visitLiteralArrayExpr",this).call(this,e,n);return 0===e.entries.length&&n.print(e," as any[])"),r}},{key:"visitExternalExpr",value:function(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}},{key:"visitAssertNotNullExpr",value:function(e,n){var r=_get(_getPrototypeOf(t.prototype),"visitAssertNotNullExpr",this).call(this,e,n);return n.print(e,"!"),r}},{key:"visitDeclareVarStmt",value:function(e,t){if(e.hasModifier(Ko.Exported)&&e.value instanceof Mo&&!e.type){var n=e.value.value,r=n.name,i=n.moduleName;if(i){var s=this.reexports.get(i);return s||this.reexports.set(i,s=[]),s.push({name:r,as:e.name}),null}}return e.hasModifier(Ko.Exported)&&t.print(e,"export "),e.hasModifier(Ko.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e," ".concat(e.name)),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}},{key:"visitCastExpr",value:function(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}},{key:"visitInstantiateExpr",value:function(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}},{key:"visitDeclareClassStmt",value:function(e,t){var n=this;return t.pushClass(e),e.hasModifier(Ko.Exported)&&t.print(e,"export "),t.print(e,"class ".concat(e.name)),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach((function(e){return n._visitClassField(e,t)})),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach((function(e){return n._visitClassGetter(e,t)})),e.methods.forEach((function(e){return n._visitClassMethod(e,t)})),t.decIndent(),t.println(e,"}"),t.popClass(),null}},{key:"_visitClassField",value:function(e,t){e.hasModifier(Ko.Private)&&t.print(null,"/*private*/ "),e.hasModifier(Ko.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}},{key:"_visitClassGetter",value:function(e,t){e.hasModifier(Ko.Private)&&t.print(null,"private "),t.print(null,"get ".concat(e.name,"()")),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"_visitClassConstructor",value:function(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}},{key:"_visitClassMethod",value:function(e,t){e.hasModifier(Ko.Private)&&t.print(null,"private "),t.print(null,"".concat(e.name,"(")),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}},{key:"visitFunctionExpr",value:function(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}},{key:"visitDeclareFunctionStmt",value:function(e,t){return e.hasModifier(Ko.Exported)&&t.print(e,"export "),t.print(e,"function ".concat(e.name,"(")),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitTryCatchStmt",value:function(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,"} catch (".concat(oh.name,") {")),t.incIndent();var n=[uh.set(oh.prop("stack",null)).toDeclStmt(null,[Ko.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}},{key:"visitBuiltinType",value:function(e,t){var n;switch(e.name){case uo.Bool:n="boolean";break;case uo.Dynamic:n="any";break;case uo.Function:n="Function";break;case uo.Number:case uo.Int:n="number";break;case uo.String:n="string";break;case uo.None:n="never";break;default:throw new Error("Unsupported builtin type ".concat(e.name))}return t.print(null,n),null}},{key:"visitExpressionType",value:function(e,t){var n=this;return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects((function(e){return n.visitType(e,t)}),e.typeParams,t,","),t.print(null,">")),null}},{key:"visitArrayType",value:function(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}},{key:"visitMapType",value:function(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}},{key:"getBuiltinMethodName",value:function(e){var t;switch(e){case To.ConcatArray:t="concat";break;case To.SubscribeObservable:t="subscribe";break;case To.Bind:t="bind";break;default:throw new Error("Unknown builtin method: ".concat(e))}return t}},{key:"_visitParams",value:function(e,t){var n=this;this.visitAllObjects((function(e){t.print(null,e.name),n._printColonType(e.type,t)}),e,t,",")}},{key:"_visitIdentifier",value:function(e,t,n){var r=this,i=e.name,s=e.moduleName;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(s&&(!this.importFilter||!this.importFilter(e))){var a=this.importsWithPrefixes.get(s);null==a&&this.importsWithPrefixes.set(s,a="i".concat(this.importsWithPrefixes.size)),n.print(null,"".concat(a,"."))}n.print(null,i),this.typeExpression>0&&(t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects((function(e){return e.visitType(r,n)}),t,n,","),n.print(null,">"))}}},{key:"_printColonType",value:function(e,t,n){e!==vo&&(t.print(null,":"),this.visitType(e,t,n))}}]),t}(hh),ky=function(){function e(t){_classCallCheck(this,e),this._reflector=t}return _createClass(e,[{key:"isPipe",value:function(e){var t=this._reflector.annotations(ju(e));return t&&t.some(qa.isTypeOf)}},{key:"resolve",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._reflector.annotations(ju(e));if(n){var r=Sd(n,qa.isTypeOf);if(r)return r}if(t)throw new Error("No Pipe decorator found on ".concat(Vu(e)));return null}}]),e}(),Cy="class",Ey="style",wy=function e(t,n){_classCallCheck(this,e),this.viewClassVar=t,this.rendererTypeVar=n},xy=function(){function e(t){_classCallCheck(this,e),this._reflector=t}return _createClass(e,[{key:"compileComponent",value:function(e,t,n,r,i){var s,a=this,o=0,u=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return t.forEach((function(t){var r=new Set,i=new Set,s=void 0;t instanceof Vf?(e(t.children,n),t.children.forEach((function(e){var t=n.get(e);t.staticQueryIds.forEach((function(e){return r.add(e)})),t.dynamicQueryIds.forEach((function(e){return i.add(e)}))})),s=t.queryMatches):t instanceof jf&&(e(t.children,n),t.children.forEach((function(e){var t=n.get(e);t.staticQueryIds.forEach((function(e){return i.add(e)})),t.dynamicQueryIds.forEach((function(e){return i.add(e)}))})),s=t.queryMatches),s&&s.forEach((function(e){return r.add(e.queryId)})),i.forEach((function(e){return r.delete(e)})),n.set(t,{staticQueryIds:r,dynamicQueryIds:i})})),n}(n),l=void 0;if(!t.isHost){var c=t.template,h=[];c.animations&&c.animations.length&&h.push(new qo("animation",$d(e,c.animations),!0));var p=fu(sl(t.type.reference));l=p.name,e.statements.push(p.set(vu(Yu.createRendererType2).callFn([new Wo([new qo("encapsulation",ku(c.encapsulation),!1),new qo("styles",r,!1),new qo("data",new Wo(h),!1)])])).toDeclStmt(du(Yu.RendererType2),[Ko.Final,Ko.Exported]))}var f=function n(r){var s=o++;return new Iy(a._reflector,e,r,t,s,i,u,n)}(null);return f.visitAll([],n),(s=e.statements).push.apply(s,_toConsumableArray(f.build())),new wy(f.viewName,l)}}]),e}(),by=fu("_l"),Sy=fu("_v"),Ty=fu("_ck"),Ay=fu("_co"),Py=fu("en"),Ny=fu("ad"),Iy=function(){function e(t,n,r,i,s,a,o,u){_classCallCheck(this,e),this.reflector=t,this.outputCtx=n,this.parent=r,this.component=i,this.embeddedViewIndex=s,this.usedPipes=a,this.staticQueryIds=o,this.viewBuilderFactory=u,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?fo:yu(n.importExpr(this.component.type.reference)),this.viewName=il(this.component.type.reference,this.embeddedViewIndex)}return _createClass(e,[{key:"visitAll",value:function(e,t){var n,r,i,s=this;if(this.variables=e,this.parent||this.usedPipes.forEach((function(e){e.pure&&(s.purePipeNodeIndices[e.name]=s._createPipe(null,e))})),!this.parent){var a=(n=this.staticQueryIds,r=new Set,i=new Set,Array.from(n.values()).forEach((function(e){e.staticQueryIds.forEach((function(e){return r.add(e)})),e.dynamicQueryIds.forEach((function(e){return i.add(e)}))})),i.forEach((function(e){return r.delete(e)})),{staticQueryIds:r,dynamicQueryIds:i});this.component.viewQueries.forEach((function(e,t){var n=t+1,r=e.first?0:1,i=134217728|Dy(a,n,e);s.nodes.push((function(){return{sourceSpan:null,nodeFlags:i,nodeDef:vu(Yu.queryDef).callFn([ku(i),ku(n),new Wo([new qo(e.propertyName,ku(r),!1)])])}}))}))}zf(this,t),this.parent&&(0===t.length||function e(t){var n=t[t.length-1];return n instanceof jf?n.hasViewContainer:n instanceof Vf?ma(n.name)&&n.children.length?e(n.children):n.hasViewContainer:n instanceof Wf}(t))&&this.nodes.push((function(){return{sourceSpan:null,nodeFlags:1,nodeDef:vu(Yu.anchorDef).callFn([ku(0),Qo,Qo,ku(0)])}}))}},{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.children.forEach((function(t){return t.build(e)}));var t=this._createNodeExpressions(),n=t.updateRendererStmts,r=t.updateDirectivesStmts,i=t.nodeDefExprs,s=this._createUpdateFn(n),a=this._createUpdateFn(r),o=0;this.parent||this.component.changeDetection!==Ha.OnPush||(o|=2);var u=new Zo(this.viewName,[new Fo(by.name)],[new $o(vu(Yu.viewDef).callFn([ku(o),mu(i),a,s]))],du(Yu.ViewDefinition),0===this.embeddedViewIndex?[Ko.Exported]:[]);return e.push(u),e}},{key:"_createUpdateFn",value:function(e){var t;if(e.length>0){var n=[];!this.component.isHost&&uu(e).has(Ay.name)&&n.push(Ay.set(Sy.prop("component")).toDeclStmt(this.compType)),t=_u([new Fo(Ty.name,vo),new Fo(Sy.name,vo)],[].concat(n,_toConsumableArray(e)),vo)}else t=Qo;return t}},{key:"visitNgContent",value:function(e,t){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:vu(Yu.ngContentDef).callFn([ku(e.ngContentIndex),ku(e.index)])}}))}},{key:"visitText",value:function(e,t){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:vu(Yu.textDef).callFn([ku(-1),ku(e.ngContentIndex),mu([ku(e.value)])])}}))}},{key:"visitBoundText",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=e.value.ast,s=i.expressions.map((function(t,i){return n._preprocessUpdateExpression({nodeIndex:r,bindingIndex:i,sourceSpan:e.sourceSpan,context:Ay,value:t})})),a=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:vu(Yu.textDef).callFn([ku(a),ku(e.ngContentIndex),mu(i.strings.map((function(e){return ku(e)})))]),updateRenderer:s}}}},{key:"visitEmbeddedTemplate",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=this._visitElementOrTemplate(r,e),s=i.flags,a=i.queryMatchesExpr,o=i.hostEvents,u=this.viewBuilderFactory(this);this.children.push(u),u.visitAll(e.variables,e.children);var l=this.nodes.length-r-1;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:vu(Yu.anchorDef).callFn([ku(s),a,ku(e.ngContentIndex),ku(l),n._createElementHandleEventFn(r,o),fu(u.viewName)])}}}},{key:"visitElement",value:function(e,t){var n=this,r=this.nodes.length;this.nodes.push(null);var i=ma(e.name)?null:e.name,s=this._visitElementOrTemplate(r,e),a=s.flags,o=s.usedEvents,u=s.queryMatchesExpr,l=s.hostBindings,c=s.hostEvents,h=[],p=[],f=[];if(i){var v=e.inputs.map((function(e){return{context:Ay,inputAst:e,dirAst:null}})).concat(l);v.length&&(p=v.map((function(e,t){return n._preprocessUpdateExpression({context:e.context,nodeIndex:r,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})})),h=v.map((function(e){return function(e,t){var n=e.type;switch(n){case 1:return mu([ku(1),ku(e.name),ku(e.securityContext)]);case 0:return mu([ku(8),ku(e.name),ku(e.securityContext)]);case 4:return mu([ku(8|(t&&t.directive.isComponent?32:16)),ku("@"+e.name),ku(e.securityContext)]);case 2:return mu([ku(2),ku(e.name),Qo]);case 3:return mu([ku(4),ku(e.name),ku(e.unit)]);default:throw new Error("unexpected ".concat(n))}}(e.inputAst,e.dirAst)}))),f=o.map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1];return mu([ku(n),ku(r)])}))}zf(this,e.children);var d=this.nodes.length-r-1,y=e.directives.find((function(e){return e.directive.isComponent})),m=Qo,g=Qo;y&&(g=this.outputCtx.importExpr(y.directive.componentViewType),m=this.outputCtx.importExpr(y.directive.rendererType));var _=r;this.nodes[r]=function(){return{sourceSpan:e.sourceSpan,nodeFlags:1|a,nodeDef:vu(Yu.elementDef).callFn([ku(_),ku(a),u,ku(e.ngContentIndex),ku(d),ku(i),i?(t=e,s=Object.create(null),t.attrs.forEach((function(e){s[e.name]=e.value})),t.directives.forEach((function(e){Object.keys(e.directive.hostAttributes).forEach((function(t){var n,r,i,a=e.directive.hostAttributes[t],o=s[t];s[t]=null!=o?(r=o,i=a,(n=t)==Cy||n==Ey?"".concat(r," ").concat(i):i):a}))})),mu(Object.keys(s).sort().map((function(e){return mu([ku(e),ku(s[e])])})))):Qo,h.length?mu(h):Qo,f.length?mu(f):Qo,n._createElementHandleEventFn(r,c),g,m]),updateRenderer:p};var t,s}}},{key:"_visitElementOrTemplate",value:function(e,t){var n=this,r=0;t.hasViewContainer&&(r|=16777216);var i=new Map;t.outputs.forEach((function(e){var t=Ry(e,null),n=t.name,r=t.target;i.set(Ly(r,n),[r,n])})),t.directives.forEach((function(e){e.hostEvents.forEach((function(t){var n=Ry(t,e),r=n.name,s=n.target;i.set(Ly(s,r),[s,r])}))}));var s=[],a=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach((function(r,o){var u=void 0,l=void 0;if(t.directives.forEach((function(e,t){e.directive.type.reference===ul(r.token)&&(u=e,l=t)})),u){var c=n._visitDirective(r,u,l,e,t.references,t.queryMatches,i,n.staticQueryIds.get(t)),h=c.hostBindings,p=c.hostEvents;s.push.apply(s,_toConsumableArray(h)),a.push.apply(a,_toConsumableArray(p))}else n._visitProvider(r,t.queryMatches)}));var o=[];return t.queryMatches.forEach((function(e){var t=void 0;ul(e.value)===n.reflector.resolveExternalReference(Yu.ElementRef)?t=0:ul(e.value)===n.reflector.resolveExternalReference(Yu.ViewContainerRef)?t=3:ul(e.value)===n.reflector.resolveExternalReference(Yu.TemplateRef)&&(t=2),null!=t&&o.push(mu([ku(e.queryId),ku(t)]))})),t.references.forEach((function(t){var r=void 0;t.value?ul(t.value)===n.reflector.resolveExternalReference(Yu.TemplateRef)&&(r=2):r=1,null!=r&&(n.refNodeIndices[t.name]=e,o.push(mu([ku(t.name),ku(r)])))})),t.outputs.forEach((function(e){a.push({context:Ay,eventAst:e,dirAst:null})})),{flags:r,usedEvents:Array.from(i.values()),queryMatchesExpr:o.length?mu(o):Qo,hostBindings:s,hostEvents:a}}},{key:"_visitDirective",value:function(e,t,n,r,i,s,a,o){var u=this,l=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((function(e,n){var r=t.contentQueryStartId+n,i=67108864|Dy(o,r,e),s=e.first?0:1;u.nodes.push((function(){return{sourceSpan:t.sourceSpan,nodeFlags:i,nodeDef:vu(Yu.queryDef).callFn([ku(i),ku(r),new Wo([new qo(e.propertyName,ku(s),!1)])])}}))}));var c=this.nodes.length-l-1,h=this._visitProviderOrDirective(e,s),p=h.flags,f=h.queryMatchExprs,v=h.providerExpr,d=h.depsExpr;i.forEach((function(t){t.value&&ul(t.value)===ul(e.token)&&(u.refNodeIndices[t.name]=l,f.push(mu([ku(t.name),ku(4)])))})),t.directive.isComponent&&(p|=32768);var y=t.inputs.map((function(e,t){var n=mu([ku(t),ku(e.directiveName)]);return new qo(e.directiveName,n,!1)})),m=[],g=t.directive;Object.keys(g.outputs).forEach((function(e){var t=g.outputs[e];a.has(t)&&m.push(new qo(e,ku(t),!1))}));var _=[];(t.inputs.length||(327680&p)>0)&&(_=t.inputs.map((function(e,t){return u._preprocessUpdateExpression({nodeIndex:l,bindingIndex:t,sourceSpan:e.sourceSpan,context:Ay,value:e.value})})));var k=vu(Yu.nodeValue).callFn([Sy,ku(l)]),C=t.hostProperties.map((function(e){return{context:k,dirAst:t,inputAst:e}})),E=t.hostEvents.map((function(e){return{context:k,eventAst:e,dirAst:t}})),w=l;return this.nodes[l]=function(){return{sourceSpan:t.sourceSpan,nodeFlags:16384|p,nodeDef:vu(Yu.directiveDef).callFn([ku(w),ku(p),f.length?mu(f):Qo,ku(c),v,d,y.length?new Wo(y):Qo,m.length?new Wo(m):Qo]),updateDirectives:_,directive:t.directive.type}},{hostBindings:C,hostEvents:E}}},{key:"_visitProvider",value:function(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}},{key:"_visitComponentFactoryResolverProvider",value:function(e){var t=e.find((function(e){return e.directive.isComponent}));if(t&&t.directive.entryComponents.length){var n=vy(this.reflector,this.outputCtx,8192,t.directive.entryComponents),r=n.providerExpr,i=n.depsExpr,s=n.flags,a=n.tokenExpr;this._addProviderNode({providerExpr:r,depsExpr:i,flags:s,tokenExpr:a,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}},{key:"_addProviderNode",value:function(e){this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:vu(Yu.providerDef).callFn([ku(e.flags),e.queryMatchExprs.length?mu(e.queryMatchExprs):Qo,e.tokenExpr,e.providerExpr,e.depsExpr])}}))}},{key:"_visitProviderOrDirective",value:function(e,t){var n=[];t.forEach((function(t){ul(t.value)===ul(e.token)&&n.push(mu([ku(t.queryId),ku(4)]))}));var r=ly(this.outputCtx,e),i=r.providerExpr,s=r.depsExpr,a=r.flags,o=r.tokenExpr;return{flags:0|a,queryMatchExprs:n,providerExpr:i,depsExpr:s,tokenExpr:o,sourceSpan:e.sourceSpan}}},{key:"getLocal",value:function(e){if(e==Zh.event.name)return Zh.event;for(var t=Sy,n=this;n;n=n.parent,t=t.prop("parent").cast(fo)){var r=n.refNodeIndices[e];if(null!=r)return vu(Yu.nodeValue).callFn([t,ku(r)]);var i=n.variables.find((function(t){return t.name===e}));if(i){var s=i.value||"$implicit";return t.prop("context").prop(s)}}return null}},{key:"notifyImplicitReceiverUse",value:function(){}},{key:"_createLiteralArrayConverter",value:function(e,t){if(0===t){var n=vu(Yu.EMPTY_ARRAY);return function(){return n}}var r=this.nodes.length;return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:32,nodeDef:vu(Yu.pureArrayDef).callFn([ku(r),ku(t)])}})),function(e){return My(r,e)}}},{key:"_createLiteralMapConverter",value:function(e,t){if(0===t.length){var n=vu(Yu.EMPTY_MAP);return function(){return n}}var r=gu(t.map((function(e,t){return Object.assign({},e,{value:ku(t)})}))),i=this.nodes.length;return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:64,nodeDef:vu(Yu.pureObjectDef).callFn([ku(i),r])}})),function(e){return My(i,e)}}},{key:"_createPipeConverter",value:function(e,t,n){var r=this.usedPipes.find((function(e){return e.name===t}));if(r.pure){var i=this.nodes.length;this.nodes.push((function(){return{sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:vu(Yu.purePipeDef).callFn([ku(i),ku(n)])}}));for(var s=Sy,a=this;a.parent;)a=a.parent,s=s.prop("parent").cast(fo);var o=a.purePipeNodeIndices[t],u=vu(Yu.nodeValue).callFn([s,ku(o)]);return function(t){return Oy(e.nodeIndex,e.bindingIndex,My(i,[u].concat(t)))}}var l=this._createPipe(e.sourceSpan,r),c=vu(Yu.nodeValue).callFn([Sy,ku(l)]);return function(t){return Oy(e.nodeIndex,e.bindingIndex,c.callMethod("transform",t))}}},{key:"_createPipe",value:function(e,t){var n=this,r=this.nodes.length,i=0;t.type.lifecycleHooks.forEach((function(e){e===ny.OnDestroy&&(i|=fy(e))}));var s=t.type.diDeps.map((function(e){return py(n.outputCtx,e)}));return this.nodes.push((function(){return{sourceSpan:e,nodeFlags:16,nodeDef:vu(Yu.pipeDef).callFn([ku(i),n.outputCtx.importExpr(t.type.reference),mu(s)])}})),r}},{key:"_preprocessUpdateExpression",value:function(e){var t=this;return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:$h({createLiteralArrayConverter:function(n){return t._createLiteralArrayConverter(e.sourceSpan,n)},createLiteralMapConverter:function(n){return t._createLiteralMapConverter(e.sourceSpan,n)},createPipeConverter:function(n,r){return t._createPipeConverter(e,n,r)}},e.value)}}},{key:"_createNodeExpressions",value:function(){var e=this,t=0,n=[],r=[],i=this.nodes.map((function(e,t){var i=e(),a=i.nodeDef,o=i.nodeFlags,u=i.updateDirectives,l=i.updateRenderer,c=i.sourceSpan;return l&&n.push.apply(n,_toConsumableArray(s(t,c,l,!1))),u&&r.push.apply(r,_toConsumableArray(s(t,c,u,(327680&o)>0))),hu(3&o?new zo([by.callFn([]).callFn([]),a]):a,c)}));return{updateRendererStmts:n,updateDirectivesStmts:r,nodeDefExprs:i};function s(n,r,i,s){var a=[],o=i.map((function(n){var r=n.sourceSpan,i=n.context,s=n.value,o="".concat(t++),u=function(e,t,n,r,i,s){e||(e=new lp);var a=function(e){return fu("currVal_".concat(e))}(r),o=new up(e,t,r,void 0),u=n.visit(o,ip.Expression),l=function(e,t){for(var n=[],r=0;r<e.temporaryCount;r++)n.push(rp(t,r));return n}(o,r);return o.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===o.temporaryCount&&i==tp.TrySimple?new ep([],u):(l.push(a.set(u).toDeclStmt(fo,[Ko.Final])),new ep(l,a))}(i===Ay?e:null,i,s,o,tp.General),l=u.stmts,c=u.currValExpr;return a.push.apply(a,_toConsumableArray(l.map((function(e){return cu(e,r)})))),hu(c,r)}));return(i.length||s)&&a.push(cu(My(n,o).toStmt(),r)),a}}},{key:"_createElementHandleEventFn",value:function(e,t){var n,r=this,i=[],s=0;if(t.forEach((function(e){var t=e.context,n=e.eventAst,a=e.dirAst,o="".concat(s++),u=function(e,t,n,r,i,s){e||(e=new lp);var a=$h({createLiteralArrayConverter:function(e){return function(e){return mu(e)}},createLiteralMapConverter:function(e){return function(t){return gu(e.map((function(e,n){return{key:e.key,value:t[n],quoted:e.quoted}})))}},createPipeConverter:function(e){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: ".concat(e))}},n),o=new up(e,t,r,void 0,void 0),u=[];!function e(t,n){Array.isArray(t)?t.forEach((function(t){return e(t,n)})):n.push(t)}(a.visit(o,ip.Statement),u),function(e,t,n){for(var r=e-1;r>=0;r--)n.unshift(rp(t,r))}(o.temporaryCount,r,u),o.usesImplicitReceiver&&e.notifyImplicitReceiverUse();var l,c=u.length-1,h=null;if(c>=0){var p=(l=u[c])instanceof Jo?l.expr:l instanceof $o?l.value:null;p&&(h=function(e){return fu("pd_".concat(e))}(r),u[c]=h.set(p.cast(fo).notIdentical(ku(!1))).toDeclStmt(null,[Ko.Final]))}return new Jh(u,h)}(t===Ay?r:null,t,n.handler,o),l=u.stmts,c=u.allowDefault,h=l;c&&h.push(Ny.set(c.and(Ny)).toStmt());var p=Ry(n,a),f=Ly(p.target,p.name);i.push(cu(new iu(ku(f).identical(Py),h),n.sourceSpan))})),i.length>0){var a=[Ny.set(ku(!0)).toDeclStmt(yo)];!this.component.isHost&&uu(i).has(Ay.name)&&a.push(Ay.set(Sy.prop("component")).toDeclStmt(this.compType)),n=_u([new Fo(Sy.name,vo),new Fo(Py.name,vo),new Fo(Zh.event.name,vo)],[].concat(a,i,[new $o(Ny)]),vo)}else n=Qo;return n}},{key:"visitDirective",value:function(e,t){}},{key:"visitDirectiveProperty",value:function(e,t){}},{key:"visitReference",value:function(e,t){}},{key:"visitVariable",value:function(e,t){}},{key:"visitEvent",value:function(e,t){}},{key:"visitElementProperty",value:function(e,t){}},{key:"visitAttr",value:function(e,t){}}]),e}();function My(e,t){return Ty.callFn(t.length>10?[Sy,ku(e),ku(1),mu(t)]:[Sy,ku(e),ku(0)].concat(_toConsumableArray(t)))}function Oy(e,t,n){return vu(Yu.unwrapValue).callFn([Sy,ku(e),ku(t),n])}function Ry(e,t){return e.isAnimation?{name:"@".concat(e.name,".").concat(e.phase),target:t&&t.directive.isComponent?"component":null}:e}function Dy(e,t,n){var r=0;return n.first&&function(e,t,n){return n.static||null==n.static&&(e.staticQueryIds.has(t)||!e.dynamicQueryIds.has(t))}(e,t,n)?r|=268435456:r|=536870912,r}function Ly(e,t){return e?"".concat(e,":").concat(t):t}var Fy=function e(){_classCallCheck(this,e)},Vy=function(){function e(){_classCallCheck(this,e),this._summaries=new Map}return _createClass(e,[{key:"isLibraryFile",value:function(){return!1}},{key:"toSummaryFileName",value:function(e){return e}},{key:"fromSummaryFileName",value:function(e){return e}},{key:"resolveSummary",value:function(e){return this._summaries.get(e)||null}},{key:"getSymbolsOf",value:function(){return[]}},{key:"getImportAs",value:function(e){return e}},{key:"getKnownModuleName",value:function(e){return null}},{key:"addSummary",value:function(e){this._summaries.set(e.symbol,e)}}]),e}();function jy(e,t,n,r,i){for(var s=r.createChildWihtLocalVars(),a=0;a<e.length;a++)s.vars.set(e[a],t[a]);var o=i.visitAllStatements(n,s);return o?o.value:null}var Uy=function(){function e(t,n,r,i){_classCallCheck(this,e),this.parent=t,this.instance=n,this.className=r,this.vars=i,this.exports=[]}return _createClass(e,[{key:"createChildWihtLocalVars",value:function(){return new e(this,this.instance,this.className,new Map)}}]),e}(),Hy=function e(t){_classCallCheck(this,e),this.value=t},By=function(){function e(t){_classCallCheck(this,e),this.reflector=t}return _createClass(e,[{key:"debugAst",value:function(e){return function(e){var t=new _y,n=ch.createRoot();return(Array.isArray(e)?e:[e]).forEach((function(e){if(e instanceof Yo)e.visitStatement(t,n);else if(e instanceof ko)e.visitExpression(t,n);else{if(!(e instanceof oo))throw new Error("Don't know how to print debug info for ".concat(e));e.visitType(t,n)}})),n.toSource()}(e)}},{key:"visitDeclareVarStmt",value:function(e,t){var n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(Ko.Exported)&&t.exports.push(e.name),null}},{key:"visitWriteVarExpr",value:function(e,t){for(var n=e.value.visitExpression(this,t),r=t;null!=r;){if(r.vars.has(e.name))return r.vars.set(e.name,n),n;r=r.parent}throw new Error("Not declared variable ".concat(e.name))}},{key:"visitWrappedNodeExpr",value:function(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function(e,t){throw new Error("Cannot interpret a TypeofExpr")}},{key:"visitReadVarExpr",value:function(e,t){var n=e.name;if(null!=e.builtin)switch(e.builtin){case Co.Super:return Object.getPrototypeOf(t.instance);case Co.This:return t.instance;case Co.CatchError:n=Wy;break;case Co.CatchStack:n=zy;break;default:throw new Error("Unknown builtin variable ".concat(e.builtin))}for(var r=t;null!=r;){if(r.vars.has(n))return r.vars.get(n);r=r.parent}throw new Error("Not declared variable ".concat(n))}},{key:"visitWriteKeyExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.index.visitExpression(this,t),i=e.value.visitExpression(this,t);return n[r]=i,i}},{key:"visitWritePropExpr",value:function(e,t){var n=e.receiver.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[e.name]=r,r}},{key:"visitInvokeMethodExpr",value:function(e,t){var n,r=e.receiver.visitExpression(this,t),i=this.visitAllExpressions(e.args,t);if(null!=e.builtin)switch(e.builtin){case To.ConcatArray:n=r.concat.apply(r,_toConsumableArray(i));break;case To.SubscribeObservable:n=r.subscribe({next:i[0]});break;case To.Bind:n=r.bind.apply(r,_toConsumableArray(i));break;default:throw new Error("Unknown builtin method ".concat(e.builtin))}else n=r[e.name].apply(r,i);return n}},{key:"visitInvokeFunctionExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t),r=e.fn;return r instanceof Eo&&r.builtin===Co.Super?(t.instance.constructor.prototype.constructor.apply(t.instance,n),null):e.fn.visitExpression(this,t).apply(null,n)}},{key:"visitReturnStmt",value:function(e,t){return new Hy(e.value.visitExpression(this,t))}},{key:"visitDeclareClassStmt",value:function(e,t){var n=function(e,t,n){var r={};e.getters.forEach((function(i){r[i.name]={configurable:!1,get:function(){var r=new Uy(t,this,e.name,t.vars);return jy([],[],i.body,r,n)}}})),e.methods.forEach((function(i){var s=i.params.map((function(e){return e.name}));r[i.name]={writable:!1,configurable:!1,value:function(){for(var r=new Uy(t,this,e.name,t.vars),a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return jy(s,o,i.body,r,n)}}}));var i=e.constructorMethod.params.map((function(e){return e.name})),s=function(){for(var r=this,s=new Uy(t,this,e.name,t.vars),a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];e.fields.forEach((function(e){r[e.name]=void 0})),jy(i,o,e.constructorMethod.body,s,n)},a=e.parent?e.parent.visitExpression(n,t):Object;return s.prototype=Object.create(a.prototype,r),s}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(Ko.Exported)&&t.exports.push(e.name),null}},{key:"visitExpressionStmt",value:function(e,t){return e.expr.visitExpression(this,t)}},{key:"visitIfStmt",value:function(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}},{key:"visitTryCatchStmt",value:function(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(r){var n=t.createChildWihtLocalVars();return n.vars.set(Wy,r),n.vars.set(zy,r.stack),this.visitAllStatements(e.catchStmts,n)}}},{key:"visitThrowStmt",value:function(e,t){throw e.error.visitExpression(this,t)}},{key:"visitCommentStmt",value:function(e,t){return null}},{key:"visitJSDocCommentStmt",value:function(e,t){return null}},{key:"visitInstantiateExpr",value:function(e,t){var n=this.visitAllExpressions(e.args,t);return _construct(e.classExpr.visitExpression(this,t),_toConsumableArray(n))}},{key:"visitLiteralExpr",value:function(e,t){return e.value}},{key:"visitExternalExpr",value:function(e,t){return this.reflector.resolveExternalReference(e.value)}},{key:"visitConditionalExpr",value:function(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}},{key:"visitNotExpr",value:function(e,t){return!e.condition.visitExpression(this,t)}},{key:"visitAssertNotNullExpr",value:function(e,t){return e.condition.visitExpression(this,t)}},{key:"visitCastExpr",value:function(e,t){return e.value.visitExpression(this,t)}},{key:"visitFunctionExpr",value:function(e,t){return qy(e.params.map((function(e){return e.name})),e.statements,t,this)}},{key:"visitDeclareFunctionStmt",value:function(e,t){var n=e.params.map((function(e){return e.name}));return t.vars.set(e.name,qy(n,e.statements,t,this)),e.hasModifier(Ko.Exported)&&t.exports.push(e.name),null}},{key:"visitBinaryOperatorExpr",value:function(e,t){var n=this,r=function(){return e.lhs.visitExpression(n,t)},i=function(){return e.rhs.visitExpression(n,t)};switch(e.operator){case mo.Equals:return r()==i();case mo.Identical:return r()===i();case mo.NotEquals:return r()!=i();case mo.NotIdentical:return r()!==i();case mo.And:return r()&&i();case mo.Or:return r()||i();case mo.Plus:return r()+i();case mo.Minus:return r()-i();case mo.Divide:return r()/i();case mo.Multiply:return r()*i();case mo.Modulo:return r()%i();case mo.Lower:return r()<i();case mo.LowerEquals:return r()<=i();case mo.Bigger:return r()>i();case mo.BiggerEquals:return r()>=i();default:throw new Error("Unknown operator ".concat(e.operator))}}},{key:"visitReadPropExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.name]}},{key:"visitReadKeyExpr",value:function(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}},{key:"visitLiteralArrayExpr",value:function(e,t){return this.visitAllExpressions(e.entries,t)}},{key:"visitLiteralMapExpr",value:function(e,t){var n=this,r={};return e.entries.forEach((function(e){return r[e.key]=e.value.visitExpression(n,t)})),r}},{key:"visitCommaExpr",value:function(e,t){var n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}},{key:"visitAllExpressions",value:function(e,t){var n=this;return e.map((function(e){return e.visitExpression(n,t)}))}},{key:"visitAllStatements",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].visitStatement(this,t);if(r instanceof Hy)return r}return null}}]),e}();function qy(e,t,n,r){return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return jy(e,s,t,n,r)}}var Wy="error",zy="stack",Qy=function(){function e(t,n,r,i,s,a,o,u,l,c,h){_classCallCheck(this,e),this._metadataResolver=t,this._templateParser=n,this._styleCompiler=r,this._viewCompiler=i,this._ngModuleCompiler=s,this._summaryResolver=a,this._reflector=o,this._jitEvaluator=u,this._compilerConfig=l,this._console=c,this.getExtraNgModuleProviders=h,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}return _createClass(e,[{key:"compileModuleSync",value:function(e){return Au(this._compileModuleAndComponents(e,!0))}},{key:"compileModuleAsync",value:function(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}},{key:"compileModuleAndAllComponentsSync",value:function(e){return Au(this._compileModuleAndAllComponents(e,!0))}},{key:"compileModuleAndAllComponentsAsync",value:function(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}},{key:"getComponentFactory",value:function(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}},{key:"loadAotSummaries",value:function(e){this.clearCache(),this._addAotSummaries(e)}},{key:"_addAotSummaries",value:function(e){if(!this._addedAotSummaries.has(e)){this._addedAotSummaries.add(e);for(var t=e(),n=0;n<t.length;n++){var r=t[n];"function"==typeof r?this._addAotSummaries(r):this._summaryResolver.addSummary({symbol:r.type.reference,metadata:null,type:r})}}}},{key:"hasAotSummary",value:function(e){return!!this._summaryResolver.resolveSummary(e)}},{key:"_filterJitIdentifiers",value:function(e){var t=this;return e.map((function(e){return e.reference})).filter((function(e){return!t.hasAotSummary(e)}))}},{key:"_compileModuleAndComponents",value:function(e,t){var n=this;return Pu(this._loadModules(e,t),(function(){return n._compileComponents(e,null),n._compileModule(e)}))}},{key:"_compileModuleAndAllComponents",value:function(e,t){var n=this;return Pu(this._loadModules(e,t),(function(){var t=[];return n._compileComponents(e,t),{ngModuleFactory:n._compileModule(e),componentFactories:t}}))}},{key:"_loadModules",value:function(e,t){var n=this,r=[],i=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(i.transitiveModule.modules).forEach((function(e){var i=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(i.declaredDirectives).forEach((function(e){var s=n._metadataResolver.loadDirectiveMetadata(i.type.reference,e,t);s&&r.push(s)})),n._filterJitIdentifiers(i.declaredPipes).forEach((function(e){return n._metadataResolver.getOrLoadPipeMetadata(e)}))})),Nu(r)}},{key:"_compileModule",value:function(e){var t=this._compiledNgModuleCache.get(e);if(!t){var n=this._metadataResolver.getNgModuleMetadata(e),r=this.getExtraNgModuleProviders(n.type.reference),i=Yy(),s=this._ngModuleCompiler.compile(i,n,r);t=this._interpretOrJit(function(e){return ml("".concat(nl(e.type),"/module.ngfactory.js"))}(n),i.statements)[s.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}},{key:"_compileComponents",value:function(e,t){var n=this,r=this._metadataResolver.getNgModuleMetadata(e),i=new Map,s=new Set,a=this._filterJitIdentifiers(r.transitiveModule.modules);a.forEach((function(e){var r=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(r.declaredDirectives).forEach((function(e){i.set(e,r);var a=n._metadataResolver.getDirectiveMetadata(e);if(a.isComponent&&(s.add(n._createCompiledTemplate(a,r)),t)){var o=n._createCompiledHostTemplate(a.type.reference,r);s.add(o),t.push(a.componentFactory)}}))})),a.forEach((function(e){var t=n._metadataResolver.getNgModuleMetadata(e);n._filterJitIdentifiers(t.declaredDirectives).forEach((function(e){var t=n._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach((function(e){var t=i.get(e.componentType);s.add(n._createCompiledHostTemplate(e.componentType,t))}))})),t.entryComponents.forEach((function(e){if(!n.hasAotSummary(e.componentType)){var t=i.get(e.componentType);s.add(n._createCompiledHostTemplate(e.componentType,t))}}))})),s.forEach((function(e){return n._compileTemplate(e)}))}},{key:"clearCacheFor",value:function(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}},{key:"clearCache",value:function(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}},{key:"_createCompiledHostTemplate",value:function(e,t){if(!t)throw new Error("Component ".concat(Vu(e)," is not part of any NgModule or the module has not been imported into your module."));var n=this._compiledHostTemplateCache.get(e);if(!n){var r=this._metadataResolver.getDirectiveMetadata(e);Ky(r);var i=this._metadataResolver.getHostComponentMetadata(r,r.componentFactory.viewDefFactory);n=new Xy(!0,r.type,i,t,[r.type]),this._compiledHostTemplateCache.set(e,n)}return n}},{key:"_createCompiledTemplate",value:function(e,t){var n=this._compiledTemplateCache.get(e.type.reference);return n||(Ky(e),n=new Xy(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}},{key:"_compileTemplate",value:function(e){var t=this;if(!e.isCompiled){var n=e.compMeta,r=new Map,i=Yy(),s=this._styleCompiler.compileComponent(i,n);n.template.externalStylesheets.forEach((function(e){var i=t._styleCompiler.compileStyles(Yy(),n,e);r.set(e.moduleUrl,i)})),this._resolveStylesCompileResult(s,r),e.ngModule.transitiveModule.pipes.map((function(e){return t._metadataResolver.getPipeSummary(e.reference)}));var a=this._parseTemplate(n,e.ngModule,e.directives),o=a.template,u=a.pipes,l=this._viewCompiler.compileComponent(i,n,o,fu(s.stylesVar),u),c=this._interpretOrJit(function(e,t){return ml("".concat(nl(e),"/").concat(nl(t.type),".ngfactory.js"))}(e.ngModule.type,e.compMeta),i.statements);e.compiled(c[l.viewClassVar],c[l.rendererTypeVar])}}},{key:"_parseTemplate",value:function(e,t,n){var r=this,i=e.template.preserveWhitespaces,s=n.map((function(e){return r._metadataResolver.getDirectiveSummary(e.reference)})),a=t.transitiveModule.pipes.map((function(e){return r._metadataResolver.getPipeSummary(e.reference)}));return this._templateParser.parse(e,e.template.htmlAst,s,a,t.schemas,gl(t.type,e,e.template),i)}},{key:"_resolveStylesCompileResult",value:function(e,t){var n=this;e.dependencies.forEach((function(e,r){var i=t.get(e.moduleUrl),s=n._resolveAndEvalStylesCompileResult(i,t);e.setValue(s)}))}},{key:"_resolveAndEvalStylesCompileResult",value:function(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit((n=e.meta,r=this._sharedStylesheetCount++,i=n.moduleUrl.split(/\/\\/g),ml("css/".concat(r).concat(i[i.length-1],".ngstyle.js"))),e.outputCtx.statements)[e.stylesVar];var n,r,i}},{key:"_interpretOrJit",value:function(e,t){return this._compilerConfig.useJit?this._jitEvaluator.evaluateStatements(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){var n=new Uy(null,null,null,new Map);new By(t).visitAllStatements(e,n);var r={};return n.exports.forEach((function(e){r[e]=n.vars.get(e)})),r}(t,this._reflector)}}]),e}(),Xy=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this.isHost=t,this.compType=n,this.compMeta=r,this.ngModule=i,this.directives=s,this._viewClass=null,this.isCompiled=!1}return _createClass(e,[{key:"compiled",value:function(e,t){for(var n in this._viewClass=e,this.compMeta.componentViewType.setDelegate(e),t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}]),e}();function Ky(e){if(!e.isComponent)throw new Error("Could not compile '".concat(nl(e.type),"' because it is not a component."))}function Yy(){return{statements:[],genFilePath:"",importExpr:function(e){return vu({name:nl(e),moduleName:null,runtime:e})},constantPool:new Wu}}var Gy=function e(){_classCallCheck(this,e)},Zy=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,e),this._packagePrefix=t}return _createClass(e,[{key:"resolve",value:function(e,t){var n=t;null!=e&&e.length>0&&(n=function(e,t){var n=em(encodeURI(t)),r=em(e);if(null!=n[$y.Scheme])return tm(n);n[$y.Scheme]=r[$y.Scheme];for(var i=$y.Scheme;i<=$y.Port;i++)null==n[i]&&(n[i]=r[i]);if("/"==n[$y.Path][0])return tm(n);var s=r[$y.Path];null==s&&(s="/");var a=s.lastIndexOf("/");return s=s.substring(0,a+1)+n[$y.Path],n[$y.Path]=s,tm(n)}(e,n));var r=em(n),i=this._packagePrefix;if(null!=i&&null!=r&&"package"==r[$y.Scheme]){var s=r[$y.Path];return"".concat(i=i.replace(/\/+$/,""),"/").concat(s=s.replace(/^\/+/,""))}return n}}]),e}(),Jy=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),$y=function(e){return e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment",e}({});function em(e){return e.match(Jy)}function tm(e){var t,n,r,i,s,a,o,u,l=e[$y.Path];return l=null==l?"":function(e){if("/"==e)return"/";for(var t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",r=e.split("/"),i=[],s=0,a=0;a<r.length;a++){var o=r[a];switch(o){case"":case".":break;case"..":i.length>0?i.pop():s++;break;default:i.push(o)}}if(""==t){for(;s-- >0;)i.unshift("..");0===i.length&&i.push(".")}return t+i.join("/")+n}(l),e[$y.Path]=l,t=e[$y.Scheme],n=e[$y.UserInfo],r=e[$y.Domain],i=e[$y.Port],s=l,a=e[$y.QueryData],o=e[$y.Fragment],u=[],null!=t&&u.push(t+":"),null!=r&&(u.push("//"),null!=n&&u.push(n+"@"),u.push(r),null!=i&&u.push(":"+i)),null!=s&&u.push(s),null!=a&&u.push("?"+a),null!=o&&u.push("#"+o),u.join("")}var nm=function e(){_classCallCheck(this,e)},rm=new ve("DocumentToken"),im=null;function sm(){return im}var am,om=function(e){function t(){var e;_classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=s[t])}))}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return _inherits(t,e),_createClass(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),t}(function(){function e(){_classCallCheck(this,e),this.resourceLoaderType=null}return _createClass(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}()),um={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},lm={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cm={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hm=function(){if(fe.Node)return fe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),pm=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return hm.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&cm.hasOwnProperty(t)&&(t=cm[t]))}return lm[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=fm||(fm=document.querySelector("base"))?fm.getAttribute("href"):null;return null==n?null:(t=n,am||(am=document.createElement("a")),am.setAttribute("href",t),"/"===am.pathname.charAt(0)?am.pathname:"/"+am.pathname)}},{key:"resetBaseElement",value:function(){fm=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return function(e,t){t=encodeURIComponent(t);var n=!0,r=!1,i=void 0;try{for(var s,a=e.split(";")[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var o=s.value,u=o.indexOf("="),l=_slicedToArray(-1==u?[o,""]:[o.slice(0,u),o.slice(u+1)],2),c=l[0],h=l[1];if(c.trim()===t)return decodeURIComponent(h)}}catch(p){r=!0,i=p}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return um}}],[{key:"makeCurrent",value:function(){var e;e=new t,im||(im=e)}}]),t}(om),fm=null;function vm(){return!!window.history.pushState}var dm=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){fe.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},fe.getAllAngularTestabilities=function(){return e.getAllTestabilities()},fe.getAllAngularRootElements=function(){return e.getAllRootElements()},fe.frameworkStabilizers||(fe.frameworkStabilizers=[]),fe.frameworkStabilizers.push((function(e){var t=fe.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?sm().isShadowRoot(t)?this.findTestabilityInTree(e,sm().getHost(t),!0):this.findTestabilityInTree(e,sm().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,bi=t}}]),e}(),ym=[{provide:Wr,useValue:"browser"},{provide:qr,useValue:function(){pm.makeCurrent(),dm.init()},multi:!0},{provide:nm,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass(t,[{key:"_init",value:function(){this.location=sm().getLocation(),this._history=sm().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return sm().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){sm().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){sm().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){vm()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){vm()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(nm),deps:[rm]},{provide:rm,useFactory:function(){return document},deps:[]}];"undefined"!=typeof window&&window;var mm,gm=((mm=new Map).set(Yu.ANALYZE_FOR_ENTRY_COMPONENTS,ft),mm.set(Yu.ElementRef,It),mm.set(Yu.NgModuleRef,Se),mm.set(Yu.ViewContainerRef,Ut),mm.set(Yu.ChangeDetectorRef,Qe),mm.set(Yu.Renderer2,Dt),mm.set(Yu.QueryList,Hr),mm.set(Yu.TemplateRef,Vt),mm.set(Yu.CodegenComponentFactoryResolver,At),mm.set(Yu.ComponentFactoryResolver,Tt),mm.set(Yu.ComponentFactory,wt),mm.set(Yu.ComponentRef,Et),mm.set(Yu.NgModuleFactory,Te),mm.set(Yu.createModuleFactory,fa),mm.set(Yu.moduleDef,qn),mm.set(Yu.moduleProviderDef,Bn),mm.set(Yu.RegisterModuleFactoryFn,Vr),mm.set(Yu.Injector,st),mm.set(Yu.ViewEncapsulation,Ie),mm.set(Yu.ChangeDetectionStrategy,Ne),mm.set(Yu.SecurityContext,Be),mm.set(Yu.LOCALE_ID,Kr),mm.set(Yu.TRANSLATIONS_FORMAT,Gr),mm.set(Yu.inlineInterpolate,Rn),mm.set(Yu.interpolate,On),mm.set(Yu.EMPTY_ARRAY,Ln),mm.set(Yu.EMPTY_MAP,Fn),mm.set(Yu.Renderer,Ot),mm.set(Yu.viewDef,us),mm.set(Yu.elementDef,qi),mm.set(Yu.anchorDef,Bi),mm.set(Yu.textDef,ss),mm.set(Yu.directiveDef,kr),mm.set(Yu.providerDef,Er),mm.set(Yu.queryDef,Ki),mm.set(Yu.pureArrayDef,ns),mm.set(Yu.pureObjectDef,rs),mm.set(Yu.purePipeDef,ts),mm.set(Yu.pipeDef,Cr),mm.set(Yu.nodeValue,or),mm.set(Yu.ngContentDef,$i),mm.set(Yu.unwrapValue,nn),mm.set(Yu.createRendererType2,an),mm.set(Yu.createComponentFactory,Gn),mm),_m=function(){function e(){_classCallCheck(this,e),this.reflectionCapabilities=new et}return _createClass(e,[{key:"componentModuleUrl",value:function(e,t){var n,r=t.moduleId;if("string"==typeof r)return(n=em(r))&&n[$y.Scheme]?r:"package:".concat(r).concat("");if(null!=r)throw Mu('moduleId should be a string in "'.concat(se(e),'". See https://goo.gl/wIDDiL for more information.\n')+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return"./".concat(se(e))}},{key:"parameters",value:function(e){return this.reflectionCapabilities.parameters(e)}},{key:"tryAnnotations",value:function(e){return this.annotations(e)}},{key:"annotations",value:function(e){return this.reflectionCapabilities.annotations(e)}},{key:"shallowAnnotations",value:function(e){throw new Error("Not supported in JIT mode")}},{key:"propMetadata",value:function(e){return this.reflectionCapabilities.propMetadata(e)}},{key:"hasLifecycleHook",value:function(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}},{key:"guards",value:function(e){return this.reflectionCapabilities.guards(e)}},{key:"resolveExternalReference",value:function(e){return gm.get(e)||e.runtime}}]),e}();var km=new ve("ErrorCollector"),Cm={provide:Qr,useValue:"/"},Em={get:function(e){throw new Error("No ResourceLoader implementation has been provided. Can't read the url \"".concat(e,'"'))}},wm=new ve("HtmlParser"),xm=[{provide:Gy,useValue:new _m},{provide:gd,useValue:Em},{provide:Vy,deps:[]},{provide:Fy,useExisting:Vy},{provide:Xr,deps:[]},{provide:Uv,deps:[]},{provide:ed,deps:[Uv]},{provide:wm,useClass:gf,deps:[]},{provide:Jd,useFactory:function(e,t,n,r,i){return new Jd(e,t=t||"",n,t?r.missingTranslation:Zr.Ignore,i)},deps:[wm,[new Z,new G(Yr)],[new Z,new G(Gr)],[_d],[Xr]]},{provide:gf,useExisting:Jd},{provide:Tv,deps:[_d,Gy,ed,sd,Jd,Xr]},{provide:dh,useClass:dh,deps:[]},{provide:Cd,deps:[gd,Zy,gf,_d]},{provide:iy,deps:[_d,gf,gy,xd,ky,Fy,sd,Cd,Xr,[Z,function(){function e(){_classCallCheck(this,e),this.cache=new Map}return _createClass(e,[{key:"get",value:function(e,t,n){var r='"'.concat(e,'".').concat(t).concat((n=n||[]).length?".".concat(n.join(".")):""),i=this.cache.get(r);return i||(i=new Ju(e,t,n),this.cache.set(r,i)),i}}]),e}()],Gy,[Z,km]]},Cm,{provide:Up,deps:[Zy]},{provide:xy,deps:[Gy]},{provide:my,deps:[Gy]},{provide:_d,useValue:new _d},{provide:si,useClass:function(){function e(t,n,r,i,s,a,o,u,l,c,h){_classCallCheck(this,e),this._metadataResolver=n,this._delegate=new Qy(n,r,i,s,a,o,u,l,c,h,this.getExtraNgModuleProviders.bind(this)),this.injector=t}return _createClass(e,[{key:"getExtraNgModuleProviders",value:function(){return[this._metadataResolver.getProviderMetadata(new yl(si,{useValue:this}))]}},{key:"compileModuleSync",value:function(e){return this._delegate.compileModuleSync(e)}},{key:"compileModuleAsync",value:function(e){return this._delegate.compileModuleAsync(e)}},{key:"compileModuleAndAllComponentsSync",value:function(e){var t=this._delegate.compileModuleAndAllComponentsSync(e);return{ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}}},{key:"compileModuleAndAllComponentsAsync",value:function(e){return this._delegate.compileModuleAndAllComponentsAsync(e).then((function(e){return{ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}}))}},{key:"loadAotSummaries",value:function(e){this._delegate.loadAotSummaries(e)}},{key:"hasAotSummary",value:function(e){return this._delegate.hasAotSummary(e)}},{key:"getComponentFactory",value:function(e){return this._delegate.getComponentFactory(e)}},{key:"clearCache",value:function(){this._delegate.clearCache()}},{key:"clearCacheFor",value:function(e){this._delegate.clearCacheFor(e)}},{key:"getModuleId",value:function(e){var t=this._metadataResolver.getNgModuleMetadata(e);return t&&t.id||void 0}}]),e}(),deps:[st,iy,Tv,Up,xy,my,Fy,Gy,dh,_d,Xr]},{provide:pd,deps:[]},{provide:sd,useExisting:pd},{provide:Zy,deps:[Qr]},{provide:xd,deps:[Gy]},{provide:ky,deps:[Gy]},{provide:gy,deps:[Gy]}];function bm(e){for(var t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}function Sm(e){var t=[];return e.forEach((function(e){return e&&t.push.apply(t,_toConsumableArray(e))})),t}var Tm=Ai(Ai(Hi,"coreDynamic",[{provide:ai,useValue:{},multi:!0},{provide:oi,useClass:function(){function e(t){_classCallCheck(this,e),this._defaultOptions=[{useJit:!0,defaultEncapsulation:Ie.Emulated,missingTranslation:Zr.Warning}].concat(_toConsumableArray(t))}return _createClass(e,[{key:"createCompiler",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={useJit:bm((e=this._defaultOptions.concat(t)).map((function(e){return e.useJit}))),defaultEncapsulation:bm(e.map((function(e){return e.defaultEncapsulation}))),providers:Sm(e.map((function(e){return e.providers}))),missingTranslation:bm(e.map((function(e){return e.missingTranslation}))),preserveWhitespaces:bm(e.map((function(e){return e.preserveWhitespaces})))};return st.create([xm,{provide:_d,useFactory:function(){return new _d({useJit:n.useJit,jitDevMode:He(),defaultEncapsulation:n.defaultEncapsulation,missingTranslation:n.missingTranslation,preserveWhitespaces:n.preserveWhitespaces})},deps:[]},n.providers]).get(si)}}]),e}(),deps:[ai]}]),"browserDynamic",[ym,{provide:ai,useValue:{providers:[{provide:gd,useClass:function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"get",value:function(e){var t,n,r=new Promise((function(e,r){t=e,n=r})),i=new XMLHttpRequest;return i.open("GET",e,!0),i.responseType="text",i.onload=function(){var r=i.response||i.responseText,s=1223===i.status?204:i.status;0===s&&(s=r?200:0),200<=s&&s<=300?t(r):n("Failed to load ".concat(e))},i.onerror=function(){n("Failed to load ".concat(e))},i.send(),r}}]),t}(gd),deps:[]}]},multi:!0},{provide:Wr,useValue:"browser"}]),Am=function e(){_classCallCheck(this,e)};(function(){if(Ue)throw new Error("Cannot enable prod mode after platform setup.");je=!1})(),Tm().bootstrapModule(Am).catch((function(e){return console.error(e)})),Tm().bootstrapModule(Am).then((function(){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then((function(e){return!e&&navigator.serviceWorker.register("/ngsw-worker.js")})).catch(console.error)})).catch((function(e){return console.log(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);